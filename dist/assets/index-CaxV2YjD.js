var c2=Object.defineProperty;var f2=(t,e,n)=>e in t?c2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qp=(t,e,n)=>f2(t,typeof e!="symbol"?e+"":e,n);function d2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function hr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h2(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Zp={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function p2(){if(fE)return _l;fE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var dE;function m2(){return dE||(dE=1,Zp.exports=p2()),Zp.exports}var M=m2(),em={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function g2(){if(hE)return we;hE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function P(q,F,oe){this.props=q,this.context=F,this.refs=A,this.updater=oe||E}P.prototype.isReactComponent={},P.prototype.setState=function(q,F){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,F,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=P.prototype;function O(q,F,oe){this.props=q,this.context=F,this.refs=A,this.updater=oe||E}var D=O.prototype=new C;D.constructor=O,S(D,P.prototype),D.isPureReactComponent=!0;var I=Array.isArray;function R(){}var k={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(q,F,oe){var le=oe.ref;return{$$typeof:t,type:q,key:F,ref:le!==void 0?le:null,props:oe}}function X(q,F){return U(q.type,F,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function Y(q){var F={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(oe){return F[oe]})}var ne=/\/+/g;function ie(q,F){return typeof q=="object"&&q!==null&&q.key!=null?Y(""+q.key):F.toString(36)}function ve(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(R,R):(q.status="pending",q.then(function(F){q.status==="pending"&&(q.status="fulfilled",q.value=F)},function(F){q.status==="pending"&&(q.status="rejected",q.reason=F)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function $(q,F,oe,le,pe){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(Te){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case t:case e:ke=!0;break;case h:return ke=q._init,$(ke(q._payload),F,oe,le,pe)}}if(ke)return pe=pe(q),ke=le===""?"."+ie(q,0):le,I(pe)?(oe="",ke!=null&&(oe=ke.replace(ne,"$&/")+"/"),$(pe,F,oe,"",function(Ee){return Ee})):pe!=null&&(V(pe)&&(pe=X(pe,oe+(pe.key==null||q&&q.key===pe.key?"":(""+pe.key).replace(ne,"$&/")+"/")+ke)),F.push(pe)),1;ke=0;var $t=le===""?".":le+":";if(I(q))for(var ae=0;ae<q.length;ae++)le=q[ae],Te=$t+ie(le,ae),ke+=$(le,F,oe,Te,pe);else if(ae=w(q),typeof ae=="function")for(q=ae.call(q),ae=0;!(le=q.next()).done;)le=le.value,Te=$t+ie(le,ae++),ke+=$(le,F,oe,Te,pe);else if(Te==="object"){if(typeof q.then=="function")return $(ve(q),F,oe,le,pe);throw F=String(q),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(q,F,oe){if(q==null)return q;var le=[],pe=0;return $(q,le,"","",function(Te){return F.call(oe,Te,pe++)}),le}function se(q){if(q._status===-1){var F=q._result;F=F(),F.then(function(oe){(q._status===0||q._status===-1)&&(q._status=1,q._result=oe)},function(oe){(q._status===0||q._status===-1)&&(q._status=2,q._result=oe)}),q._status===-1&&(q._status=0,q._result=F)}if(q._status===1)return q._result.default;throw q._result}var ge=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Oe={map:te,forEach:function(q,F,oe){te(q,function(){F.apply(this,arguments)},oe)},count:function(q){var F=0;return te(q,function(){F++}),F},toArray:function(q){return te(q,function(F){return F})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return we.Activity=m,we.Children=Oe,we.Component=P,we.Fragment=n,we.Profiler=i,we.PureComponent=O,we.StrictMode=r,we.Suspense=d,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,we.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},we.cache=function(q){return function(){return q.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(q,F,oe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var le=S({},q.props),pe=q.key;if(F!=null)for(Te in F.key!==void 0&&(pe=""+F.key),F)!G.call(F,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&F.ref===void 0||(le[Te]=F[Te]);var Te=arguments.length-2;if(Te===1)le.children=oe;else if(1<Te){for(var ke=Array(Te),$t=0;$t<Te;$t++)ke[$t]=arguments[$t+2];le.children=ke}return U(q.type,pe,le)},we.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},we.createElement=function(q,F,oe){var le,pe={},Te=null;if(F!=null)for(le in F.key!==void 0&&(Te=""+F.key),F)G.call(F,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=F[le]);var ke=arguments.length-2;if(ke===1)pe.children=oe;else if(1<ke){for(var $t=Array(ke),ae=0;ae<ke;ae++)$t[ae]=arguments[ae+2];pe.children=$t}if(q&&q.defaultProps)for(le in ke=q.defaultProps,ke)pe[le]===void 0&&(pe[le]=ke[le]);return U(q,Te,pe)},we.createRef=function(){return{current:null}},we.forwardRef=function(q){return{$$typeof:c,render:q}},we.isValidElement=V,we.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:se}},we.memo=function(q,F){return{$$typeof:f,type:q,compare:F===void 0?null:F}},we.startTransition=function(q){var F=k.T,oe={};k.T=oe;try{var le=q(),pe=k.S;pe!==null&&pe(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(R,ge)}catch(Te){ge(Te)}finally{F!==null&&oe.types!==null&&(F.types=oe.types),k.T=F}},we.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},we.use=function(q){return k.H.use(q)},we.useActionState=function(q,F,oe){return k.H.useActionState(q,F,oe)},we.useCallback=function(q,F){return k.H.useCallback(q,F)},we.useContext=function(q){return k.H.useContext(q)},we.useDebugValue=function(){},we.useDeferredValue=function(q,F){return k.H.useDeferredValue(q,F)},we.useEffect=function(q,F){return k.H.useEffect(q,F)},we.useEffectEvent=function(q){return k.H.useEffectEvent(q)},we.useId=function(){return k.H.useId()},we.useImperativeHandle=function(q,F,oe){return k.H.useImperativeHandle(q,F,oe)},we.useInsertionEffect=function(q,F){return k.H.useInsertionEffect(q,F)},we.useLayoutEffect=function(q,F){return k.H.useLayoutEffect(q,F)},we.useMemo=function(q,F){return k.H.useMemo(q,F)},we.useOptimistic=function(q,F){return k.H.useOptimistic(q,F)},we.useReducer=function(q,F,oe){return k.H.useReducer(q,F,oe)},we.useRef=function(q){return k.H.useRef(q)},we.useState=function(q){return k.H.useState(q)},we.useSyncExternalStore=function(q,F,oe){return k.H.useSyncExternalStore(q,F,oe)},we.useTransition=function(){return k.H.useTransition()},we.version="19.2.0",we}var pE;function ds(){return pE||(pE=1,em.exports=g2()),em.exports}var T=ds();const uM=hr(T),v2=d2({__proto__:null,default:uM},[T]);var tm={exports:{}},wl={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function y2(){return mE||(mE=1,(function(t){function e($,te){var se=$.length;$.push(te);e:for(;0<se;){var ge=se-1>>>1,Oe=$[ge];if(0<i(Oe,te))$[ge]=te,$[se]=Oe,se=ge;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],se=$.pop();if(se!==te){$[0]=se;e:for(var ge=0,Oe=$.length,q=Oe>>>1;ge<q;){var F=2*(ge+1)-1,oe=$[F],le=F+1,pe=$[le];if(0>i(oe,se))le<Oe&&0>i(pe,oe)?($[ge]=pe,$[le]=se,ge=le):($[ge]=oe,$[F]=se,ge=F);else if(le<Oe&&0>i(pe,se))$[ge]=pe,$[le]=se,ge=le;else break e}}return te}function i($,te){var se=$.sortIndex-te.sortIndex;return se!==0?se:$.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,m=null,y=3,w=!1,E=!1,S=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D($){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=$)r(f),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(f)}}function I($){if(S=!1,D($),!E)if(n(d)!==null)E=!0,R||(R=!0,Y());else{var te=n(f);te!==null&&ve(I,te.startTime-$)}}var R=!1,k=-1,G=5,U=-1;function X(){return A?!0:!(t.unstable_now()-U<G)}function V(){if(A=!1,R){var $=t.unstable_now();U=$;var te=!0;try{e:{E=!1,S&&(S=!1,C(k),k=-1),w=!0;var se=y;try{t:{for(D($),m=n(d);m!==null&&!(m.expirationTime>$&&X());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,y=m.priorityLevel;var Oe=ge(m.expirationTime<=$);if($=t.unstable_now(),typeof Oe=="function"){m.callback=Oe,D($),te=!0;break t}m===n(d)&&r(d),D($)}else r(d);m=n(d)}if(m!==null)te=!0;else{var q=n(f);q!==null&&ve(I,q.startTime-$),te=!1}}break e}finally{m=null,y=se,w=!1}te=void 0}}finally{te?Y():R=!1}}}var Y;if(typeof O=="function")Y=function(){O(V)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ie=ne.port2;ne.port1.onmessage=V,Y=function(){ie.postMessage(null)}}else Y=function(){P(V,0)};function ve($,te){k=P(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var se=y;y=te;try{return $()}finally{y=se}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=y;y=$;try{return te()}finally{y=se}},t.unstable_scheduleCallback=function($,te,se){var ge=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,$){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=se+Oe,$={id:h++,callback:te,priorityLevel:$,startTime:se,expirationTime:Oe,sortIndex:-1},se>ge?($.sortIndex=se,e(f,$),n(d)===null&&$===n(f)&&(S?(C(k),k=-1):S=!0,ve(I,se-ge))):($.sortIndex=Oe,e(d,$),E||w||(E=!0,R||(R=!0,Y()))),$},t.unstable_shouldYield=X,t.unstable_wrapCallback=function($){var te=y;return function(){var se=y;y=te;try{return $.apply(this,arguments)}finally{y=se}}}})(rm)),rm}var gE;function b2(){return gE||(gE=1,nm.exports=y2()),nm.exports}var im={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function _2(){if(vE)return en;vE=1;var t=ds();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,h)},en.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},en.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},en.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},en.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,m=c(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:w}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},en.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},en.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=c(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},en.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},en.requestFormReset=function(d){r.d.r(d)},en.unstable_batchedUpdates=function(d,f){return d(f)},en.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},en.useFormStatus=function(){return l.H.useHostTransitionStatus()},en.version="19.2.0",en}var yE;function cM(){if(yE)return im.exports;yE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),im.exports=_2(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function w2(){if(bE)return wl;bE=1;var t=b2(),e=ds(),n=cM();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,p=s;;){var b=u.return;if(b===null)break;var _=b.alternate;if(_===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===u)return d(b),a;if(_===p)return d(b),s;_=_.sibling}throw Error(r(188))}if(u.return!==p.return)u=b,p=_;else{for(var x=!1,N=b.child;N;){if(N===u){x=!0,u=b,p=_;break}if(N===p){x=!0,p=b,u=_;break}N=N.sibling}if(!x){for(N=_.child;N;){if(N===u){x=!0,u=_,p=b;break}if(N===p){x=!0,p=_,u=b;break}N=N.sibling}if(!x)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Y(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ne?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case O:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case D:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return s=a.displayName||null,s!==null?s:ie(a.type)||"Memo";case G:s=a._payload,a=a._init;try{return ie(a(s))}catch{}}return null}var ve=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ge=[],Oe=-1;function q(a){return{current:a}}function F(a){0>Oe||(a.current=ge[Oe],ge[Oe]=null,Oe--)}function oe(a,s){Oe++,ge[Oe]=a.current,a.current=s}var le=q(null),pe=q(null),Te=q(null),ke=q(null);function $t(a,s){switch(oe(Te,s),oe(pe,a),oe(le,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?IS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=IS(s),a=kS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(le),oe(le,a)}function ae(){F(le),F(pe),F(Te)}function Ee(a){a.memoizedState!==null&&oe(ke,a);var s=le.current,u=kS(s,a.type);s!==u&&(oe(pe,a),oe(le,u))}function Ce(a){pe.current===a&&(F(le),F(pe)),ke.current===a&&(F(ke),gl._currentValue=se)}var re,zt;function Ie(a){if(re===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",zt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+a+zt}var Ht=!1;function Gt(a,s){if(!a||Ht)return"";Ht=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(W){var K=W}Reflect.construct(a,[],ee)}else{try{ee.call()}catch(W){K=W}a.call(ee.prototype)}}else{try{throw Error()}catch(W){K=W}(ee=a())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),x=_[0],N=_[1];if(x&&N){var L=x.split(`
`),H=N.split(`
`);for(b=p=0;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;for(;b<H.length&&!H[b].includes("DetermineComponentFrameRoot");)b++;if(p===L.length||b===H.length)for(p=L.length-1,b=H.length-1;1<=p&&0<=b&&L[p]!==H[b];)b--;for(;1<=p&&0<=b;p--,b--)if(L[p]!==H[b]){if(p!==1||b!==1)do if(p--,b--,0>b||L[p]!==H[b]){var Q=`
`+L[p].replace(" at new "," at ");return a.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",a.displayName)),Q}while(1<=p&&0<=b);break}}}finally{Ht=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ie(u):""}function Cr(a,s){switch(a.tag){case 26:case 27:case 5:return Ie(a.type);case 16:return Ie("Lazy");case 13:return a.child!==s&&s!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Gt(a.type,!1);case 11:return Gt(a.type.render,!1);case 1:return Gt(a.type,!0);case 31:return Ie("Activity");default:return""}}function Cs(a){try{var s="",u=null;do s+=Cr(a,u),u=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ud=Object.prototype.hasOwnProperty,Bd=t.unstable_scheduleCallback,qd=t.unstable_cancelCallback,zD=t.unstable_shouldYield,HD=t.unstable_requestPaint,_n=t.unstable_now,GD=t.unstable_getCurrentPriorityLevel,db=t.unstable_ImmediatePriority,hb=t.unstable_UserBlockingPriority,yu=t.unstable_NormalPriority,VD=t.unstable_LowPriority,pb=t.unstable_IdlePriority,FD=t.log,KD=t.unstable_setDisableYieldValue,Ms=null,wn=null;function ci(a){if(typeof FD=="function"&&KD(a),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Ms,a)}catch{}}var Sn=Math.clz32?Math.clz32:WD,YD=Math.log,JD=Math.LN2;function WD(a){return a>>>=0,a===0?32:31-(YD(a)/JD|0)|0}var bu=256,_u=262144,wu=4194304;function Wi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Su(a,s,u){var p=a.pendingLanes;if(p===0)return 0;var b=0,_=a.suspendedLanes,x=a.pingedLanes;a=a.warmLanes;var N=p&134217727;return N!==0?(p=N&~_,p!==0?b=Wi(p):(x&=N,x!==0?b=Wi(x):u||(u=N&~a,u!==0&&(b=Wi(u))))):(N=p&~_,N!==0?b=Wi(N):x!==0?b=Wi(x):u||(u=p&~a,u!==0&&(b=Wi(u)))),b===0?0:s!==0&&s!==b&&(s&_)===0&&(_=b&-b,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:b}function Ps(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function XD(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mb(){var a=wu;return wu<<=1,(wu&62914560)===0&&(wu=4194304),a}function jd(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Os(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function QD(a,s,u,p,b,_){var x=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var N=a.entanglements,L=a.expirationTimes,H=a.hiddenUpdates;for(u=x&~u;0<u;){var Q=31-Sn(u),ee=1<<Q;N[Q]=0,L[Q]=-1;var K=H[Q];if(K!==null)for(H[Q]=null,Q=0;Q<K.length;Q++){var W=K[Q];W!==null&&(W.lane&=-536870913)}u&=~ee}p!==0&&gb(a,p,0),_!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=_&~(x&~s))}function gb(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-Sn(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function vb(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var p=31-Sn(u),b=1<<p;b&s|a[p]&s&&(a[p]|=s),u&=~b}}function yb(a,s){var u=s&-s;return u=(u&42)!==0?1:$d(u),(u&(a.suspendedLanes|s))!==0?0:u}function $d(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function zd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function bb(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:iE(a.type))}function _b(a,s){var u=te.p;try{return te.p=a,s()}finally{te.p=u}}var fi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+fi,ln="__reactProps$"+fi,Ka="__reactContainer$"+fi,Hd="__reactEvents$"+fi,ZD="__reactListeners$"+fi,eI="__reactHandles$"+fi,wb="__reactResources$"+fi,Ns="__reactMarker$"+fi;function Gd(a){delete a[Vt],delete a[ln],delete a[Hd],delete a[ZD],delete a[eI]}function Ya(a){var s=a[Vt];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Ka]||u[Vt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=zS(a);a!==null;){if(u=a[Vt])return u;a=zS(a)}return s}a=u,u=a.parentNode}return null}function Ja(a){if(a=a[Vt]||a[Ka]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Rs(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Wa(a){var s=a[wb];return s||(s=a[wb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(a){a[Ns]=!0}var Sb=new Set,Eb={};function Xi(a,s){Xa(a,s),Xa(a+"Capture",s)}function Xa(a,s){for(Eb[a]=s,a=0;a<s.length;a++)Sb.add(s[a])}var tI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ab={},xb={};function nI(a){return Ud.call(xb,a)?!0:Ud.call(Ab,a)?!1:tI.test(a)?xb[a]=!0:(Ab[a]=!0,!1)}function Eu(a,s,u){if(nI(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function Au(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function Mr(a,s,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+p)}}function qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Tb(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rI(a,s,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,_=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(x){u=""+x,_.call(this,x)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Vd(a){if(!a._valueTracker){var s=Tb(a)?"checked":"value";a._valueTracker=rI(a,s,""+a[s])}}function Cb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return a&&(p=Tb(a)?a.checked?"true":"false":a.value),a=p,a!==u?(s.setValue(a),!0):!1}function xu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var iI=/[\n"\\]/g;function jn(a){return a.replace(iI,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fd(a,s,u,p,b,_,x,N){a.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?a.type=x:a.removeAttribute("type"),s!=null?x==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+qn(s)):a.value!==""+qn(s)&&(a.value=""+qn(s)):x!=="submit"&&x!=="reset"||a.removeAttribute("value"),s!=null?Kd(a,x,qn(s)):u!=null?Kd(a,x,qn(u)):p!=null&&a.removeAttribute("value"),b==null&&_!=null&&(a.defaultChecked=!!_),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+qn(N):a.removeAttribute("name")}function Mb(a,s,u,p,b,_,x,N){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Vd(a);return}u=u!=null?""+qn(u):"",s=s!=null?""+qn(s):u,N||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=N?a.checked:!!p,a.defaultChecked=!!p,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.name=x),Vd(a)}function Kd(a,s,u){s==="number"&&xu(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Qa(a,s,u,p){if(a=a.options,s){s={};for(var b=0;b<u.length;b++)s["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=s.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&p&&(a[u].defaultSelected=!0)}else{for(u=""+qn(u),s=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function Pb(a,s,u){if(s!=null&&(s=""+qn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+qn(u):""}function Ob(a,s,u,p){if(s==null){if(p!=null){if(u!=null)throw Error(r(92));if(ve(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),s=u}u=qn(s),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),Vd(a)}function Za(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var aI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nb(a,s,u){var p=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,u):typeof u!="number"||u===0||aI.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Rb(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&u[b]!==p&&Nb(a,b,p)}else for(var _ in s)s.hasOwnProperty(_)&&Nb(a,_,s[_])}function Yd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tu(a){return sI.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Pr(){}var Jd=null;function Wd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var eo=null,to=null;function Db(a){var s=Ja(a);if(s&&(a=s.stateNode)){var u=a[ln]||null;e:switch(a=s.stateNode,s.type){case"input":if(Fd(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==a&&p.form===a.form){var b=p[ln]||null;if(!b)throw Error(r(90));Fd(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<u.length;s++)p=u[s],p.form===a.form&&Cb(p)}break e;case"textarea":Pb(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Qa(a,!!u.multiple,s,!1)}}}var Xd=!1;function Ib(a,s,u){if(Xd)return a(s,u);Xd=!0;try{var p=a(s);return p}finally{if(Xd=!1,(eo!==null||to!==null)&&(hc(),eo&&(s=eo,a=to,to=eo=null,Db(s),a)))for(s=0;s<a.length;s++)Db(a[s])}}function Ds(a,s){var u=a.stateNode;if(u===null)return null;var p=u[ln]||null;if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(Or)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Qd=!1}var di=null,Zd=null,Cu=null;function kb(){if(Cu)return Cu;var a,s=Zd,u=s.length,p,b="value"in di?di.value:di.textContent,_=b.length;for(a=0;a<u&&s[a]===b[a];a++);var x=u-a;for(p=1;p<=x&&s[u-p]===b[_-p];p++);return Cu=b.slice(a,1<p?1-p:void 0)}function Mu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Pu(){return!0}function Lb(){return!1}function un(a){function s(u,p,b,_,x){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(u=a[N],this[N]=u?u(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Pu:Lb,this.isPropagationStopped=Lb,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),s}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=un(Qi),ks=m({},Qi,{view:0,detail:0}),lI=un(ks),eh,th,Ls,Nu=m({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ls&&(Ls&&a.type==="mousemove"?(eh=a.screenX-Ls.screenX,th=a.screenY-Ls.screenY):th=eh=0,Ls=a),eh)},movementY:function(a){return"movementY"in a?a.movementY:th}}),Ub=un(Nu),uI=m({},Nu,{dataTransfer:0}),cI=un(uI),fI=m({},ks,{relatedTarget:0}),nh=un(fI),dI=m({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),hI=un(dI),pI=m({},Qi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mI=un(pI),gI=m({},Qi,{data:0}),Bb=un(gI),vI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _I(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=bI[a])?!!s[a]:!1}function rh(){return _I}var wI=m({},ks,{key:function(a){if(a.key){var s=vI[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Mu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yI[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(a){return a.type==="keypress"?Mu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),SI=un(wI),EI=m({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=un(EI),AI=m({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),xI=un(AI),TI=m({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),CI=un(TI),MI=m({},Nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),PI=un(MI),OI=m({},Qi,{newState:0,oldState:0}),NI=un(OI),RI=[9,13,27,32],ih=Or&&"CompositionEvent"in window,Us=null;Or&&"documentMode"in document&&(Us=document.documentMode);var DI=Or&&"TextEvent"in window&&!Us,jb=Or&&(!ih||Us&&8<Us&&11>=Us),$b=" ",zb=!1;function Hb(a,s){switch(a){case"keyup":return RI.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var no=!1;function II(a,s){switch(a){case"compositionend":return Gb(s);case"keypress":return s.which!==32?null:(zb=!0,$b);case"textInput":return a=s.data,a===$b&&zb?null:a;default:return null}}function kI(a,s){if(no)return a==="compositionend"||!ih&&Hb(a,s)?(a=kb(),Cu=Zd=di=null,no=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jb&&s.locale!=="ko"?null:s.data;default:return null}}var LI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!LI[a.type]:s==="textarea"}function Fb(a,s,u,p){eo?to?to.push(p):to=[p]:eo=p,s=_c(s,"onChange"),0<s.length&&(u=new Ou("onChange","change",null,u,p),a.push({event:u,listeners:s}))}var Bs=null,qs=null;function UI(a){MS(a,0)}function Ru(a){var s=Rs(a);if(Cb(s))return a}function Kb(a,s){if(a==="change")return s}var Yb=!1;if(Or){var ah;if(Or){var oh="oninput"in document;if(!oh){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),oh=typeof Jb.oninput=="function"}ah=oh}else ah=!1;Yb=ah&&(!document.documentMode||9<document.documentMode)}function Wb(){Bs&&(Bs.detachEvent("onpropertychange",Xb),qs=Bs=null)}function Xb(a){if(a.propertyName==="value"&&Ru(qs)){var s=[];Fb(s,qs,a,Wd(a)),Ib(UI,s)}}function BI(a,s,u){a==="focusin"?(Wb(),Bs=s,qs=u,Bs.attachEvent("onpropertychange",Xb)):a==="focusout"&&Wb()}function qI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ru(qs)}function jI(a,s){if(a==="click")return Ru(s)}function $I(a,s){if(a==="input"||a==="change")return Ru(s)}function zI(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var En=typeof Object.is=="function"?Object.is:zI;function js(a,s){if(En(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!Ud.call(s,b)||!En(a[b],s[b]))return!1}return!0}function Qb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zb(a,s){var u=Qb(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=s&&p>=s)return{node:u,offset:s-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Qb(u)}}function e_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?e_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function t_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=xu(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=xu(a.document)}return s}function sh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var HI=Or&&"documentMode"in document&&11>=document.documentMode,ro=null,lh=null,$s=null,uh=!1;function n_(a,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uh||ro==null||ro!==xu(p)||(p=ro,"selectionStart"in p&&sh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$s&&js($s,p)||($s=p,p=_c(lh,"onSelect"),0<p.length&&(s=new Ou("onSelect","select",null,s,u),a.push({event:s,listeners:p}),s.target=ro)))}function Zi(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var io={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},ch={},r_={};Or&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ea(a){if(ch[a])return ch[a];if(!io[a])return a;var s=io[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in r_)return ch[a]=s[u];return a}var i_=ea("animationend"),a_=ea("animationiteration"),o_=ea("animationstart"),GI=ea("transitionrun"),VI=ea("transitionstart"),FI=ea("transitioncancel"),s_=ea("transitionend"),l_=new Map,fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fh.push("scrollEnd");function or(a,s){l_.set(a,s),Xi(s,[a])}var Du=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},$n=[],ao=0,dh=0;function Iu(){for(var a=ao,s=dh=ao=0;s<a;){var u=$n[s];$n[s++]=null;var p=$n[s];$n[s++]=null;var b=$n[s];$n[s++]=null;var _=$n[s];if($n[s++]=null,p!==null&&b!==null){var x=p.pending;x===null?b.next=b:(b.next=x.next,x.next=b),p.pending=b}_!==0&&u_(u,b,_)}}function ku(a,s,u,p){$n[ao++]=a,$n[ao++]=s,$n[ao++]=u,$n[ao++]=p,dh|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function hh(a,s,u,p){return ku(a,s,u,p),Lu(a)}function ta(a,s){return ku(a,null,null,s),Lu(a)}function u_(a,s,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var b=!1,_=a.return;_!==null;)_.childLanes|=u,p=_.alternate,p!==null&&(p.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(b=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,b&&s!==null&&(b=31-Sn(u),a=_.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=u|536870912),_):null}function Lu(a){if(50<ul)throw ul=0,Sp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var oo={};function KI(a,s,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(a,s,u,p){return new KI(a,s,u,p)}function ph(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Nr(a,s){var u=a.alternate;return u===null?(u=An(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function c_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Uu(a,s,u,p,b,_){var x=0;if(p=a,typeof a=="function")ph(a)&&(x=1);else if(typeof a=="string")x=Qk(a,u,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=An(31,u,s,b),a.elementType=U,a.lanes=_,a;case S:return na(u.children,b,_,s);case A:x=8,b|=24;break;case P:return a=An(12,u,s,b|2),a.elementType=P,a.lanes=_,a;case I:return a=An(13,u,s,b),a.elementType=I,a.lanes=_,a;case R:return a=An(19,u,s,b),a.elementType=R,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:x=10;break e;case C:x=9;break e;case D:x=11;break e;case k:x=14;break e;case G:x=16,p=null;break e}x=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=An(x,u,s,b),s.elementType=a,s.type=p,s.lanes=_,s}function na(a,s,u,p){return a=An(7,a,p,s),a.lanes=u,a}function mh(a,s,u){return a=An(6,a,null,s),a.lanes=u,a}function f_(a){var s=An(18,null,null,0);return s.stateNode=a,s}function gh(a,s,u){return s=An(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var d_=new WeakMap;function zn(a,s){if(typeof a=="object"&&a!==null){var u=d_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Cs(s)},d_.set(a,s),s)}return{value:a,source:s,stack:Cs(s)}}var so=[],lo=0,Bu=null,zs=0,Hn=[],Gn=0,hi=null,vr=1,yr="";function Rr(a,s){so[lo++]=zs,so[lo++]=Bu,Bu=a,zs=s}function h_(a,s,u){Hn[Gn++]=vr,Hn[Gn++]=yr,Hn[Gn++]=hi,hi=a;var p=vr;a=yr;var b=32-Sn(p)-1;p&=~(1<<b),u+=1;var _=32-Sn(s)+b;if(30<_){var x=b-b%5;_=(p&(1<<x)-1).toString(32),p>>=x,b-=x,vr=1<<32-Sn(s)+b|u<<b|p,yr=_+a}else vr=1<<_|u<<b|p,yr=a}function vh(a){a.return!==null&&(Rr(a,1),h_(a,1,0))}function yh(a){for(;a===Bu;)Bu=so[--lo],so[lo]=null,zs=so[--lo],so[lo]=null;for(;a===hi;)hi=Hn[--Gn],Hn[Gn]=null,yr=Hn[--Gn],Hn[Gn]=null,vr=Hn[--Gn],Hn[Gn]=null}function p_(a,s){Hn[Gn++]=vr,Hn[Gn++]=yr,Hn[Gn++]=hi,vr=s.id,yr=s.overflow,hi=a}var Ft=null,tt=null,De=!1,pi=null,Vn=!1,bh=Error(r(519));function mi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hs(zn(s,a)),bh}function m_(a){var s=a.stateNode,u=a.type,p=a.memoizedProps;switch(s[Vt]=a,s[ln]=p,u){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(u=0;u<fl.length;u++)Pe(fl[u],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Mb(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Ob(s,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||p.suppressHydrationWarning===!0||RS(s.textContent,u)?(p.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),p.onScroll!=null&&Pe("scroll",s),p.onScrollEnd!=null&&Pe("scrollend",s),p.onClick!=null&&(s.onclick=Pr),s=!0):s=!1,s||mi(a,!0)}function g_(a){for(Ft=a.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ft=Ft.return}}function uo(a){if(a!==Ft)return!1;if(!De)return g_(a),De=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Up(a.type,a.memoizedProps)),u=!u),u&&tt&&mi(a),g_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));tt=$S(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));tt=$S(a)}else s===27?(s=tt,Pi(a.type)?(a=zp,zp=null,tt=a):tt=s):tt=Ft?Kn(a.stateNode.nextSibling):null;return!0}function ra(){tt=Ft=null,De=!1}function _h(){var a=pi;return a!==null&&(hn===null?hn=a:hn.push.apply(hn,a),pi=null),a}function Hs(a){pi===null?pi=[a]:pi.push(a)}var wh=q(null),ia=null,Dr=null;function gi(a,s,u){oe(wh,s._currentValue),s._currentValue=u}function Ir(a){a._currentValue=wh.current,F(wh)}function Sh(a,s,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===u)break;a=a.return}}function Eh(a,s,u,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var _=b.dependencies;if(_!==null){var x=b.child;_=_.firstContext;e:for(;_!==null;){var N=_;_=b;for(var L=0;L<s.length;L++)if(N.context===s[L]){_.lanes|=u,N=_.alternate,N!==null&&(N.lanes|=u),Sh(_.return,u,a),p||(x=null);break e}_=N.next}}else if(b.tag===18){if(x=b.return,x===null)throw Error(r(341));x.lanes|=u,_=x.alternate,_!==null&&(_.lanes|=u),Sh(x,u,a),x=null}else x=b.child;if(x!==null)x.return=b;else for(x=b;x!==null;){if(x===a){x=null;break}if(b=x.sibling,b!==null){b.return=x.return,x=b;break}x=x.return}b=x}}function co(a,s,u,p){a=null;for(var b=s,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var x=b.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var N=b.type;En(b.pendingProps.value,x.value)||(a!==null?a.push(N):a=[N])}}else if(b===ke.current){if(x=b.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(gl):a=[gl])}b=b.return}a!==null&&Eh(s,a,u,p),s.flags|=262144}function qu(a){for(a=a.firstContext;a!==null;){if(!En(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function aa(a){ia=a,Dr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kt(a){return v_(ia,a)}function ju(a,s){return ia===null&&aa(a),v_(a,s)}function v_(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Dr===null){if(a===null)throw Error(r(308));Dr=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Dr=Dr.next=s;return u}var YI=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},JI=t.unstable_scheduleCallback,WI=t.unstable_NormalPriority,vt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new YI,data:new Map,refCount:0}}function Gs(a){a.refCount--,a.refCount===0&&JI(WI,function(){a.controller.abort()})}var Vs=null,xh=0,fo=0,ho=null;function XI(a,s){if(Vs===null){var u=Vs=[];xh=0,fo=Mp(),ho={status:"pending",value:void 0,then:function(p){u.push(p)}}}return xh++,s.then(y_,y_),s}function y_(){if(--xh===0&&Vs!==null){ho!==null&&(ho.status="fulfilled");var a=Vs;Vs=null,fo=0,ho=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function QI(a,s){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<u.length;b++)(0,u[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var b_=$.S;$.S=function(a,s){nS=_n(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&XI(a,s),b_!==null&&b_(a,s)};var oa=q(null);function Th(){var a=oa.current;return a!==null?a:We.pooledCache}function $u(a,s){s===null?oe(oa,oa.current):oe(oa,s.pool)}function __(){var a=Th();return a===null?null:{parent:vt._currentValue,pool:a}}var po=Error(r(460)),Ch=Error(r(474)),zu=Error(r(542)),Hu={then:function(){}};function w_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function S_(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Pr,Pr),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,A_(a),a;default:if(typeof s.status=="string")s.then(Pr,Pr);else{if(a=We,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,A_(a),a}throw la=s,po}}function sa(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(la=u,po):u}}var la=null;function E_(){if(la===null)throw Error(r(459));var a=la;return la=null,a}function A_(a){if(a===po||a===zu)throw Error(r(483))}var mo=null,Fs=0;function Gu(a){var s=Fs;return Fs+=1,mo===null&&(mo=[]),S_(mo,a,s)}function Ks(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Vu(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function x_(a){function s(j,B){if(a){var z=j.deletions;z===null?(j.deletions=[B],j.flags|=16):z.push(B)}}function u(j,B){if(!a)return null;for(;B!==null;)s(j,B),B=B.sibling;return null}function p(j){for(var B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function b(j,B){return j=Nr(j,B),j.index=0,j.sibling=null,j}function _(j,B,z){return j.index=z,a?(z=j.alternate,z!==null?(z=z.index,z<B?(j.flags|=67108866,B):z):(j.flags|=67108866,B)):(j.flags|=1048576,B)}function x(j){return a&&j.alternate===null&&(j.flags|=67108866),j}function N(j,B,z,Z){return B===null||B.tag!==6?(B=mh(z,j.mode,Z),B.return=j,B):(B=b(B,z),B.return=j,B)}function L(j,B,z,Z){var me=z.type;return me===S?Q(j,B,z.props.children,Z,z.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&sa(me)===B.type)?(B=b(B,z.props),Ks(B,z),B.return=j,B):(B=Uu(z.type,z.key,z.props,null,j.mode,Z),Ks(B,z),B.return=j,B)}function H(j,B,z,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==z.containerInfo||B.stateNode.implementation!==z.implementation?(B=gh(z,j.mode,Z),B.return=j,B):(B=b(B,z.children||[]),B.return=j,B)}function Q(j,B,z,Z,me){return B===null||B.tag!==7?(B=na(z,j.mode,Z,me),B.return=j,B):(B=b(B,z),B.return=j,B)}function ee(j,B,z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=mh(""+B,j.mode,z),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return z=Uu(B.type,B.key,B.props,null,j.mode,z),Ks(z,B),z.return=j,z;case E:return B=gh(B,j.mode,z),B.return=j,B;case G:return B=sa(B),ee(j,B,z)}if(ve(B)||Y(B))return B=na(B,j.mode,z,null),B.return=j,B;if(typeof B.then=="function")return ee(j,Gu(B),z);if(B.$$typeof===O)return ee(j,ju(j,B),z);Vu(j,B)}return null}function K(j,B,z,Z){var me=B!==null?B.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:N(j,B,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===me?L(j,B,z,Z):null;case E:return z.key===me?H(j,B,z,Z):null;case G:return z=sa(z),K(j,B,z,Z)}if(ve(z)||Y(z))return me!==null?null:Q(j,B,z,Z,null);if(typeof z.then=="function")return K(j,B,Gu(z),Z);if(z.$$typeof===O)return K(j,B,ju(j,z),Z);Vu(j,z)}return null}function W(j,B,z,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(z)||null,N(B,j,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return j=j.get(Z.key===null?z:Z.key)||null,L(B,j,Z,me);case E:return j=j.get(Z.key===null?z:Z.key)||null,H(B,j,Z,me);case G:return Z=sa(Z),W(j,B,z,Z,me)}if(ve(Z)||Y(Z))return j=j.get(z)||null,Q(B,j,Z,me,null);if(typeof Z.then=="function")return W(j,B,z,Gu(Z),me);if(Z.$$typeof===O)return W(j,B,z,ju(B,Z),me);Vu(B,Z)}return null}function ce(j,B,z,Z){for(var me=null,Le=null,de=B,xe=B=0,Re=null;de!==null&&xe<z.length;xe++){de.index>xe?(Re=de,de=null):Re=de.sibling;var Ue=K(j,de,z[xe],Z);if(Ue===null){de===null&&(de=Re);break}a&&de&&Ue.alternate===null&&s(j,de),B=_(Ue,B,xe),Le===null?me=Ue:Le.sibling=Ue,Le=Ue,de=Re}if(xe===z.length)return u(j,de),De&&Rr(j,xe),me;if(de===null){for(;xe<z.length;xe++)de=ee(j,z[xe],Z),de!==null&&(B=_(de,B,xe),Le===null?me=de:Le.sibling=de,Le=de);return De&&Rr(j,xe),me}for(de=p(de);xe<z.length;xe++)Re=W(de,j,xe,z[xe],Z),Re!==null&&(a&&Re.alternate!==null&&de.delete(Re.key===null?xe:Re.key),B=_(Re,B,xe),Le===null?me=Re:Le.sibling=Re,Le=Re);return a&&de.forEach(function(Ii){return s(j,Ii)}),De&&Rr(j,xe),me}function be(j,B,z,Z){if(z==null)throw Error(r(151));for(var me=null,Le=null,de=B,xe=B=0,Re=null,Ue=z.next();de!==null&&!Ue.done;xe++,Ue=z.next()){de.index>xe?(Re=de,de=null):Re=de.sibling;var Ii=K(j,de,Ue.value,Z);if(Ii===null){de===null&&(de=Re);break}a&&de&&Ii.alternate===null&&s(j,de),B=_(Ii,B,xe),Le===null?me=Ii:Le.sibling=Ii,Le=Ii,de=Re}if(Ue.done)return u(j,de),De&&Rr(j,xe),me;if(de===null){for(;!Ue.done;xe++,Ue=z.next())Ue=ee(j,Ue.value,Z),Ue!==null&&(B=_(Ue,B,xe),Le===null?me=Ue:Le.sibling=Ue,Le=Ue);return De&&Rr(j,xe),me}for(de=p(de);!Ue.done;xe++,Ue=z.next())Ue=W(de,j,xe,Ue.value,Z),Ue!==null&&(a&&Ue.alternate!==null&&de.delete(Ue.key===null?xe:Ue.key),B=_(Ue,B,xe),Le===null?me=Ue:Le.sibling=Ue,Le=Ue);return a&&de.forEach(function(u2){return s(j,u2)}),De&&Rr(j,xe),me}function Ye(j,B,z,Z){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var me=z.key;B!==null;){if(B.key===me){if(me=z.type,me===S){if(B.tag===7){u(j,B.sibling),Z=b(B,z.props.children),Z.return=j,j=Z;break e}}else if(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&sa(me)===B.type){u(j,B.sibling),Z=b(B,z.props),Ks(Z,z),Z.return=j,j=Z;break e}u(j,B);break}else s(j,B);B=B.sibling}z.type===S?(Z=na(z.props.children,j.mode,Z,z.key),Z.return=j,j=Z):(Z=Uu(z.type,z.key,z.props,null,j.mode,Z),Ks(Z,z),Z.return=j,j=Z)}return x(j);case E:e:{for(me=z.key;B!==null;){if(B.key===me)if(B.tag===4&&B.stateNode.containerInfo===z.containerInfo&&B.stateNode.implementation===z.implementation){u(j,B.sibling),Z=b(B,z.children||[]),Z.return=j,j=Z;break e}else{u(j,B);break}else s(j,B);B=B.sibling}Z=gh(z,j.mode,Z),Z.return=j,j=Z}return x(j);case G:return z=sa(z),Ye(j,B,z,Z)}if(ve(z))return ce(j,B,z,Z);if(Y(z)){if(me=Y(z),typeof me!="function")throw Error(r(150));return z=me.call(z),be(j,B,z,Z)}if(typeof z.then=="function")return Ye(j,B,Gu(z),Z);if(z.$$typeof===O)return Ye(j,B,ju(j,z),Z);Vu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,B!==null&&B.tag===6?(u(j,B.sibling),Z=b(B,z),Z.return=j,j=Z):(u(j,B),Z=mh(z,j.mode,Z),Z.return=j,j=Z),x(j)):u(j,B)}return function(j,B,z,Z){try{Fs=0;var me=Ye(j,B,z,Z);return mo=null,me}catch(de){if(de===po||de===zu)throw de;var Le=An(29,de,null,j.mode);return Le.lanes=Z,Le.return=j,Le}finally{}}}var ua=x_(!0),T_=x_(!1),vi=!1;function Mh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function yi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function bi(a,s,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,($e&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Lu(a),u_(a,null,u),s}return ku(a,p,s,u),Lu(a)}function Ys(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,vb(a,u)}}function Oh(a,s){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?b=_=x:_=_.next=x,u=u.next}while(u!==null);_===null?b=_=s:_=_.next=s}else b=_=s;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Nh=!1;function Js(){if(Nh){var a=ho;if(a!==null)throw a}}function Ws(a,s,u,p){Nh=!1;var b=a.updateQueue;vi=!1;var _=b.firstBaseUpdate,x=b.lastBaseUpdate,N=b.shared.pending;if(N!==null){b.shared.pending=null;var L=N,H=L.next;L.next=null,x===null?_=H:x.next=H,x=L;var Q=a.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==x&&(N===null?Q.firstBaseUpdate=H:N.next=H,Q.lastBaseUpdate=L))}if(_!==null){var ee=b.baseState;x=0,Q=H=L=null,N=_;do{var K=N.lane&-536870913,W=K!==N.lane;if(W?(Ne&K)===K:(p&K)===K){K!==0&&K===fo&&(Nh=!0),Q!==null&&(Q=Q.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ce=a,be=N;K=s;var Ye=u;switch(be.tag){case 1:if(ce=be.payload,typeof ce=="function"){ee=ce.call(Ye,ee,K);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=be.payload,K=typeof ce=="function"?ce.call(Ye,ee,K):ce,K==null)break e;ee=m({},ee,K);break e;case 2:vi=!0}}K=N.callback,K!==null&&(a.flags|=64,W&&(a.flags|=8192),W=b.callbacks,W===null?b.callbacks=[K]:W.push(K))}else W={lane:K,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(H=Q=W,L=ee):Q=Q.next=W,x|=K;if(N=N.next,N===null){if(N=b.shared.pending,N===null)break;W=N,N=W.next,W.next=null,b.lastBaseUpdate=W,b.shared.pending=null}}while(!0);Q===null&&(L=ee),b.baseState=L,b.firstBaseUpdate=H,b.lastBaseUpdate=Q,_===null&&(b.shared.lanes=0),Ai|=x,a.lanes=x,a.memoizedState=ee}}function C_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function M_(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)C_(u[a],s)}var go=q(null),Fu=q(0);function P_(a,s){a=Hr,oe(Fu,a),oe(go,s),Hr=a|s.baseLanes}function Rh(){oe(Fu,Hr),oe(go,go.current)}function Dh(){Hr=Fu.current,F(go),F(Fu)}var xn=q(null),Fn=null;function _i(a){var s=a.alternate;oe(ht,ht.current&1),oe(xn,a),Fn===null&&(s===null||go.current!==null||s.memoizedState!==null)&&(Fn=a)}function Ih(a){oe(ht,ht.current),oe(xn,a),Fn===null&&(Fn=a)}function O_(a){a.tag===22?(oe(ht,ht.current),oe(xn,a),Fn===null&&(Fn=a)):wi()}function wi(){oe(ht,ht.current),oe(xn,xn.current)}function Tn(a){F(xn),Fn===a&&(Fn=null),F(ht)}var ht=q(0);function Ku(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||jp(u)||$p(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kr=0,Ae=null,Fe=null,yt=null,Yu=!1,vo=!1,ca=!1,Ju=0,Xs=0,yo=null,ZI=0;function ft(){throw Error(r(321))}function kh(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!En(a[u],s[u]))return!1;return!0}function Lh(a,s,u,p,b,_){return kr=_,Ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=a===null||a.memoizedState===null?hw:Xh,ca=!1,_=u(p,b),ca=!1,vo&&(_=R_(s,u,p,b)),N_(a),_}function N_(a){$.H=el;var s=Fe!==null&&Fe.next!==null;if(kr=0,yt=Fe=Ae=null,Yu=!1,Xs=0,yo=null,s)throw Error(r(300));a===null||bt||(a=a.dependencies,a!==null&&qu(a)&&(bt=!0))}function R_(a,s,u,p){Ae=a;var b=0;do{if(vo&&(yo=null),Xs=0,vo=!1,25<=b)throw Error(r(301));if(b+=1,yt=Fe=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=pw,_=s(u,p)}while(vo);return _}function ek(){var a=$.H,s=a.useState()[0];return s=typeof s.then=="function"?Qs(s):s,a=a.useState()[0],(Fe!==null?Fe.memoizedState:null)!==a&&(Ae.flags|=1024),s}function Uh(){var a=Ju!==0;return Ju=0,a}function Bh(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function qh(a){if(Yu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Yu=!1}kr=0,yt=Fe=Ae=null,vo=!1,Xs=Ju=0,yo=null}function an(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ae.memoizedState=yt=a:yt=yt.next=a,yt}function pt(){if(Fe===null){var a=Ae.alternate;a=a!==null?a.memoizedState:null}else a=Fe.next;var s=yt===null?Ae.memoizedState:yt.next;if(s!==null)yt=s,Fe=a;else{if(a===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Fe=a,a={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},yt===null?Ae.memoizedState=yt=a:yt=yt.next=a}return yt}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(a){var s=Xs;return Xs+=1,yo===null&&(yo=[]),a=S_(yo,a,s),s=Ae,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?hw:Xh),a}function Xu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Qs(a);if(a.$$typeof===O)return Kt(a)}throw Error(r(438,String(a)))}function jh(a){var s=null,u=Ae.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var p=Ae.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Wu(),Ae.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),p=0;p<a;p++)u[p]=X;return s.index++,u}function Lr(a,s){return typeof s=="function"?s(a):s}function Qu(a){var s=pt();return $h(s,Fe,a)}function $h(a,s,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var b=a.baseQueue,_=p.pending;if(_!==null){if(b!==null){var x=b.next;b.next=_.next,_.next=x}s.baseQueue=b=_,p.pending=null}if(_=a.baseState,b===null)a.memoizedState=_;else{s=b.next;var N=x=null,L=null,H=s,Q=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ne&ee)===ee:(kr&ee)===ee){var K=H.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===fo&&(Q=!0);else if((kr&K)===K){H=H.next,K===fo&&(Q=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(N=L=ee,x=_):L=L.next=ee,Ae.lanes|=K,Ai|=K;ee=H.action,ca&&u(_,ee),_=H.hasEagerState?H.eagerState:u(_,ee)}else K={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(N=L=K,x=_):L=L.next=K,Ae.lanes|=ee,Ai|=ee;H=H.next}while(H!==null&&H!==s);if(L===null?x=_:L.next=N,!En(_,a.memoizedState)&&(bt=!0,Q&&(u=ho,u!==null)))throw u;a.memoizedState=_,a.baseState=x,a.baseQueue=L,p.lastRenderedState=_}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function zh(a){var s=pt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,b=u.pending,_=s.memoizedState;if(b!==null){u.pending=null;var x=b=b.next;do _=a(_,x.action),x=x.next;while(x!==b);En(_,s.memoizedState)||(bt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,p]}function D_(a,s,u){var p=Ae,b=pt(),_=De;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var x=!En((Fe||b).memoizedState,u);if(x&&(b.memoizedState=u,bt=!0),b=b.queue,Vh(L_.bind(null,p,b,a),[a]),b.getSnapshot!==s||x||yt!==null&&yt.memoizedState.tag&1){if(p.flags|=2048,bo(9,{destroy:void 0},k_.bind(null,p,b,u,s),null),We===null)throw Error(r(349));_||(kr&127)!==0||I_(p,s,u)}return u}function I_(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=Ae.updateQueue,s===null?(s=Wu(),Ae.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function k_(a,s,u,p){s.value=u,s.getSnapshot=p,U_(s)&&B_(a)}function L_(a,s,u){return u(function(){U_(s)&&B_(a)})}function U_(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!En(a,u)}catch{return!0}}function B_(a){var s=ta(a,2);s!==null&&pn(s,a,2)}function Hh(a){var s=an();if(typeof a=="function"){var u=a;if(a=u(),ca){ci(!0);try{u()}finally{ci(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},s}function q_(a,s,u,p){return a.baseState=u,$h(a,Fe,typeof p=="function"?p:Lr)}function tk(a,s,u,p,b){if(tc(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};$.T!==null?u(!0):_.isTransition=!1,p(_),u=s.pending,u===null?(_.next=s.pending=_,j_(s,_)):(_.next=u.next,s.pending=u.next=_)}}function j_(a,s){var u=s.action,p=s.payload,b=a.state;if(s.isTransition){var _=$.T,x={};$.T=x;try{var N=u(b,p),L=$.S;L!==null&&L(x,N),$_(a,s,N)}catch(H){Gh(a,s,H)}finally{_!==null&&x.types!==null&&(_.types=x.types),$.T=_}}else try{_=u(b,p),$_(a,s,_)}catch(H){Gh(a,s,H)}}function $_(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){z_(a,s,p)},function(p){return Gh(a,s,p)}):z_(a,s,u)}function z_(a,s,u){s.status="fulfilled",s.value=u,H_(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,j_(a,u)))}function Gh(a,s,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=u,H_(s),s=s.next;while(s!==p)}a.action=null}function H_(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function G_(a,s){return s}function V_(a,s){if(De){var u=We.formState;if(u!==null){e:{var p=Ae;if(De){if(tt){t:{for(var b=tt,_=Vn;b.nodeType!==8;){if(!_){b=null;break t}if(b=Kn(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){tt=Kn(b.nextSibling),p=b.data==="F!";break e}}mi(p)}p=!1}p&&(s=u[0])}}return u=an(),u.memoizedState=u.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:s},u.queue=p,u=cw.bind(null,Ae,p),p.dispatch=u,p=Hh(!1),_=Wh.bind(null,Ae,!1,p.queue),p=an(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,u=tk.bind(null,Ae,b,_,u),b.dispatch=u,p.memoizedState=a,[s,u,!1]}function F_(a){var s=pt();return K_(s,Fe,a)}function K_(a,s,u){if(s=$h(a,s,G_)[0],a=Qu(Lr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Qs(s)}catch(x){throw x===po?zu:x}else p=s;s=pt();var b=s.queue,_=b.dispatch;return u!==s.memoizedState&&(Ae.flags|=2048,bo(9,{destroy:void 0},nk.bind(null,b,u),null)),[p,_,a]}function nk(a,s){a.action=s}function Y_(a){var s=pt(),u=Fe;if(u!==null)return K_(s,u,a);pt(),s=s.memoizedState,u=pt();var p=u.queue.dispatch;return u.memoizedState=a,[s,p,!1]}function bo(a,s,u,p){return a={tag:a,create:u,deps:p,inst:s,next:null},s=Ae.updateQueue,s===null&&(s=Wu(),Ae.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,s.lastEffect=a),a}function J_(){return pt().memoizedState}function Zu(a,s,u,p){var b=an();Ae.flags|=a,b.memoizedState=bo(1|s,{destroy:void 0},u,p===void 0?null:p)}function ec(a,s,u,p){var b=pt();p=p===void 0?null:p;var _=b.memoizedState.inst;Fe!==null&&p!==null&&kh(p,Fe.memoizedState.deps)?b.memoizedState=bo(s,_,u,p):(Ae.flags|=a,b.memoizedState=bo(1|s,_,u,p))}function W_(a,s){Zu(8390656,8,a,s)}function Vh(a,s){ec(2048,8,a,s)}function rk(a){Ae.flags|=4;var s=Ae.updateQueue;if(s===null)s=Wu(),Ae.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function X_(a){var s=pt().memoizedState;return rk({ref:s,nextImpl:a}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Q_(a,s){return ec(4,2,a,s)}function Z_(a,s){return ec(4,4,a,s)}function ew(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function tw(a,s,u){u=u!=null?u.concat([a]):null,ec(4,4,ew.bind(null,s,a),u)}function Fh(){}function nw(a,s){var u=pt();s=s===void 0?null:s;var p=u.memoizedState;return s!==null&&kh(s,p[1])?p[0]:(u.memoizedState=[a,s],a)}function rw(a,s){var u=pt();s=s===void 0?null:s;var p=u.memoizedState;if(s!==null&&kh(s,p[1]))return p[0];if(p=a(),ca){ci(!0);try{a()}finally{ci(!1)}}return u.memoizedState=[p,s],p}function Kh(a,s,u){return u===void 0||(kr&1073741824)!==0&&(Ne&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=iS(),Ae.lanes|=a,Ai|=a,u)}function iw(a,s,u,p){return En(u,s)?u:go.current!==null?(a=Kh(a,u,p),En(a,s)||(bt=!0),a):(kr&42)===0||(kr&1073741824)!==0&&(Ne&261930)===0?(bt=!0,a.memoizedState=u):(a=iS(),Ae.lanes|=a,Ai|=a,s)}function aw(a,s,u,p,b){var _=te.p;te.p=_!==0&&8>_?_:8;var x=$.T,N={};$.T=N,Wh(a,!1,s,u);try{var L=b(),H=$.S;if(H!==null&&H(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=QI(L,p);Zs(a,s,Q,Pn(a))}else Zs(a,s,p,Pn(a))}catch(ee){Zs(a,s,{then:function(){},status:"rejected",reason:ee},Pn())}finally{te.p=_,x!==null&&N.types!==null&&(x.types=N.types),$.T=x}}function ik(){}function Yh(a,s,u,p){if(a.tag!==5)throw Error(r(476));var b=ow(a).queue;aw(a,b,s,se,u===null?ik:function(){return sw(a),u(p)})}function ow(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:se},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function sw(a){var s=ow(a);s.next===null&&(s=a.alternate.memoizedState),Zs(a,s.next.queue,{},Pn())}function Jh(){return Kt(gl)}function lw(){return pt().memoizedState}function uw(){return pt().memoizedState}function ak(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=Pn();a=yi(u);var p=bi(s,a,u);p!==null&&(pn(p,s,u),Ys(p,s,u)),s={cache:Ah()},a.payload=s;return}s=s.return}}function ok(a,s,u){var p=Pn();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tc(a)?fw(s,u):(u=hh(a,s,u,p),u!==null&&(pn(u,a,p),dw(u,s,p)))}function cw(a,s,u){var p=Pn();Zs(a,s,u,p)}function Zs(a,s,u,p){var b={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(tc(a))fw(s,b);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,N=_(x,u);if(b.hasEagerState=!0,b.eagerState=N,En(N,x))return ku(a,s,b,0),We===null&&Iu(),!1}catch{}finally{}if(u=hh(a,s,b,p),u!==null)return pn(u,a,p),dw(u,s,p),!0}return!1}function Wh(a,s,u,p){if(p={lane:2,revertLane:Mp(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},tc(a)){if(s)throw Error(r(479))}else s=hh(a,u,p,2),s!==null&&pn(s,a,2)}function tc(a){var s=a.alternate;return a===Ae||s!==null&&s===Ae}function fw(a,s){vo=Yu=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function dw(a,s,u){if((u&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,vb(a,u)}}var el={readContext:Kt,use:Xu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};el.useEffectEvent=ft;var hw={readContext:Kt,use:Xu,useCallback:function(a,s){return an().memoizedState=[a,s===void 0?null:s],a},useContext:Kt,useEffect:W_,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Zu(4194308,4,ew.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Zu(4194308,4,a,s)},useInsertionEffect:function(a,s){Zu(4,2,a,s)},useMemo:function(a,s){var u=an();s=s===void 0?null:s;var p=a();if(ca){ci(!0);try{a()}finally{ci(!1)}}return u.memoizedState=[p,s],p},useReducer:function(a,s,u){var p=an();if(u!==void 0){var b=u(s);if(ca){ci(!0);try{u(s)}finally{ci(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=ok.bind(null,Ae,a),[p.memoizedState,a]},useRef:function(a){var s=an();return a={current:a},s.memoizedState=a},useState:function(a){a=Hh(a);var s=a.queue,u=cw.bind(null,Ae,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:Fh,useDeferredValue:function(a,s){var u=an();return Kh(u,a,s)},useTransition:function(){var a=Hh(!1);return a=aw.bind(null,Ae,a.queue,!0,!1),an().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var p=Ae,b=an();if(De){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),We===null)throw Error(r(349));(Ne&127)!==0||I_(p,s,u)}b.memoizedState=u;var _={value:u,getSnapshot:s};return b.queue=_,W_(L_.bind(null,p,_,a),[a]),p.flags|=2048,bo(9,{destroy:void 0},k_.bind(null,p,_,u,s),null),u},useId:function(){var a=an(),s=We.identifierPrefix;if(De){var u=yr,p=vr;u=(p&~(1<<32-Sn(p)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Ju++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=ZI++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Jh,useFormState:V_,useActionState:V_,useOptimistic:function(a){var s=an();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Wh.bind(null,Ae,!0,u),u.dispatch=s,[a,s]},useMemoCache:jh,useCacheRefresh:function(){return an().memoizedState=ak.bind(null,Ae)},useEffectEvent:function(a){var s=an(),u={impl:a};return s.memoizedState=u,function(){if(($e&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Xh={readContext:Kt,use:Xu,useCallback:nw,useContext:Kt,useEffect:Vh,useImperativeHandle:tw,useInsertionEffect:Q_,useLayoutEffect:Z_,useMemo:rw,useReducer:Qu,useRef:J_,useState:function(){return Qu(Lr)},useDebugValue:Fh,useDeferredValue:function(a,s){var u=pt();return iw(u,Fe.memoizedState,a,s)},useTransition:function(){var a=Qu(Lr)[0],s=pt().memoizedState;return[typeof a=="boolean"?a:Qs(a),s]},useSyncExternalStore:D_,useId:lw,useHostTransitionStatus:Jh,useFormState:F_,useActionState:F_,useOptimistic:function(a,s){var u=pt();return q_(u,Fe,a,s)},useMemoCache:jh,useCacheRefresh:uw};Xh.useEffectEvent=X_;var pw={readContext:Kt,use:Xu,useCallback:nw,useContext:Kt,useEffect:Vh,useImperativeHandle:tw,useInsertionEffect:Q_,useLayoutEffect:Z_,useMemo:rw,useReducer:zh,useRef:J_,useState:function(){return zh(Lr)},useDebugValue:Fh,useDeferredValue:function(a,s){var u=pt();return Fe===null?Kh(u,a,s):iw(u,Fe.memoizedState,a,s)},useTransition:function(){var a=zh(Lr)[0],s=pt().memoizedState;return[typeof a=="boolean"?a:Qs(a),s]},useSyncExternalStore:D_,useId:lw,useHostTransitionStatus:Jh,useFormState:Y_,useActionState:Y_,useOptimistic:function(a,s){var u=pt();return Fe!==null?q_(u,Fe,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:jh,useCacheRefresh:uw};pw.useEffectEvent=X_;function Qh(a,s,u,p){s=a.memoizedState,u=u(p,s),u=u==null?s:m({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Zh={enqueueSetState:function(a,s,u){a=a._reactInternals;var p=Pn(),b=yi(p);b.payload=s,u!=null&&(b.callback=u),s=bi(a,b,p),s!==null&&(pn(s,a,p),Ys(s,a,p))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var p=Pn(),b=yi(p);b.tag=1,b.payload=s,u!=null&&(b.callback=u),s=bi(a,b,p),s!==null&&(pn(s,a,p),Ys(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=Pn(),p=yi(u);p.tag=2,s!=null&&(p.callback=s),s=bi(a,p,u),s!==null&&(pn(s,a,u),Ys(s,a,u))}};function mw(a,s,u,p,b,_,x){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,_,x):s.prototype&&s.prototype.isPureReactComponent?!js(u,p)||!js(b,_):!0}function gw(a,s,u,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==a&&Zh.enqueueReplaceState(s,s.state,null)}function fa(a,s){var u=s;if("ref"in s){u={};for(var p in s)p!=="ref"&&(u[p]=s[p])}if(a=a.defaultProps){u===s&&(u=m({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function vw(a){Du(a)}function yw(a){console.error(a)}function bw(a){Du(a)}function nc(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function _w(a,s,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function ep(a,s,u){return u=yi(u),u.tag=3,u.payload={element:null},u.callback=function(){nc(a,s)},u}function ww(a){return a=yi(a),a.tag=3,a}function Sw(a,s,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var _=p.value;a.payload=function(){return b(_)},a.callback=function(){_w(s,u,p)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){_w(s,u,p),typeof b!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var N=p.stack;this.componentDidCatch(p.value,{componentStack:N!==null?N:""})})}function sk(a,s,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=u.alternate,s!==null&&co(s,u,b,!0),u=xn.current,u!==null){switch(u.tag){case 31:case 13:return Fn===null?pc():u.alternate===null&&dt===0&&(dt=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===Hu?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([p]):s.add(p),xp(a,p,b)),!1;case 22:return u.flags|=65536,p===Hu?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([p]):u.add(p)),xp(a,p,b)),!1}throw Error(r(435,u.tag))}return xp(a,p,b),pc(),!1}if(De)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==bh&&(a=Error(r(422),{cause:p}),Hs(zn(a,u)))):(p!==bh&&(s=Error(r(423),{cause:p}),Hs(zn(s,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=zn(p,u),b=ep(a.stateNode,p,b),Oh(a,b),dt!==4&&(dt=2)),!1;var _=Error(r(520),{cause:p});if(_=zn(_,u),ll===null?ll=[_]:ll.push(_),dt!==4&&(dt=2),s===null)return!0;p=zn(p,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=ep(u.stateNode,p,a),Oh(u,a),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xi===null||!xi.has(_))))return u.flags|=65536,b&=-b,u.lanes|=b,b=ww(b),Sw(b,a,u,p),Oh(u,b),!1}u=u.return}while(u!==null);return!1}var tp=Error(r(461)),bt=!1;function Yt(a,s,u,p){s.child=a===null?T_(s,null,u,p):ua(s,a.child,u,p)}function Ew(a,s,u,p,b){u=u.render;var _=s.ref;if("ref"in p){var x={};for(var N in p)N!=="ref"&&(x[N]=p[N])}else x=p;return aa(s),p=Lh(a,s,u,x,_,b),N=Uh(),a!==null&&!bt?(Bh(a,s,b),Ur(a,s,b)):(De&&N&&vh(s),s.flags|=1,Yt(a,s,p,b),s.child)}function Aw(a,s,u,p,b){if(a===null){var _=u.type;return typeof _=="function"&&!ph(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,xw(a,s,_,p,b)):(a=Uu(u.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!up(a,b)){var x=_.memoizedProps;if(u=u.compare,u=u!==null?u:js,u(x,p)&&a.ref===s.ref)return Ur(a,s,b)}return s.flags|=1,a=Nr(_,p),a.ref=s.ref,a.return=s,s.child=a}function xw(a,s,u,p,b){if(a!==null){var _=a.memoizedProps;if(js(_,p)&&a.ref===s.ref)if(bt=!1,s.pendingProps=p=_,up(a,b))(a.flags&131072)!==0&&(bt=!0);else return s.lanes=a.lanes,Ur(a,s,b)}return np(a,s,u,p,b)}function Tw(a,s,u,p){var b=p.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~_}else p=0,s.child=null;return Cw(a,s,_,u,p)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&$u(s,_!==null?_.cachePool:null),_!==null?P_(s,_):Rh(),O_(s);else return p=s.lanes=536870912,Cw(a,s,_!==null?_.baseLanes|u:u,u,p)}else _!==null?($u(s,_.cachePool),P_(s,_),wi(),s.memoizedState=null):(a!==null&&$u(s,null),Rh(),wi());return Yt(a,s,b,u),s.child}function tl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Cw(a,s,u,p,b){var _=Th();return _=_===null?null:{parent:vt._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},a!==null&&$u(s,null),Rh(),O_(s),a!==null&&co(a,s,p,!0),s.childLanes=b,null}function rc(a,s){return s=ac({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Mw(a,s,u){return ua(s,a.child,null,u),a=rc(s,s.pendingProps),a.flags|=2,Tn(s),s.memoizedState=null,a}function lk(a,s,u){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(De){if(p.mode==="hidden")return a=rc(s,p),s.lanes=536870912,tl(null,a);if(Ih(s),(a=tt)?(a=jS(a,Vn),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:hi!==null?{id:vr,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},u=f_(a),u.return=s,s.child=u,Ft=s,tt=null)):a=null,a===null)throw mi(s);return s.lanes=536870912,null}return rc(s,p)}var _=a.memoizedState;if(_!==null){var x=_.dehydrated;if(Ih(s),b)if(s.flags&256)s.flags&=-257,s=Mw(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(bt||co(a,s,u,!1),b=(u&a.childLanes)!==0,bt||b){if(p=We,p!==null&&(x=yb(p,u),x!==0&&x!==_.retryLane))throw _.retryLane=x,ta(a,x),pn(p,a,x),tp;pc(),s=Mw(a,s,u)}else a=_.treeContext,tt=Kn(x.nextSibling),Ft=s,De=!0,pi=null,Vn=!1,a!==null&&p_(s,a),s=rc(s,p),s.flags|=4096;return s}return a=Nr(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function ic(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function np(a,s,u,p,b){return aa(s),u=Lh(a,s,u,p,void 0,b),p=Uh(),a!==null&&!bt?(Bh(a,s,b),Ur(a,s,b)):(De&&p&&vh(s),s.flags|=1,Yt(a,s,u,b),s.child)}function Pw(a,s,u,p,b,_){return aa(s),s.updateQueue=null,u=R_(s,p,u,b),N_(a),p=Uh(),a!==null&&!bt?(Bh(a,s,_),Ur(a,s,_)):(De&&p&&vh(s),s.flags|=1,Yt(a,s,u,_),s.child)}function Ow(a,s,u,p,b){if(aa(s),s.stateNode===null){var _=oo,x=u.contextType;typeof x=="object"&&x!==null&&(_=Kt(x)),_=new u(p,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Zh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=p,_.state=s.memoizedState,_.refs={},Mh(s),x=u.contextType,_.context=typeof x=="object"&&x!==null?Kt(x):oo,_.state=s.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(Qh(s,u,x,p),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Zh.enqueueReplaceState(_,_.state,null),Ws(s,p,_,b),Js(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){_=s.stateNode;var N=s.memoizedProps,L=fa(u,N);_.props=L;var H=_.context,Q=u.contextType;x=oo,typeof Q=="object"&&Q!==null&&(x=Kt(Q));var ee=u.getDerivedStateFromProps;Q=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N||H!==x)&&gw(s,_,p,x),vi=!1;var K=s.memoizedState;_.state=K,Ws(s,p,_,b),Js(),H=s.memoizedState,N||K!==H||vi?(typeof ee=="function"&&(Qh(s,u,ee,p),H=s.memoizedState),(L=vi||mw(s,u,L,p,K,H,x))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=H),_.props=p,_.state=H,_.context=x,p=L):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{_=s.stateNode,Ph(a,s),x=s.memoizedProps,Q=fa(u,x),_.props=Q,ee=s.pendingProps,K=_.context,H=u.contextType,L=oo,typeof H=="object"&&H!==null&&(L=Kt(H)),N=u.getDerivedStateFromProps,(H=typeof N=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ee||K!==L)&&gw(s,_,p,L),vi=!1,K=s.memoizedState,_.state=K,Ws(s,p,_,b),Js();var W=s.memoizedState;x!==ee||K!==W||vi||a!==null&&a.dependencies!==null&&qu(a.dependencies)?(typeof N=="function"&&(Qh(s,u,N,p),W=s.memoizedState),(Q=vi||mw(s,u,Q,p,K,W,L)||a!==null&&a.dependencies!==null&&qu(a.dependencies))?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,W,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,W,L)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=W),_.props=p,_.state=W,_.context=L,p=Q):(typeof _.componentDidUpdate!="function"||x===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),p=!1)}return _=p,ic(a,s),p=(s.flags&128)!==0,_||p?(_=s.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&p?(s.child=ua(s,a.child,null,b),s.child=ua(s,null,u,b)):Yt(a,s,u,b),s.memoizedState=_.state,a=s.child):a=Ur(a,s,b),a}function Nw(a,s,u,p){return ra(),s.flags|=256,Yt(a,s,u,p),s.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(a){return{baseLanes:a,cachePool:__()}}function ap(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Mn),a}function Rw(a,s,u){var p=s.pendingProps,b=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=a!==null&&a.memoizedState===null?!1:(ht.current&2)!==0),x&&(b=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,a===null){if(De){if(b?_i(s):wi(),(a=tt)?(a=jS(a,Vn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:hi!==null?{id:vr,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},u=f_(a),u.return=s,s.child=u,Ft=s,tt=null)):a=null,a===null)throw mi(s);return $p(a)?s.lanes=32:s.lanes=536870912,null}var N=p.children;return p=p.fallback,b?(wi(),b=s.mode,N=ac({mode:"hidden",children:N},b),p=na(p,b,u,null),N.return=s,p.return=s,N.sibling=p,s.child=N,p=s.child,p.memoizedState=ip(u),p.childLanes=ap(a,x,u),s.memoizedState=rp,tl(null,p)):(_i(s),op(s,N))}var L=a.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(_)s.flags&256?(_i(s),s.flags&=-257,s=sp(a,s,u)):s.memoizedState!==null?(wi(),s.child=a.child,s.flags|=128,s=null):(wi(),N=p.fallback,b=s.mode,p=ac({mode:"visible",children:p.children},b),N=na(N,b,u,null),N.flags|=2,p.return=s,N.return=s,p.sibling=N,s.child=p,ua(s,a.child,null,u),p=s.child,p.memoizedState=ip(u),p.childLanes=ap(a,x,u),s.memoizedState=rp,s=tl(null,p));else if(_i(s),$p(N)){if(x=N.nextSibling&&N.nextSibling.dataset,x)var H=x.dgst;x=H,p=Error(r(419)),p.stack="",p.digest=x,Hs({value:p,source:null,stack:null}),s=sp(a,s,u)}else if(bt||co(a,s,u,!1),x=(u&a.childLanes)!==0,bt||x){if(x=We,x!==null&&(p=yb(x,u),p!==0&&p!==L.retryLane))throw L.retryLane=p,ta(a,p),pn(x,a,p),tp;jp(N)||pc(),s=sp(a,s,u)}else jp(N)?(s.flags|=192,s.child=a.child,s=null):(a=L.treeContext,tt=Kn(N.nextSibling),Ft=s,De=!0,pi=null,Vn=!1,a!==null&&p_(s,a),s=op(s,p.children),s.flags|=4096);return s}return b?(wi(),N=p.fallback,b=s.mode,L=a.child,H=L.sibling,p=Nr(L,{mode:"hidden",children:p.children}),p.subtreeFlags=L.subtreeFlags&65011712,H!==null?N=Nr(H,N):(N=na(N,b,u,null),N.flags|=2),N.return=s,p.return=s,p.sibling=N,s.child=p,tl(null,p),p=s.child,N=a.child.memoizedState,N===null?N=ip(u):(b=N.cachePool,b!==null?(L=vt._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=__(),N={baseLanes:N.baseLanes|u,cachePool:b}),p.memoizedState=N,p.childLanes=ap(a,x,u),s.memoizedState=rp,tl(a.child,p)):(_i(s),u=a.child,a=u.sibling,u=Nr(u,{mode:"visible",children:p.children}),u.return=s,u.sibling=null,a!==null&&(x=s.deletions,x===null?(s.deletions=[a],s.flags|=16):x.push(a)),s.child=u,s.memoizedState=null,u)}function op(a,s){return s=ac({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function ac(a,s){return a=An(22,a,null,s),a.lanes=0,a}function sp(a,s,u){return ua(s,a.child,null,u),a=op(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Dw(a,s,u){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Sh(a.return,s,u)}function lp(a,s,u,p,b,_){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=b,x.treeForkCount=_)}function Iw(a,s,u){var p=s.pendingProps,b=p.revealOrder,_=p.tail;p=p.children;var x=ht.current,N=(x&2)!==0;if(N?(x=x&1|2,s.flags|=128):x&=1,oe(ht,x),Yt(a,s,p,u),p=De?zs:0,!N&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Dw(a,u,s);else if(a.tag===19)Dw(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=s.child,b=null;u!==null;)a=u.alternate,a!==null&&Ku(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=s.child,s.child=null):(b=u.sibling,u.sibling=null),lp(s,!1,b,u,_,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Ku(a)===null){s.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}lp(s,!0,u,null,_,p);break;case"together":lp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Ur(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Ai|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(co(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Nr(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Nr(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function up(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&qu(a)))}function uk(a,s,u){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),gi(s,vt,a.memoizedState.cache),ra();break;case 27:case 5:Ee(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:gi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ih(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(_i(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Rw(a,s,u):(_i(s),a=Ur(a,s,u),a!==null?a.sibling:null);_i(s);break;case 19:var b=(a.flags&128)!==0;if(p=(u&s.childLanes)!==0,p||(co(a,s,u,!1),p=(u&s.childLanes)!==0),b){if(p)return Iw(a,s,u);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),oe(ht,ht.current),p)break;return null;case 22:return s.lanes=0,Tw(a,s,u,s.pendingProps);case 24:gi(s,vt,a.memoizedState.cache)}return Ur(a,s,u)}function kw(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)bt=!0;else{if(!up(a,u)&&(s.flags&128)===0)return bt=!1,uk(a,s,u);bt=(a.flags&131072)!==0}else bt=!1,De&&(s.flags&1048576)!==0&&h_(s,zs,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=sa(s.elementType),s.type=a,typeof a=="function")ph(a)?(p=fa(a,p),s.tag=1,s=Ow(null,s,a,p,u)):(s.tag=0,s=np(null,s,a,p,u));else{if(a!=null){var b=a.$$typeof;if(b===D){s.tag=11,s=Ew(null,s,a,p,u);break e}else if(b===k){s.tag=14,s=Aw(null,s,a,p,u);break e}}throw s=ie(a)||a,Error(r(306,s,""))}}return s;case 0:return np(a,s,s.type,s.pendingProps,u);case 1:return p=s.type,b=fa(p,s.pendingProps),Ow(a,s,p,b,u);case 3:e:{if($t(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var _=s.memoizedState;b=_.element,Ph(a,s),Ws(s,p,null,u);var x=s.memoizedState;if(p=x.cache,gi(s,vt,p),p!==_.cache&&Eh(s,[vt],u,!0),Js(),p=x.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Nw(a,s,p,u);break e}else if(p!==b){b=zn(Error(r(424)),s),Hs(b),s=Nw(a,s,p,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(tt=Kn(a.firstChild),Ft=s,De=!0,pi=null,Vn=!0,u=T_(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ra(),p===b){s=Ur(a,s,u);break e}Yt(a,s,p,u)}s=s.child}return s;case 26:return ic(a,s),a===null?(u=FS(s.type,null,s.pendingProps,null))?s.memoizedState=u:De||(u=s.type,a=s.pendingProps,p=wc(Te.current).createElement(u),p[Vt]=s,p[ln]=a,Jt(p,u,a),Dt(p),s.stateNode=p):s.memoizedState=FS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ee(s),a===null&&De&&(p=s.stateNode=HS(s.type,s.pendingProps,Te.current),Ft=s,Vn=!0,b=tt,Pi(s.type)?(zp=b,tt=Kn(p.firstChild)):tt=b),Yt(a,s,s.pendingProps.children,u),ic(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&De&&((b=p=tt)&&(p=qk(p,s.type,s.pendingProps,Vn),p!==null?(s.stateNode=p,Ft=s,tt=Kn(p.firstChild),Vn=!1,b=!0):b=!1),b||mi(s)),Ee(s),b=s.type,_=s.pendingProps,x=a!==null?a.memoizedProps:null,p=_.children,Up(b,_)?p=null:x!==null&&Up(b,x)&&(s.flags|=32),s.memoizedState!==null&&(b=Lh(a,s,ek,null,null,u),gl._currentValue=b),ic(a,s),Yt(a,s,p,u),s.child;case 6:return a===null&&De&&((a=u=tt)&&(u=jk(u,s.pendingProps,Vn),u!==null?(s.stateNode=u,Ft=s,tt=null,a=!0):a=!1),a||mi(s)),null;case 13:return Rw(a,s,u);case 4:return $t(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=ua(s,null,p,u):Yt(a,s,p,u),s.child;case 11:return Ew(a,s,s.type,s.pendingProps,u);case 7:return Yt(a,s,s.pendingProps,u),s.child;case 8:return Yt(a,s,s.pendingProps.children,u),s.child;case 12:return Yt(a,s,s.pendingProps.children,u),s.child;case 10:return p=s.pendingProps,gi(s,s.type,p.value),Yt(a,s,p.children,u),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,aa(s),b=Kt(b),p=p(b),s.flags|=1,Yt(a,s,p,u),s.child;case 14:return Aw(a,s,s.type,s.pendingProps,u);case 15:return xw(a,s,s.type,s.pendingProps,u);case 19:return Iw(a,s,u);case 31:return lk(a,s,u);case 22:return Tw(a,s,u,s.pendingProps);case 24:return aa(s),p=Kt(vt),a===null?(b=Th(),b===null&&(b=We,_=Ah(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=u),b=_),s.memoizedState={parent:p,cache:b},Mh(s),gi(s,vt,b)):((a.lanes&u)!==0&&(Ph(a,s),Ws(s,null,null,u),Js()),b=a.memoizedState,_=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),gi(s,vt,p)):(p=_.cache,gi(s,vt,p),p!==b.cache&&Eh(s,[vt],u,!0))),Yt(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Br(a){a.flags|=4}function cp(a,s,u,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(lS())a.flags|=8192;else throw la=Hu,Ch}else a.flags&=-16777217}function Lw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!XS(s))if(lS())a.flags|=8192;else throw la=Hu,Ch}function oc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?mb():536870912,a.lanes|=s,Eo|=s)}function nl(a,s){if(!De)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function nt(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(s)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=u,s}function ck(a,s,u){var p=s.pendingProps;switch(yh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(s),null;case 1:return nt(s),null;case 3:return u=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ir(vt),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(uo(s)?Br(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_h())),nt(s),null;case 26:var b=s.type,_=s.memoizedState;return a===null?(Br(s),_!==null?(nt(s),Lw(s,_)):(nt(s),cp(s,b,null,p,u))):_?_!==a.memoizedState?(Br(s),nt(s),Lw(s,_)):(nt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&Br(s),nt(s),cp(s,b,a,p,u)),null;case 27:if(Ce(s),u=Te.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Br(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return nt(s),null}a=le.current,uo(s)?m_(s):(a=HS(b,p,u),s.stateNode=a,Br(s))}return nt(s),null;case 5:if(Ce(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Br(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return nt(s),null}if(_=le.current,uo(s))m_(s);else{var x=wc(Te.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?x.createElement(b,{is:p.is}):x.createElement(b)}}_[Vt]=s,_[ln]=p;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;e:switch(Jt(_,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Br(s)}}return nt(s),cp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&Br(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Te.current,uo(s)){if(a=s.stateNode,u=s.memoizedProps,p=null,b=Ft,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[Vt]=s,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||RS(a.nodeValue,u)),a||mi(s,!0)}else a=wc(a).createTextNode(p),a[Vt]=s,s.stateNode=a}return nt(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(p=uo(s),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Vt]=s}else ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nt(s),a=!1}else u=_h(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Tn(s),s):(Tn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return nt(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=uo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Vt]=s}else ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nt(s),b=!1}else b=_h(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Tn(s),s):(Tn(s),null)}return Tn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==b&&(p.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),oc(s,s.updateQueue),nt(s),null);case 4:return ae(),a===null&&Rp(s.stateNode.containerInfo),nt(s),null;case 10:return Ir(s.type),nt(s),null;case 19:if(F(ht),p=s.memoizedState,p===null)return nt(s),null;if(b=(s.flags&128)!==0,_=p.rendering,_===null)if(b)nl(p,!1);else{if(dt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=Ku(a),_!==null){for(s.flags|=128,nl(p,!1),a=_.updateQueue,s.updateQueue=a,oc(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)c_(u,a),u=u.sibling;return oe(ht,ht.current&1|2),De&&Rr(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&_n()>fc&&(s.flags|=128,b=!0,nl(p,!1),s.lanes=4194304)}else{if(!b)if(a=Ku(_),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,oc(s,a),nl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!De)return nt(s),null}else 2*_n()-p.renderingStartTime>fc&&u!==536870912&&(s.flags|=128,b=!0,nl(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(a=p.last,a!==null?a.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=_n(),a.sibling=null,u=ht.current,oe(ht,b?u&1|2:u&1),De&&Rr(s,p.treeForkCount),a):(nt(s),null);case 22:case 23:return Tn(s),Dh(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(u&536870912)!==0&&(s.flags&128)===0&&(nt(s),s.subtreeFlags&6&&(s.flags|=8192)):nt(s),u=s.updateQueue,u!==null&&oc(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==u&&(s.flags|=2048),a!==null&&F(oa),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ir(vt),nt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function fk(a,s){switch(yh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ir(vt),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 31:if(s.memoizedState!==null){if(Tn(s),s.alternate===null)throw Error(r(340));ra()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Tn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ra()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return F(ht),null;case 4:return ae(),null;case 10:return Ir(s.type),null;case 22:case 23:return Tn(s),Dh(),a!==null&&F(oa),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ir(vt),null;case 25:return null;default:return null}}function Uw(a,s){switch(yh(s),s.tag){case 3:Ir(vt),ae();break;case 26:case 27:case 5:Ce(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Tn(s);break;case 13:Tn(s);break;case 19:F(ht);break;case 10:Ir(s.type);break;case 22:case 23:Tn(s),Dh(),a!==null&&F(oa);break;case 24:Ir(vt)}}function rl(a,s){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&a)===a){p=void 0;var _=u.create,x=u.inst;p=_(),x.destroy=p}u=u.next}while(u!==b)}}catch(N){He(s,s.return,N)}}function Si(a,s,u){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var _=b.next;p=_;do{if((p.tag&a)===a){var x=p.inst,N=x.destroy;if(N!==void 0){x.destroy=void 0,b=s;var L=u,H=N;try{H()}catch(Q){He(b,L,Q)}}}p=p.next}while(p!==_)}}catch(Q){He(s,s.return,Q)}}function Bw(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{M_(s,u)}catch(p){He(a,a.return,p)}}}function qw(a,s,u){u.props=fa(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){He(a,s,p)}}function il(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(b){He(a,s,b)}}function br(a,s){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){He(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){He(a,s,b)}else u.current=null}function jw(a){var s=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){He(a,a.return,b)}}function fp(a,s,u){try{var p=a.stateNode;Dk(p,a.type,u,s),p[ln]=s}catch(b){He(a,a.return,b)}}function $w(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pi(a.type)||a.tag===4}function dp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$w(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hp(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Pr));else if(p!==4&&(p===27&&Pi(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(hp(a,s,u),a=a.sibling;a!==null;)hp(a,s,u),a=a.sibling}function sc(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(p!==4&&(p===27&&Pi(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(sc(a,s,u),a=a.sibling;a!==null;)sc(a,s,u),a=a.sibling}function zw(a){var s=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);Jt(s,p,u),s[Vt]=a,s[ln]=u}catch(_){He(a,a.return,_)}}var qr=!1,_t=!1,pp=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,It=null;function dk(a,s){if(a=a.containerInfo,kp=Mc,a=t_(a),sh(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var x=0,N=-1,L=-1,H=0,Q=0,ee=a,K=null;t:for(;;){for(var W;ee!==u||b!==0&&ee.nodeType!==3||(N=x+b),ee!==_||p!==0&&ee.nodeType!==3||(L=x+p),ee.nodeType===3&&(x+=ee.nodeValue.length),(W=ee.firstChild)!==null;)K=ee,ee=W;for(;;){if(ee===a)break t;if(K===u&&++H===b&&(N=x),K===_&&++Q===p&&(L=x),(W=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=W}u=N===-1||L===-1?null:{start:N,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lp={focusedElem:a,selectionRange:u},Mc=!1,It=s;It!==null;)if(s=It,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,It=a;else for(;It!==null;){switch(s=It,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=s,b=_.memoizedProps,_=_.memoizedState,p=u.stateNode;try{var ce=fa(u.type,b);a=p.getSnapshotBeforeUpdate(ce,_),p.__reactInternalSnapshotBeforeUpdate=a}catch(be){He(u,u.return,be)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)qp(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,It=a;break}It=s.return}}function Gw(a,s,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:$r(a,u),p&4&&rl(5,u);break;case 1:if($r(a,u),p&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(x){He(u,u.return,x)}else{var b=fa(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(x){He(u,u.return,x)}}p&64&&Bw(u),p&512&&il(u,u.return);break;case 3:if($r(a,u),p&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{M_(a,s)}catch(x){He(u,u.return,x)}}break;case 27:s===null&&p&4&&zw(u);case 26:case 5:$r(a,u),s===null&&p&4&&jw(u),p&512&&il(u,u.return);break;case 12:$r(a,u);break;case 31:$r(a,u),p&4&&Kw(a,u);break;case 13:$r(a,u),p&4&&Yw(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=wk.bind(null,u),$k(a,u))));break;case 22:if(p=u.memoizedState!==null||qr,!p){s=s!==null&&s.memoizedState!==null||_t,b=qr;var _=_t;qr=p,(_t=s)&&!_?zr(a,u,(u.subtreeFlags&8772)!==0):$r(a,u),qr=b,_t=_}break;case 30:break;default:$r(a,u)}}function Vw(a){var s=a.alternate;s!==null&&(a.alternate=null,Vw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Gd(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var at=null,cn=!1;function jr(a,s,u){for(u=u.child;u!==null;)Fw(a,s,u),u=u.sibling}function Fw(a,s,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Ms,u)}catch{}switch(u.tag){case 26:_t||br(u,s),jr(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:_t||br(u,s);var p=at,b=cn;Pi(u.type)&&(at=u.stateNode,cn=!1),jr(a,s,u),hl(u.stateNode),at=p,cn=b;break;case 5:_t||br(u,s);case 6:if(p=at,b=cn,at=null,jr(a,s,u),at=p,cn=b,at!==null)if(cn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(u.stateNode)}catch(_){He(u,s,_)}else try{at.removeChild(u.stateNode)}catch(_){He(u,s,_)}break;case 18:at!==null&&(cn?(a=at,BS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),No(a)):BS(at,u.stateNode));break;case 4:p=at,b=cn,at=u.stateNode.containerInfo,cn=!0,jr(a,s,u),at=p,cn=b;break;case 0:case 11:case 14:case 15:Si(2,u,s),_t||Si(4,u,s),jr(a,s,u);break;case 1:_t||(br(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"&&qw(u,s,p)),jr(a,s,u);break;case 21:jr(a,s,u);break;case 22:_t=(p=_t)||u.memoizedState!==null,jr(a,s,u),_t=p;break;default:jr(a,s,u)}}function Kw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{No(a)}catch(u){He(s,s.return,u)}}}function Yw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{No(a)}catch(u){He(s,s.return,u)}}function hk(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Hw),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Hw),s;default:throw Error(r(435,a.tag))}}function lc(a,s){var u=hk(a);s.forEach(function(p){if(!u.has(p)){u.add(p);var b=Sk.bind(null,a,p);p.then(b,b)}})}function fn(a,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],_=a,x=s,N=x;e:for(;N!==null;){switch(N.tag){case 27:if(Pi(N.type)){at=N.stateNode,cn=!1;break e}break;case 5:at=N.stateNode,cn=!1;break e;case 3:case 4:at=N.stateNode.containerInfo,cn=!0;break e}N=N.return}if(at===null)throw Error(r(160));Fw(_,x,b),at=null,cn=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Jw(s,a),s=s.sibling}var sr=null;function Jw(a,s){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:fn(s,a),dn(a),p&4&&(Si(3,a,a.return),rl(3,a),Si(5,a,a.return));break;case 1:fn(s,a),dn(a),p&512&&(_t||u===null||br(u,u.return)),p&64&&qr&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=sr;if(fn(s,a),dn(a),p&512&&(_t||u===null||br(u,u.return)),p&4){var _=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":_=b.getElementsByTagName("title")[0],(!_||_[Ns]||_[Vt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(p),b.head.insertBefore(_,b.querySelector("head > title"))),Jt(_,p,u),_[Vt]=a,Dt(_),p=_;break e;case"link":var x=JS("link","href",b).get(p+(u.href||""));if(x){for(var N=0;N<x.length;N++)if(_=x[N],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(N,1);break t}}_=b.createElement(p),Jt(_,p,u),b.head.appendChild(_);break;case"meta":if(x=JS("meta","content",b).get(p+(u.content||""))){for(N=0;N<x.length;N++)if(_=x[N],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(N,1);break t}}_=b.createElement(p),Jt(_,p,u),b.head.appendChild(_);break;default:throw Error(r(468,p))}_[Vt]=a,Dt(_),p=_}a.stateNode=p}else WS(b,a.type,a.stateNode);else a.stateNode=YS(b,p,a.memoizedProps);else _!==p?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,p===null?WS(b,a.type,a.stateNode):YS(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&fp(a,a.memoizedProps,u.memoizedProps)}break;case 27:fn(s,a),dn(a),p&512&&(_t||u===null||br(u,u.return)),u!==null&&p&4&&fp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(fn(s,a),dn(a),p&512&&(_t||u===null||br(u,u.return)),a.flags&32){b=a.stateNode;try{Za(b,"")}catch(ce){He(a,a.return,ce)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,fp(a,b,u!==null?u.memoizedProps:b)),p&1024&&(pp=!0);break;case 6:if(fn(s,a),dn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(ce){He(a,a.return,ce)}}break;case 3:if(Ac=null,b=sr,sr=Sc(s.containerInfo),fn(s,a),sr=b,dn(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{No(s.containerInfo)}catch(ce){He(a,a.return,ce)}pp&&(pp=!1,Ww(a));break;case 4:p=sr,sr=Sc(a.stateNode.containerInfo),fn(s,a),dn(a),sr=p;break;case 12:fn(s,a),dn(a);break;case 31:fn(s,a),dn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,lc(a,p)));break;case 13:fn(s,a),dn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cc=_n()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,lc(a,p)));break;case 22:b=a.memoizedState!==null;var L=u!==null&&u.memoizedState!==null,H=qr,Q=_t;if(qr=H||b,_t=Q||L,fn(s,a),_t=Q,qr=H,dn(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(u===null||L||qr||_t||da(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){L=u=s;try{if(_=L.stateNode,b)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=L.stateNode;var ee=L.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;N.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ce){He(L,L.return,ce)}}}else if(s.tag===6){if(u===null){L=s;try{L.stateNode.nodeValue=b?"":L.memoizedProps}catch(ce){He(L,L.return,ce)}}}else if(s.tag===18){if(u===null){L=s;try{var W=L.stateNode;b?qS(W,!0):qS(L.stateNode,!1)}catch(ce){He(L,L.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,lc(a,u))));break;case 19:fn(s,a),dn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,lc(a,p)));break;case 30:break;case 21:break;default:fn(s,a),dn(a)}}function dn(a){var s=a.flags;if(s&2){try{for(var u,p=a.return;p!==null;){if($w(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,_=dp(a);sc(a,_,b);break;case 5:var x=u.stateNode;u.flags&32&&(Za(x,""),u.flags&=-33);var N=dp(a);sc(a,N,x);break;case 3:case 4:var L=u.stateNode.containerInfo,H=dp(a);hp(a,H,L);break;default:throw Error(r(161))}}catch(Q){He(a,a.return,Q)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Ww(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Ww(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function $r(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Gw(a,s.alternate,s),s=s.sibling}function da(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Si(4,s,s.return),da(s);break;case 1:br(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&qw(s,s.return,u),da(s);break;case 27:hl(s.stateNode);case 26:case 5:br(s,s.return),da(s);break;case 22:s.memoizedState===null&&da(s);break;case 30:da(s);break;default:da(s)}a=a.sibling}}function zr(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:zr(b,_,u),rl(4,_);break;case 1:if(zr(b,_,u),p=_,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(H){He(p,p.return,H)}if(p=_,b=p.updateQueue,b!==null){var N=p.stateNode;try{var L=b.shared.hiddenCallbacks;if(L!==null)for(b.shared.hiddenCallbacks=null,b=0;b<L.length;b++)C_(L[b],N)}catch(H){He(p,p.return,H)}}u&&x&64&&Bw(_),il(_,_.return);break;case 27:zw(_);case 26:case 5:zr(b,_,u),u&&p===null&&x&4&&jw(_),il(_,_.return);break;case 12:zr(b,_,u);break;case 31:zr(b,_,u),u&&x&4&&Kw(b,_);break;case 13:zr(b,_,u),u&&x&4&&Yw(b,_);break;case 22:_.memoizedState===null&&zr(b,_,u),il(_,_.return);break;case 30:break;default:zr(b,_,u)}s=s.sibling}}function mp(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Gs(u))}function gp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Gs(a))}function lr(a,s,u,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xw(a,s,u,p),s=s.sibling}function Xw(a,s,u,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:lr(a,s,u,p),b&2048&&rl(9,s);break;case 1:lr(a,s,u,p);break;case 3:lr(a,s,u,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Gs(a)));break;case 12:if(b&2048){lr(a,s,u,p),a=s.stateNode;try{var _=s.memoizedProps,x=_.id,N=_.onPostCommit;typeof N=="function"&&N(x,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(L){He(s,s.return,L)}}else lr(a,s,u,p);break;case 31:lr(a,s,u,p);break;case 13:lr(a,s,u,p);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?lr(a,s,u,p):al(a,s):_._visibility&2?lr(a,s,u,p):(_._visibility|=2,_o(a,s,u,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&mp(x,s);break;case 24:lr(a,s,u,p),b&2048&&gp(s.alternate,s);break;default:lr(a,s,u,p)}}function _o(a,s,u,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,x=s,N=u,L=p,H=x.flags;switch(x.tag){case 0:case 11:case 15:_o(_,x,N,L,b),rl(8,x);break;case 23:break;case 22:var Q=x.stateNode;x.memoizedState!==null?Q._visibility&2?_o(_,x,N,L,b):al(_,x):(Q._visibility|=2,_o(_,x,N,L,b)),b&&H&2048&&mp(x.alternate,x);break;case 24:_o(_,x,N,L,b),b&&H&2048&&gp(x.alternate,x);break;default:_o(_,x,N,L,b)}s=s.sibling}}function al(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,p=s,b=p.flags;switch(p.tag){case 22:al(u,p),b&2048&&mp(p.alternate,p);break;case 24:al(u,p),b&2048&&gp(p.alternate,p);break;default:al(u,p)}s=s.sibling}}var ol=8192;function wo(a,s,u){if(a.subtreeFlags&ol)for(a=a.child;a!==null;)Qw(a,s,u),a=a.sibling}function Qw(a,s,u){switch(a.tag){case 26:wo(a,s,u),a.flags&ol&&a.memoizedState!==null&&Zk(u,sr,a.memoizedState,a.memoizedProps);break;case 5:wo(a,s,u);break;case 3:case 4:var p=sr;sr=Sc(a.stateNode.containerInfo),wo(a,s,u),sr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=ol,ol=16777216,wo(a,s,u),ol=p):wo(a,s,u));break;default:wo(a,s,u)}}function Zw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function sl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];It=p,tS(p,a)}Zw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)eS(a),a=a.sibling}function eS(a){switch(a.tag){case 0:case 11:case 15:sl(a),a.flags&2048&&Si(9,a,a.return);break;case 3:sl(a);break;case 12:sl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,uc(a)):sl(a);break;default:sl(a)}}function uc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];It=p,tS(p,a)}Zw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Si(8,s,s.return),uc(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,uc(s));break;default:uc(s)}a=a.sibling}}function tS(a,s){for(;It!==null;){var u=It;switch(u.tag){case 0:case 11:case 15:Si(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Gs(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,It=p;else e:for(u=a;It!==null;){p=It;var b=p.sibling,_=p.return;if(Vw(p),p===u){It=null;break e}if(b!==null){b.return=_,It=b;break e}It=_}}}var pk={getCacheForType:function(a){var s=Kt(vt),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return Kt(vt).controller.signal}},mk=typeof WeakMap=="function"?WeakMap:Map,$e=0,We=null,Me=null,Ne=0,ze=0,Cn=null,Ei=!1,So=!1,vp=!1,Hr=0,dt=0,Ai=0,ha=0,yp=0,Mn=0,Eo=0,ll=null,hn=null,bp=!1,cc=0,nS=0,fc=1/0,dc=null,xi=null,xt=0,Ti=null,Ao=null,Gr=0,_p=0,wp=null,rS=null,ul=0,Sp=null;function Pn(){return($e&2)!==0&&Ne!==0?Ne&-Ne:$.T!==null?Mp():bb()}function iS(){if(Mn===0)if((Ne&536870912)===0||De){var a=_u;_u<<=1,(_u&3932160)===0&&(_u=262144),Mn=a}else Mn=536870912;return a=xn.current,a!==null&&(a.flags|=32),Mn}function pn(a,s,u){(a===We&&(ze===2||ze===9)||a.cancelPendingCommit!==null)&&(xo(a,0),Ci(a,Ne,Mn,!1)),Os(a,u),(($e&2)===0||a!==We)&&(a===We&&(($e&2)===0&&(ha|=u),dt===4&&Ci(a,Ne,Mn,!1)),_r(a))}function aS(a,s,u){if(($e&6)!==0)throw Error(r(327));var p=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Ps(a,s),b=p?yk(a,s):Ap(a,s,!0),_=p;do{if(b===0){So&&!p&&Ci(a,s,0,!1);break}else{if(u=a.current.alternate,_&&!gk(u)){b=Ap(a,s,!1),_=!1;continue}if(b===2){if(_=s,a.errorRecoveryDisabledLanes&_)var x=0;else x=a.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var N=a;b=ll;var L=N.current.memoizedState.isDehydrated;if(L&&(xo(N,x).flags|=256),x=Ap(N,x,!1),x!==2){if(vp&&!L){N.errorRecoveryDisabledLanes|=_,ha|=_,b=4;break e}_=hn,hn=b,_!==null&&(hn===null?hn=_:hn.push.apply(hn,_))}b=x}if(_=!1,b!==2)continue}}if(b===1){xo(a,0),Ci(a,s,0,!0);break}e:{switch(p=a,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ci(p,s,Mn,!Ei);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=cc+300-_n(),10<b)){if(Ci(p,s,Mn,!Ei),Su(p,0,!0)!==0)break e;Gr=s,p.timeoutHandle=LS(oS.bind(null,p,u,hn,dc,bp,s,Mn,ha,Eo,Ei,_,"Throttled",-0,0),b);break e}oS(p,u,hn,dc,bp,s,Mn,ha,Eo,Ei,_,null,-0,0)}}break}while(!0);_r(a)}function oS(a,s,u,p,b,_,x,N,L,H,Q,ee,K,W){if(a.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pr},Qw(s,_,ee);var ce=(_&62914560)===_?cc-_n():(_&4194048)===_?nS-_n():0;if(ce=e2(ee,ce),ce!==null){Gr=_,a.cancelPendingCommit=ce(pS.bind(null,a,s,_,u,p,b,x,N,L,Q,ee,null,K,W)),Ci(a,_,x,!H);return}}pS(a,s,_,u,p,b,x,N,L)}function gk(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],_=b.getSnapshot;b=b.value;try{if(!En(_(),b))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(a,s,u,p){s&=~yp,s&=~ha,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var _=31-Sn(b),x=1<<_;p[_]=-1,b&=~x}u!==0&&gb(a,u,s)}function hc(){return($e&6)===0?(cl(0),!1):!0}function Ep(){if(Me!==null){if(ze===0)var a=Me.return;else a=Me,Dr=ia=null,qh(a),mo=null,Fs=0,a=Me;for(;a!==null;)Uw(a.alternate,a),a=a.return;Me=null}}function xo(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Lk(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Gr=0,Ep(),We=a,Me=u=Nr(a.current,null),Ne=s,ze=0,Cn=null,Ei=!1,So=Ps(a,s),vp=!1,Eo=Mn=yp=ha=Ai=dt=0,hn=ll=null,bp=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-Sn(p),_=1<<b;s|=a[b],p&=~_}return Hr=s,Iu(),u}function sS(a,s){Ae=null,$.H=el,s===po||s===zu?(s=E_(),ze=3):s===Ch?(s=E_(),ze=4):ze=s===tp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Me===null&&(dt=1,nc(a,zn(s,a.current)))}function lS(){var a=xn.current;return a===null?!0:(Ne&4194048)===Ne?Fn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?a===Fn:!1}function uS(){var a=$.H;return $.H=el,a===null?el:a}function cS(){var a=$.A;return $.A=pk,a}function pc(){dt=4,Ei||(Ne&4194048)!==Ne&&xn.current!==null||(So=!0),(Ai&134217727)===0&&(ha&134217727)===0||We===null||Ci(We,Ne,Mn,!1)}function Ap(a,s,u){var p=$e;$e|=2;var b=uS(),_=cS();(We!==a||Ne!==s)&&(dc=null,xo(a,s)),s=!1;var x=dt;e:do try{if(ze!==0&&Me!==null){var N=Me,L=Cn;switch(ze){case 8:Ep(),x=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var H=ze;if(ze=0,Cn=null,To(a,N,L,H),u&&So){x=0;break e}break;default:H=ze,ze=0,Cn=null,To(a,N,L,H)}}vk(),x=dt;break}catch(Q){sS(a,Q)}while(!0);return s&&a.shellSuspendCounter++,Dr=ia=null,$e=p,$.H=b,$.A=_,Me===null&&(We=null,Ne=0,Iu()),x}function vk(){for(;Me!==null;)fS(Me)}function yk(a,s){var u=$e;$e|=2;var p=uS(),b=cS();We!==a||Ne!==s?(dc=null,fc=_n()+500,xo(a,s)):So=Ps(a,s);e:do try{if(ze!==0&&Me!==null){s=Me;var _=Cn;t:switch(ze){case 1:ze=0,Cn=null,To(a,s,_,1);break;case 2:case 9:if(w_(_)){ze=0,Cn=null,dS(s);break}s=function(){ze!==2&&ze!==9||We!==a||(ze=7),_r(a)},_.then(s,s);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:w_(_)?(ze=0,Cn=null,dS(s)):(ze=0,Cn=null,To(a,s,_,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var N=Me;if(x?XS(x):N.stateNode.complete){ze=0,Cn=null;var L=N.sibling;if(L!==null)Me=L;else{var H=N.return;H!==null?(Me=H,mc(H)):Me=null}break t}}ze=0,Cn=null,To(a,s,_,5);break;case 6:ze=0,Cn=null,To(a,s,_,6);break;case 8:Ep(),dt=6;break e;default:throw Error(r(462))}}bk();break}catch(Q){sS(a,Q)}while(!0);return Dr=ia=null,$.H=p,$.A=b,$e=u,Me!==null?0:(We=null,Ne=0,Iu(),dt)}function bk(){for(;Me!==null&&!zD();)fS(Me)}function fS(a){var s=kw(a.alternate,a,Hr);a.memoizedProps=a.pendingProps,s===null?mc(a):Me=s}function dS(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=Pw(u,s,s.pendingProps,s.type,void 0,Ne);break;case 11:s=Pw(u,s,s.pendingProps,s.type.render,s.ref,Ne);break;case 5:qh(s);default:Uw(u,s),s=Me=c_(s,Hr),s=kw(u,s,Hr)}a.memoizedProps=a.pendingProps,s===null?mc(a):Me=s}function To(a,s,u,p){Dr=ia=null,qh(s),mo=null,Fs=0;var b=s.return;try{if(sk(a,b,s,u,Ne)){dt=1,nc(a,zn(u,a.current)),Me=null;return}}catch(_){if(b!==null)throw Me=b,_;dt=1,nc(a,zn(u,a.current)),Me=null;return}s.flags&32768?(De||p===1?a=!0:So||(Ne&536870912)!==0?a=!1:(Ei=a=!0,(p===2||p===9||p===3||p===6)&&(p=xn.current,p!==null&&p.tag===13&&(p.flags|=16384))),hS(s,a)):mc(s)}function mc(a){var s=a;do{if((s.flags&32768)!==0){hS(s,Ei);return}a=s.return;var u=ck(s.alternate,s,Hr);if(u!==null){Me=u;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=a}while(s!==null);dt===0&&(dt=5)}function hS(a,s){do{var u=fk(a.alternate,a);if(u!==null){u.flags&=32767,Me=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Me=a;return}Me=a=u}while(a!==null);dt=6,Me=null}function pS(a,s,u,p,b,_,x,N,L){a.cancelPendingCommit=null;do gc();while(xt!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=dh,QD(a,u,_,x,N,L),a===We&&(Me=We=null,Ne=0),Ao=s,Ti=a,Gr=u,_p=_,wp=b,rS=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Ek(yu,function(){return bS(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,b=te.p,te.p=2,x=$e,$e|=4;try{dk(a,s,u)}finally{$e=x,te.p=b,$.T=p}}xt=1,mS(),gS(),vS()}}function mS(){if(xt===1){xt=0;var a=Ti,s=Ao,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var p=te.p;te.p=2;var b=$e;$e|=4;try{Jw(s,a);var _=Lp,x=t_(a.containerInfo),N=_.focusedElem,L=_.selectionRange;if(x!==N&&N&&N.ownerDocument&&e_(N.ownerDocument.documentElement,N)){if(L!==null&&sh(N)){var H=L.start,Q=L.end;if(Q===void 0&&(Q=H),"selectionStart"in N)N.selectionStart=H,N.selectionEnd=Math.min(Q,N.value.length);else{var ee=N.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var W=K.getSelection(),ce=N.textContent.length,be=Math.min(L.start,ce),Ye=L.end===void 0?be:Math.min(L.end,ce);!W.extend&&be>Ye&&(x=Ye,Ye=be,be=x);var j=Zb(N,be),B=Zb(N,Ye);if(j&&B&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var z=ee.createRange();z.setStart(j.node,j.offset),W.removeAllRanges(),be>Ye?(W.addRange(z),W.extend(B.node,B.offset)):(z.setEnd(B.node,B.offset),W.addRange(z))}}}}for(ee=[],W=N;W=W.parentNode;)W.nodeType===1&&ee.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ee.length;N++){var Z=ee[N];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Mc=!!kp,Lp=kp=null}finally{$e=b,te.p=p,$.T=u}}a.current=s,xt=2}}function gS(){if(xt===2){xt=0;var a=Ti,s=Ao,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var p=te.p;te.p=2;var b=$e;$e|=4;try{Gw(a,s.alternate,s)}finally{$e=b,te.p=p,$.T=u}}xt=3}}function vS(){if(xt===4||xt===3){xt=0,HD();var a=Ti,s=Ao,u=Gr,p=rS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xt=5:(xt=0,Ao=Ti=null,yS(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(xi=null),zd(u),s=s.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Ms,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=$.T,b=te.p,te.p=2,$.T=null;try{for(var _=a.onRecoverableError,x=0;x<p.length;x++){var N=p[x];_(N.value,{componentStack:N.stack})}}finally{$.T=s,te.p=b}}(Gr&3)!==0&&gc(),_r(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===Sp?ul++:(ul=0,Sp=a):ul=0,cl(0)}}function yS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Gs(s)))}function gc(){return mS(),gS(),vS(),bS()}function bS(){if(xt!==5)return!1;var a=Ti,s=_p;_p=0;var u=zd(Gr),p=$.T,b=te.p;try{te.p=32>u?32:u,$.T=null,u=wp,wp=null;var _=Ti,x=Gr;if(xt=0,Ao=Ti=null,Gr=0,($e&6)!==0)throw Error(r(331));var N=$e;if($e|=4,eS(_.current),Xw(_,_.current,x,u),$e=N,cl(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Ms,_)}catch{}return!0}finally{te.p=b,$.T=p,yS(a,s)}}function _S(a,s,u){s=zn(u,s),s=ep(a.stateNode,s,2),a=bi(a,s,2),a!==null&&(Os(a,2),_r(a))}function He(a,s,u){if(a.tag===3)_S(a,a,u);else for(;s!==null;){if(s.tag===3){_S(s,a,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xi===null||!xi.has(p))){a=zn(u,a),u=ww(2),p=bi(s,u,2),p!==null&&(Sw(u,p,s,a),Os(p,2),_r(p));break}}s=s.return}}function xp(a,s,u){var p=a.pingCache;if(p===null){p=a.pingCache=new mk;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(u)||(vp=!0,b.add(u),a=_k.bind(null,a,s,u),s.then(a,a))}function _k(a,s,u){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,We===a&&(Ne&u)===u&&(dt===4||dt===3&&(Ne&62914560)===Ne&&300>_n()-cc?($e&2)===0&&xo(a,0):yp|=u,Eo===Ne&&(Eo=0)),_r(a)}function wS(a,s){s===0&&(s=mb()),a=ta(a,s),a!==null&&(Os(a,s),_r(a))}function wk(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),wS(a,u)}function Sk(a,s){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),wS(a,u)}function Ek(a,s){return Bd(a,s)}var vc=null,Co=null,Tp=!1,yc=!1,Cp=!1,Mi=0;function _r(a){a!==Co&&a.next===null&&(Co===null?vc=Co=a:Co=Co.next=a),yc=!0,Tp||(Tp=!0,xk())}function cl(a,s){if(!Cp&&yc){Cp=!0;do for(var u=!1,p=vc;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var _=0;else{var x=p.suspendedLanes,N=p.pingedLanes;_=(1<<31-Sn(42|a)+1)-1,_&=b&~(x&~N),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,xS(p,_))}else _=Ne,_=Su(p,p===We?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Ps(p,_)||(u=!0,xS(p,_));p=p.next}while(u);Cp=!1}}function Ak(){SS()}function SS(){yc=Tp=!1;var a=0;Mi!==0&&kk()&&(a=Mi);for(var s=_n(),u=null,p=vc;p!==null;){var b=p.next,_=ES(p,s);_===0?(p.next=null,u===null?vc=b:u.next=b,b===null&&(Co=u)):(u=p,(a!==0||(_&3)!==0)&&(yc=!0)),p=b}xt!==0&&xt!==5||cl(a),Mi!==0&&(Mi=0)}function ES(a,s){for(var u=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var x=31-Sn(_),N=1<<x,L=b[x];L===-1?((N&u)===0||(N&p)!==0)&&(b[x]=XD(N,s)):L<=s&&(a.expiredLanes|=N),_&=~N}if(s=We,u=Ne,u=Su(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===s&&(ze===2||ze===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&qd(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ps(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(p!==null&&qd(p),zd(u)){case 2:case 8:u=hb;break;case 32:u=yu;break;case 268435456:u=pb;break;default:u=yu}return p=AS.bind(null,a),u=Bd(u,p),a.callbackPriority=s,a.callbackNode=u,s}return p!==null&&p!==null&&qd(p),a.callbackPriority=2,a.callbackNode=null,2}function AS(a,s){if(xt!==0&&xt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(gc()&&a.callbackNode!==u)return null;var p=Ne;return p=Su(a,a===We?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(aS(a,p,s),ES(a,_n()),a.callbackNode!=null&&a.callbackNode===u?AS.bind(null,a):null)}function xS(a,s){if(gc())return null;aS(a,s,!0)}function xk(){Uk(function(){($e&6)!==0?Bd(db,Ak):SS()})}function Mp(){if(Mi===0){var a=fo;a===0&&(a=bu,bu<<=1,(bu&261888)===0&&(bu=256)),Mi=a}return Mi}function TS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Tu(""+a)}function CS(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function Tk(a,s,u,p,b){if(s==="submit"&&u&&u.stateNode===b){var _=TS((b[ln]||null).action),x=p.submitter;x&&(s=(s=x[ln]||null)?TS(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var N=new Ou("action","action",null,p,b);a.push({event:N,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Mi!==0){var L=x?CS(b,x):new FormData(b);Yh(u,{pending:!0,data:L,method:b.method,action:_},null,L)}}else typeof _=="function"&&(N.preventDefault(),L=x?CS(b,x):new FormData(b),Yh(u,{pending:!0,data:L,method:b.method,action:_},_,L))},currentTarget:b}]})}}for(var Pp=0;Pp<fh.length;Pp++){var Op=fh[Pp],Ck=Op.toLowerCase(),Mk=Op[0].toUpperCase()+Op.slice(1);or(Ck,"on"+Mk)}or(i_,"onAnimationEnd"),or(a_,"onAnimationIteration"),or(o_,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(GI,"onTransitionRun"),or(VI,"onTransitionStart"),or(FI,"onTransitionCancel"),or(s_,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function MS(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],b=p.event;p=p.listeners;e:{var _=void 0;if(s)for(var x=p.length-1;0<=x;x--){var N=p[x],L=N.instance,H=N.currentTarget;if(N=N.listener,L!==_&&b.isPropagationStopped())break e;_=N,b.currentTarget=H;try{_(b)}catch(Q){Du(Q)}b.currentTarget=null,_=L}else for(x=0;x<p.length;x++){if(N=p[x],L=N.instance,H=N.currentTarget,N=N.listener,L!==_&&b.isPropagationStopped())break e;_=N,b.currentTarget=H;try{_(b)}catch(Q){Du(Q)}b.currentTarget=null,_=L}}}}function Pe(a,s){var u=s[Hd];u===void 0&&(u=s[Hd]=new Set);var p=a+"__bubble";u.has(p)||(PS(s,a,2,!1),u.add(p))}function Np(a,s,u){var p=0;s&&(p|=4),PS(u,a,p,s)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Rp(a){if(!a[bc]){a[bc]=!0,Sb.forEach(function(u){u!=="selectionchange"&&(Pk.has(u)||Np(u,!1,a),Np(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[bc]||(s[bc]=!0,Np("selectionchange",!1,s))}}function PS(a,s,u,p){switch(iE(s)){case 2:var b=r2;break;case 8:b=i2;break;default:b=Kp}u=b.bind(null,s,u,a),b=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,u,{capture:!0,passive:b}):a.addEventListener(s,u,!0):b!==void 0?a.addEventListener(s,u,{passive:b}):a.addEventListener(s,u,!1)}function Dp(a,s,u,p,b){var _=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var N=p.stateNode.containerInfo;if(N===b)break;if(x===4)for(x=p.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===b)return;x=x.return}for(;N!==null;){if(x=Ya(N),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){p=_=x;continue e}N=N.parentNode}}p=p.return}Ib(function(){var H=_,Q=Wd(u),ee=[];e:{var K=l_.get(a);if(K!==void 0){var W=Ou,ce=a;switch(a){case"keypress":if(Mu(u)===0)break e;case"keydown":case"keyup":W=SI;break;case"focusin":ce="focus",W=nh;break;case"focusout":ce="blur",W=nh;break;case"beforeblur":case"afterblur":W=nh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=cI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=xI;break;case i_:case a_:case o_:W=hI;break;case s_:W=CI;break;case"scroll":case"scrollend":W=lI;break;case"wheel":W=PI;break;case"copy":case"cut":case"paste":W=mI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=qb;break;case"toggle":case"beforetoggle":W=NI}var be=(s&4)!==0,Ye=!be&&(a==="scroll"||a==="scrollend"),j=be?K!==null?K+"Capture":null:K;be=[];for(var B=H,z;B!==null;){var Z=B;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||j===null||(Z=Ds(B,j),Z!=null&&be.push(dl(B,Z,z))),Ye)break;B=B.return}0<be.length&&(K=new W(K,ce,null,u,Q),ee.push({event:K,listeners:be}))}}if((s&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",W=a==="mouseout"||a==="pointerout",K&&u!==Jd&&(ce=u.relatedTarget||u.fromElement)&&(Ya(ce)||ce[Ka]))break e;if((W||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ce=u.relatedTarget||u.toElement,W=H,ce=ce?Ya(ce):null,ce!==null&&(Ye=o(ce),be=ce.tag,ce!==Ye||be!==5&&be!==27&&be!==6)&&(ce=null)):(W=null,ce=H),W!==ce)){if(be=Ub,Z="onMouseLeave",j="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(be=qb,Z="onPointerLeave",j="onPointerEnter",B="pointer"),Ye=W==null?K:Rs(W),z=ce==null?K:Rs(ce),K=new be(Z,B+"leave",W,u,Q),K.target=Ye,K.relatedTarget=z,Z=null,Ya(Q)===H&&(be=new be(j,B+"enter",ce,u,Q),be.target=z,be.relatedTarget=Ye,Z=be),Ye=Z,W&&ce)t:{for(be=Ok,j=W,B=ce,z=0,Z=j;Z;Z=be(Z))z++;Z=0;for(var me=B;me;me=be(me))Z++;for(;0<z-Z;)j=be(j),z--;for(;0<Z-z;)B=be(B),Z--;for(;z--;){if(j===B||B!==null&&j===B.alternate){be=j;break t}j=be(j),B=be(B)}be=null}else be=null;W!==null&&OS(ee,K,W,be,!1),ce!==null&&Ye!==null&&OS(ee,Ye,ce,be,!0)}}e:{if(K=H?Rs(H):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Le=Kb;else if(Vb(K))if(Yb)Le=$I;else{Le=qI;var de=BI}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&Yd(H.elementType)&&(Le=Kb):Le=jI;if(Le&&(Le=Le(a,H))){Fb(ee,Le,u,Q);break e}de&&de(a,K,H),a==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&Kd(K,"number",K.value)}switch(de=H?Rs(H):window,a){case"focusin":(Vb(de)||de.contentEditable==="true")&&(ro=de,lh=H,$s=null);break;case"focusout":$s=lh=ro=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,n_(ee,u,Q);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":n_(ee,u,Q)}var xe;if(ih)e:{switch(a){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else no?Hb(a,u)&&(Re="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(jb&&u.locale!=="ko"&&(no||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&no&&(xe=kb()):(di=Q,Zd="value"in di?di.value:di.textContent,no=!0)),de=_c(H,Re),0<de.length&&(Re=new Bb(Re,a,null,u,Q),ee.push({event:Re,listeners:de}),xe?Re.data=xe:(xe=Gb(u),xe!==null&&(Re.data=xe)))),(xe=DI?II(a,u):kI(a,u))&&(Re=_c(H,"onBeforeInput"),0<Re.length&&(de=new Bb("onBeforeInput","beforeinput",null,u,Q),ee.push({event:de,listeners:Re}),de.data=xe)),Tk(ee,a,H,u,Q)}MS(ee,s)})}function dl(a,s,u){return{instance:a,listener:s,currentTarget:u}}function _c(a,s){for(var u=s+"Capture",p=[];a!==null;){var b=a,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Ds(a,u),b!=null&&p.unshift(dl(a,b,_)),b=Ds(a,s),b!=null&&p.push(dl(a,b,_))),a.tag===3)return p;a=a.return}return[]}function Ok(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function OS(a,s,u,p,b){for(var _=s._reactName,x=[];u!==null&&u!==p;){var N=u,L=N.alternate,H=N.stateNode;if(N=N.tag,L!==null&&L===p)break;N!==5&&N!==26&&N!==27||H===null||(L=H,b?(H=Ds(u,_),H!=null&&x.unshift(dl(u,H,L))):b||(H=Ds(u,_),H!=null&&x.push(dl(u,H,L)))),u=u.return}x.length!==0&&a.push({event:s,listeners:x})}var Nk=/\r\n?/g,Rk=/\u0000|\uFFFD/g;function NS(a){return(typeof a=="string"?a:""+a).replace(Nk,`
`).replace(Rk,"")}function RS(a,s){return s=NS(s),NS(a)===s}function Ke(a,s,u,p,b,_){switch(u){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Za(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Za(a,""+p);break;case"className":Au(a,"class",p);break;case"tabIndex":Au(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Au(a,u,p);break;case"style":Rb(a,p,_);break;case"data":if(s!=="object"){Au(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Tu(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&Ke(a,s,"name",b.name,b,null),Ke(a,s,"formEncType",b.formEncType,b,null),Ke(a,s,"formMethod",b.formMethod,b,null),Ke(a,s,"formTarget",b.formTarget,b,null)):(Ke(a,s,"encType",b.encType,b,null),Ke(a,s,"method",b.method,b,null),Ke(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Tu(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Pr);break;case"onScroll":p!=null&&Pe("scroll",a);break;case"onScrollEnd":p!=null&&Pe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=Tu(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Pe("beforetoggle",a),Pe("toggle",a),Eu(a,"popover",p);break;case"xlinkActuate":Mr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Mr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Mr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Mr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Mr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Mr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Eu(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=oI.get(u)||u,Eu(a,u,p))}}function Ip(a,s,u,p,b,_){switch(u){case"style":Rb(a,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?Za(a,p):(typeof p=="number"||typeof p=="bigint")&&Za(a,""+p);break;case"onScroll":p!=null&&Pe("scroll",a);break;case"onScrollEnd":p!=null&&Pe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eb.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),s=u.slice(2,b?u.length-7:void 0),_=a[ln]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(s,_,b),typeof p=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,p,b);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Eu(a,u,p)}}}function Jt(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",a),Pe("load",a);var p=!1,b=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var x=u[_];if(x!=null)switch(_){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ke(a,s,_,x,u,null)}}b&&Ke(a,s,"srcSet",u.srcSet,u,null),p&&Ke(a,s,"src",u.src,u,null);return;case"input":Pe("invalid",a);var N=_=x=b=null,L=null,H=null;for(p in u)if(u.hasOwnProperty(p)){var Q=u[p];if(Q!=null)switch(p){case"name":b=Q;break;case"type":x=Q;break;case"checked":L=Q;break;case"defaultChecked":H=Q;break;case"value":_=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Ke(a,s,p,Q,u,null)}}Mb(a,_,N,L,H,x,b,!1);return;case"select":Pe("invalid",a),p=x=_=null;for(b in u)if(u.hasOwnProperty(b)&&(N=u[b],N!=null))switch(b){case"value":_=N;break;case"defaultValue":x=N;break;case"multiple":p=N;default:Ke(a,s,b,N,u,null)}s=_,u=x,a.multiple=!!p,s!=null?Qa(a,!!p,s,!1):u!=null&&Qa(a,!!p,u,!0);return;case"textarea":Pe("invalid",a),_=b=p=null;for(x in u)if(u.hasOwnProperty(x)&&(N=u[x],N!=null))switch(x){case"value":p=N;break;case"defaultValue":b=N;break;case"children":_=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Ke(a,s,x,N,u,null)}Ob(a,p,b,_);return;case"option":for(L in u)if(u.hasOwnProperty(L)&&(p=u[L],p!=null))switch(L){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ke(a,s,L,p,u,null)}return;case"dialog":Pe("beforetoggle",a),Pe("toggle",a),Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":Pe("load",a);break;case"video":case"audio":for(p=0;p<fl.length;p++)Pe(fl[p],a);break;case"image":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"embed":case"source":case"link":Pe("error",a),Pe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in u)if(u.hasOwnProperty(H)&&(p=u[H],p!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ke(a,s,H,p,u,null)}return;default:if(Yd(s)){for(Q in u)u.hasOwnProperty(Q)&&(p=u[Q],p!==void 0&&Ip(a,s,Q,p,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(p=u[N],p!=null&&Ke(a,s,N,p,u,null))}function Dk(a,s,u,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,x=null,N=null,L=null,H=null,Q=null;for(W in u){var ee=u[W];if(u.hasOwnProperty(W)&&ee!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=ee;default:p.hasOwnProperty(W)||Ke(a,s,W,null,p,ee)}}for(var K in p){var W=p[K];if(ee=u[K],p.hasOwnProperty(K)&&(W!=null||ee!=null))switch(K){case"type":_=W;break;case"name":b=W;break;case"checked":H=W;break;case"defaultChecked":Q=W;break;case"value":x=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==ee&&Ke(a,s,K,W,p,ee)}}Fd(a,x,N,L,H,Q,_,b);return;case"select":W=x=N=K=null;for(_ in u)if(L=u[_],u.hasOwnProperty(_)&&L!=null)switch(_){case"value":break;case"multiple":W=L;default:p.hasOwnProperty(_)||Ke(a,s,_,null,p,L)}for(b in p)if(_=p[b],L=u[b],p.hasOwnProperty(b)&&(_!=null||L!=null))switch(b){case"value":K=_;break;case"defaultValue":N=_;break;case"multiple":x=_;default:_!==L&&Ke(a,s,b,_,p,L)}s=N,u=x,p=W,K!=null?Qa(a,!!u,K,!1):!!p!=!!u&&(s!=null?Qa(a,!!u,s,!0):Qa(a,!!u,u?[]:"",!1));return;case"textarea":W=K=null;for(N in u)if(b=u[N],u.hasOwnProperty(N)&&b!=null&&!p.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ke(a,s,N,null,p,b)}for(x in p)if(b=p[x],_=u[x],p.hasOwnProperty(x)&&(b!=null||_!=null))switch(x){case"value":K=b;break;case"defaultValue":W=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&Ke(a,s,x,b,p,_)}Pb(a,K,W);return;case"option":for(var ce in u)if(K=u[ce],u.hasOwnProperty(ce)&&K!=null&&!p.hasOwnProperty(ce))switch(ce){case"selected":a.selected=!1;break;default:Ke(a,s,ce,null,p,K)}for(L in p)if(K=p[L],W=u[L],p.hasOwnProperty(L)&&K!==W&&(K!=null||W!=null))switch(L){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ke(a,s,L,K,p,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in u)K=u[be],u.hasOwnProperty(be)&&K!=null&&!p.hasOwnProperty(be)&&Ke(a,s,be,null,p,K);for(H in p)if(K=p[H],W=u[H],p.hasOwnProperty(H)&&K!==W&&(K!=null||W!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Ke(a,s,H,K,p,W)}return;default:if(Yd(s)){for(var Ye in u)K=u[Ye],u.hasOwnProperty(Ye)&&K!==void 0&&!p.hasOwnProperty(Ye)&&Ip(a,s,Ye,void 0,p,K);for(Q in p)K=p[Q],W=u[Q],!p.hasOwnProperty(Q)||K===W||K===void 0&&W===void 0||Ip(a,s,Q,K,p,W);return}}for(var j in u)K=u[j],u.hasOwnProperty(j)&&K!=null&&!p.hasOwnProperty(j)&&Ke(a,s,j,null,p,K);for(ee in p)K=p[ee],W=u[ee],!p.hasOwnProperty(ee)||K===W||K==null&&W==null||Ke(a,s,ee,K,p,W)}function DS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ik(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var b=u[p],_=b.transferSize,x=b.initiatorType,N=b.duration;if(_&&N&&DS(x)){for(x=0,N=b.responseEnd,p+=1;p<u.length;p++){var L=u[p],H=L.startTime;if(H>N)break;var Q=L.transferSize,ee=L.initiatorType;Q&&DS(ee)&&(L=L.responseEnd,x+=Q*(L<N?1:(N-H)/(L-H)))}if(--p,s+=8*(_+x)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var kp=null,Lp=null;function wc(a){return a.nodeType===9?a:a.ownerDocument}function IS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Up(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function kk(){var a=window.event;return a&&a.type==="popstate"?a===Bp?!1:(Bp=a,!0):(Bp=null,!1)}var LS=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(a){return US.resolve(null).then(a).catch(Bk)}:LS;function Bk(a){setTimeout(function(){throw a})}function Pi(a){return a==="head"}function BS(a,s){var u=s,p=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(b),No(s);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")hl(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,hl(u);for(var _=u.firstChild;_;){var x=_.nextSibling,N=_.nodeName;_[Ns]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=x}}else u==="body"&&hl(a.ownerDocument.body);u=b}while(u);No(s)}function qS(a,s){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function qp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":qp(u),Gd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function qk(a,s,u,p){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Ns])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Kn(a.nextSibling),a===null)break}return null}function jk(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Kn(a.nextSibling),a===null))return null;return a}function jS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Kn(a.nextSibling),a===null))return null;return a}function jp(a){return a.data==="$?"||a.data==="$~"}function $p(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function $k(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var p=function(){s(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Kn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var zp=null;function $S(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return Kn(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function zS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function HS(a,s,u){switch(s=wc(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function hl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Gd(a)}var Yn=new Map,GS=new Set;function Sc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Vr=te.d;te.d={f:zk,r:Hk,D:Gk,C:Vk,L:Fk,m:Kk,X:Jk,S:Yk,M:Wk};function zk(){var a=Vr.f(),s=hc();return a||s}function Hk(a){var s=Ja(a);s!==null&&s.tag===5&&s.type==="form"?sw(s):Vr.r(a)}var Mo=typeof document>"u"?null:document;function VS(a,s,u){var p=Mo;if(p&&typeof s=="string"&&s){var b=jn(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),GS.has(b)||(GS.add(b),a={rel:a,crossOrigin:u,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),Jt(s,"link",a),Dt(s),p.head.appendChild(s)))}}function Gk(a){Vr.D(a),VS("dns-prefetch",a,null)}function Vk(a,s){Vr.C(a,s),VS("preconnect",a,s)}function Fk(a,s,u){Vr.L(a,s,u);var p=Mo;if(p&&a&&s){var b='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+jn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+jn(u.imageSizes)+'"]')):b+='[href="'+jn(a)+'"]';var _=b;switch(s){case"style":_=Po(a);break;case"script":_=Oo(a)}Yn.has(_)||(a=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),Yn.set(_,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(pl(_))||s==="script"&&p.querySelector(ml(_))||(s=p.createElement("link"),Jt(s,"link",a),Dt(s),p.head.appendChild(s)))}}function Kk(a,s){Vr.m(a,s);var u=Mo;if(u&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+jn(p)+'"][href="'+jn(a)+'"]',_=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Oo(a)}if(!Yn.has(_)&&(a=m({rel:"modulepreload",href:a},s),Yn.set(_,a),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ml(_)))return}p=u.createElement("link"),Jt(p,"link",a),Dt(p),u.head.appendChild(p)}}}function Yk(a,s,u){Vr.S(a,s,u);var p=Mo;if(p&&a){var b=Wa(p).hoistableStyles,_=Po(a);s=s||"default";var x=b.get(_);if(!x){var N={loading:0,preload:null};if(x=p.querySelector(pl(_)))N.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},u),(u=Yn.get(_))&&Hp(a,u);var L=x=p.createElement("link");Dt(L),Jt(L,"link",a),L._p=new Promise(function(H,Q){L.onload=H,L.onerror=Q}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Ec(x,s,p)}x={type:"stylesheet",instance:x,count:1,state:N},b.set(_,x)}}}function Jk(a,s){Vr.X(a,s);var u=Mo;if(u&&a){var p=Wa(u).hoistableScripts,b=Oo(a),_=p.get(b);_||(_=u.querySelector(ml(b)),_||(a=m({src:a,async:!0},s),(s=Yn.get(b))&&Gp(a,s),_=u.createElement("script"),Dt(_),Jt(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function Wk(a,s){Vr.M(a,s);var u=Mo;if(u&&a){var p=Wa(u).hoistableScripts,b=Oo(a),_=p.get(b);_||(_=u.querySelector(ml(b)),_||(a=m({src:a,async:!0,type:"module"},s),(s=Yn.get(b))&&Gp(a,s),_=u.createElement("script"),Dt(_),Jt(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function FS(a,s,u,p){var b=(b=Te.current)?Sc(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Po(u.href),u=Wa(b).hoistableStyles,p=u.get(s),p||(p={type:"style",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Po(u.href);var _=Wa(b).hoistableStyles,x=_.get(a);if(x||(b=b.ownerDocument||b,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,x),(_=b.querySelector(pl(a)))&&!_._p&&(x.instance=_,x.state.loading=5),Yn.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yn.set(a,u),_||Xk(b,a,u,x.state))),s&&p===null)throw Error(r(528,""));return x}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Oo(u),u=Wa(b).hoistableScripts,p=u.get(s),p||(p={type:"script",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Po(a){return'href="'+jn(a)+'"'}function pl(a){return'link[rel="stylesheet"]['+a+"]"}function KS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function Xk(a,s,u,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Jt(s,"link",u),Dt(s),a.head.appendChild(s))}function Oo(a){return'[src="'+jn(a)+'"]'}function ml(a){return"script[async]"+a}function YS(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+jn(u.href)+'"]');if(p)return s.instance=p,Dt(p),p;var b=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Dt(p),Jt(p,"style",b),Ec(p,u.precedence,a),s.instance=p;case"stylesheet":b=Po(u.href);var _=a.querySelector(pl(b));if(_)return s.state.loading|=4,s.instance=_,Dt(_),_;p=KS(u),(b=Yn.get(b))&&Hp(p,b),_=(a.ownerDocument||a).createElement("link"),Dt(_);var x=_;return x._p=new Promise(function(N,L){x.onload=N,x.onerror=L}),Jt(_,"link",p),s.state.loading|=4,Ec(_,u.precedence,a),s.instance=_;case"script":return _=Oo(u.src),(b=a.querySelector(ml(_)))?(s.instance=b,Dt(b),b):(p=u,(b=Yn.get(_))&&(p=m({},u),Gp(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Dt(b),Jt(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Ec(p,u.precedence,a));return s.instance}function Ec(a,s,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,_=b,x=0;x<p.length;x++){var N=p[x];if(N.dataset.precedence===s)_=N;else if(_!==b)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function Hp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Gp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Ac=null;function JS(a,s,u){if(Ac===null){var p=new Map,b=Ac=new Map;b.set(u,p)}else b=Ac,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var _=u[b];if(!(_[Ns]||_[Vt]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=a+x;var N=p.get(x);N?N.push(_):p.set(x,[_])}}return p}function WS(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function Qk(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function XS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Zk(a,s,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Po(p.href),_=s.querySelector(pl(b));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=xc.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=_,Dt(_);return}_=s.ownerDocument||s,p=KS(p),(b=Yn.get(b))&&Hp(p,b),_=_.createElement("link"),Dt(_);var x=_;x._p=new Promise(function(N,L){x.onload=N,x.onerror=L}),Jt(_,"link",p),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=xc.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var Vp=0;function e2(a,s){return a.stylesheets&&a.count===0&&Cc(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Cc(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&Vp===0&&(Vp=62500*Ik());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Cc(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>Vp?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tc=null;function Cc(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tc=new Map,s.forEach(t2,a),Tc=null,xc.call(a))}function t2(a,s){if(!(s.state.loading&4)){var u=Tc.get(a);if(u)var p=u.get(null);else{u=new Map,Tc.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var x=b[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),p=x)}p&&u.set(null,p)}b=s.instance,x=b.getAttribute("data-precedence"),_=u.get(x)||p,_===p&&u.set(null,b),u.set(x,b),this.count++,p=xc.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),_?_.parentNode.insertBefore(b,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var gl={$$typeof:O,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function n2(a,s,u,p,b,_,x,N,L){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.hiddenUpdates=jd(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function QS(a,s,u,p,b,_,x,N,L,H,Q,ee){return a=new n2(a,s,u,x,L,H,Q,ee,N),s=1,_===!0&&(s|=24),_=An(3,null,null,s),a.current=_,_.stateNode=a,s=Ah(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:p,isDehydrated:u,cache:s},Mh(_),a}function ZS(a){return a?(a=oo,a):oo}function eE(a,s,u,p,b,_){b=ZS(b),p.context===null?p.context=b:p.pendingContext=b,p=yi(s),p.payload={element:u},_=_===void 0?null:_,_!==null&&(p.callback=_),u=bi(a,p,s),u!==null&&(pn(u,a,s),Ys(u,a,s))}function tE(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function Fp(a,s){tE(a,s),(a=a.alternate)&&tE(a,s)}function nE(a){if(a.tag===13||a.tag===31){var s=ta(a,67108864);s!==null&&pn(s,a,67108864),Fp(a,67108864)}}function rE(a){if(a.tag===13||a.tag===31){var s=Pn();s=$d(s);var u=ta(a,s);u!==null&&pn(u,a,s),Fp(a,s)}}var Mc=!0;function r2(a,s,u,p){var b=$.T;$.T=null;var _=te.p;try{te.p=2,Kp(a,s,u,p)}finally{te.p=_,$.T=b}}function i2(a,s,u,p){var b=$.T;$.T=null;var _=te.p;try{te.p=8,Kp(a,s,u,p)}finally{te.p=_,$.T=b}}function Kp(a,s,u,p){if(Mc){var b=Yp(p);if(b===null)Dp(a,s,p,Pc,u),aE(a,p);else if(o2(b,a,s,u,p))p.stopPropagation();else if(aE(a,p),s&4&&-1<a2.indexOf(a)){for(;b!==null;){var _=Ja(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=Wi(_.pendingLanes);if(x!==0){var N=_;for(N.pendingLanes|=2,N.entangledLanes|=2;x;){var L=1<<31-Sn(x);N.entanglements[1]|=L,x&=~L}_r(_),($e&6)===0&&(fc=_n()+500,cl(0))}}break;case 31:case 13:N=ta(_,2),N!==null&&pn(N,_,2),hc(),Fp(_,2)}if(_=Yp(p),_===null&&Dp(a,s,p,Pc,u),_===b)break;b=_}b!==null&&p.stopPropagation()}else Dp(a,s,p,null,u)}}function Yp(a){return a=Wd(a),Jp(a)}var Pc=null;function Jp(a){if(Pc=null,a=Ya(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Pc=a,null}function iE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(GD()){case db:return 2;case hb:return 8;case yu:case VD:return 32;case pb:return 268435456;default:return 32}default:return 32}}var Wp=!1,Oi=null,Ni=null,Ri=null,vl=new Map,yl=new Map,Di=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(a,s){switch(a){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(s.pointerId)}}function bl(a,s,u,p,b,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[b]},s!==null&&(s=Ja(s),s!==null&&nE(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function o2(a,s,u,p,b){switch(s){case"focusin":return Oi=bl(Oi,a,s,u,p,b),!0;case"dragenter":return Ni=bl(Ni,a,s,u,p,b),!0;case"mouseover":return Ri=bl(Ri,a,s,u,p,b),!0;case"pointerover":var _=b.pointerId;return vl.set(_,bl(vl.get(_)||null,a,s,u,p,b)),!0;case"gotpointercapture":return _=b.pointerId,yl.set(_,bl(yl.get(_)||null,a,s,u,p,b)),!0}return!1}function oE(a){var s=Ya(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,_b(a.priority,function(){rE(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,_b(a.priority,function(){rE(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Oc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=Yp(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Jd=p,u.target.dispatchEvent(p),Jd=null}else return s=Ja(u),s!==null&&nE(s),a.blockedOn=u,!1;s.shift()}return!0}function sE(a,s,u){Oc(a)&&u.delete(s)}function s2(){Wp=!1,Oi!==null&&Oc(Oi)&&(Oi=null),Ni!==null&&Oc(Ni)&&(Ni=null),Ri!==null&&Oc(Ri)&&(Ri=null),vl.forEach(sE),yl.forEach(sE)}function Nc(a,s){a.blockedOn===s&&(a.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s2)))}var Rc=null;function lE(a){Rc!==a&&(Rc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rc===a&&(Rc=null);for(var s=0;s<a.length;s+=3){var u=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(Jp(p||u)===null)continue;break}var _=Ja(u);_!==null&&(a.splice(s,3),s-=3,Yh(_,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function No(a){function s(L){return Nc(L,a)}Oi!==null&&Nc(Oi,a),Ni!==null&&Nc(Ni,a),Ri!==null&&Nc(Ri,a),vl.forEach(s),yl.forEach(s);for(var u=0;u<Di.length;u++){var p=Di[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Di.length&&(u=Di[0],u.blockedOn===null);)oE(u),u.blockedOn===null&&Di.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],_=u[p+1],x=b[ln]||null;if(typeof _=="function")x||lE(u);else if(x){var N=null;if(_&&_.hasAttribute("formAction")){if(b=_,x=_[ln]||null)N=x.formAction;else if(Jp(b)!==null)continue}else N=x.action;typeof N=="function"?u[p+1]=N:(u.splice(p,3),p-=3),lE(u)}}}function uE(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return b=x})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Xp(a){this._internalRoot=a}Dc.prototype.render=Xp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,p=Pn();eE(u,p,a,s,null,null)},Dc.prototype.unmount=Xp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;eE(a.current,2,null,a,null,null),hc(),s[Ka]=null}};function Dc(a){this._internalRoot=a}Dc.prototype.unstable_scheduleHydration=function(a){if(a){var s=bb();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Di.length&&s!==0&&s<Di[u].priority;u++);Di.splice(u,0,a),u===0&&oE(a)}};var cE=e.version;if(cE!=="19.2.0")throw Error(r(527,cE,"19.2.0"));te.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var l2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Ms=Ic.inject(l2),wn=Ic}catch{}}return wl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,p="",b=vw,_=yw,x=bw;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=QS(a,1,!1,null,null,u,p,null,b,_,x,uE),a[Ka]=s.current,Rp(a),new Xp(s)},wl.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var p=!1,b="",_=vw,x=yw,N=bw,L=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&(L=u.formState)),s=QS(a,1,!0,s,u??null,p,b,L,_,x,N,uE),s.context=ZS(null),u=s.current,p=Pn(),p=$d(p),b=yi(p),b.callback=null,bi(u,b,p),u=p,s.current.lanes=u,Os(s,u),_r(s),a[Ka]=s.current,Rp(a),new Dc(s)},wl.version="19.2.0",wl}var _E;function S2(){if(_E)return tm.exports;_E=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tm.exports=w2(),tm.exports}var E2=S2();const A2=hr(E2),x2="modulepreload",T2=function(t){return"/"+t},wE={},Xl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(f=>{if(f=T2(f),f in wE)return;wE[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":x2,h||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),h)return new Promise((w,E)=>{y.addEventListener("load",w),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},C2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xl(async()=>{const{default:r}=await Promise.resolve().then(()=>hs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class sy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class SE extends sy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class EE extends sy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class AE extends sy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yg||(Yg={}));var M2=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class P2{constructor(e,{headers:n={},customFetch:r,region:i=Yg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=C2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return M2(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:c,signal:d}=r;let f={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)));const w=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:y,signal:d}).catch(P=>{throw P.name==="AbortError"?P:new SE(P)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new EE(w);if(!w.ok)throw new AE(w);let S=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return S==="application/json"?A=yield w.json():S==="application/octet-stream"?A=yield w.blob():S==="text/event-stream"?A=w:S==="multipart/form-data"?A=yield w.formData():A=yield w.text(),{data:A,error:null,response:w}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new SE(o)}:{data:null,error:o,response:o instanceof AE||o instanceof EE?o.context:void 0}}})}}var kt={},Ro={},Do={},Io={},ko={},Lo={},O2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},es=O2();const N2=es.fetch,fM=es.fetch.bind(es),dM=es.Headers,R2=es.Request,D2=es.Response,hs=Object.freeze(Object.defineProperty({__proto__:null,Headers:dM,Request:R2,Response:D2,default:fM,fetch:N2},Symbol.toStringTag,{value:"Module"})),I2=h2(hs);var kc={},xE;function hM(){if(xE)return kc;xE=1,Object.defineProperty(kc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return kc.default=t,kc}var TE;function pM(){if(TE)return Lo;TE=1;var t=Lo&&Lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lo,"__esModule",{value:!0});const e=t(I2),n=t(hM());class r{constructor(o){var l,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,y,w;let E=null,S=null,A=null,P=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=R:S=JSON.parse(R))}const D=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),I=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");D&&I&&I.length>1&&(A=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(E={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,P=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const D=await f.text();try{E=JSON.parse(D),Array.isArray(E)&&f.status===404&&(S=[],E=null,P=200,C="OK")}catch{f.status===404&&D===""?(P=204,C="No Content"):E={message:D}}if(E&&this.isMaybeSingle&&(!((w=E==null?void 0:E.details)===null||w===void 0)&&w.includes("0 rows"))&&(E=null,P=200,C="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:S,count:A,status:P,statusText:C}});return this.shouldThrowOnError||(d=d.catch(f=>{var h,m,y;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Lo.default=r,Lo}var CE;function mM(){if(CE)return ko;CE=1;var t=ko&&ko.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ko,"__esModule",{value:!0});const e=t(pM());class n extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var h;const m=[i?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ko.default=n,ko}var ME;function ly(){if(ME)return Io;ME=1;var t=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});const e=t(mM());class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Io.default=n,Io}var PE;function gM(){if(PE)return Do;PE=1;var t=Do&&Do.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Do,"__esModule",{value:!0});const e=t(ly());class n{constructor(i,{headers:o={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(i,o){const{head:l=!1,count:c}=o??{},d=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var c;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(m.length>0){const y=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Do.default=n,Do}var OE;function k2(){if(OE)return Ro;OE=1;var t=Ro&&Ro.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ro,"__esModule",{value:!0});const e=t(gM()),n=t(ly());class r{constructor(o,{headers:l={},schema:c,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:d=!1,count:f}={}){var h;let m;const y=new URL(`${this.url}/rpc/${o}`);let w;c||d?(m=c?"HEAD":"GET",Object.entries(l).filter(([S,A])=>A!==void 0).map(([S,A])=>[S,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([S,A])=>{y.searchParams.append(S,A)})):(m="POST",w=l);const E=new Headers(this.headers);return f&&E.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:E,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ro.default=r,Ro}var NE;function L2(){if(NE)return kt;NE=1;var t=kt&&kt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(kt,"__esModule",{value:!0}),kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const e=t(k2());kt.PostgrestClient=e.default;const n=t(gM());kt.PostgrestQueryBuilder=n.default;const r=t(ly());kt.PostgrestFilterBuilder=r.default;const i=t(mM());kt.PostgrestTransformBuilder=i.default;const o=t(pM());kt.PostgrestBuilder=o.default;const l=t(hM());return kt.PostgrestError=l.default,kt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},kt}var U2=L2();const B2=hr(U2),{PostgrestClient:q2,PostgrestQueryBuilder:Hee,PostgrestFilterBuilder:Gee,PostgrestTransformBuilder:Vee,PostgrestBuilder:Fee,PostgrestError:Kee}=B2;class j2{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $2="2.75.0",z2=`realtime-js/${$2}`,H2="1.0.0",Jg=1e4,G2=1e3,V2=100;var Il;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Il||(Il={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cr||(cr={}));var Wg;(function(t){t.websocket="websocket"})(Wg||(Wg={}));var wa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wa||(wa={}));class F2{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class vM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const RE=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=K2(l,t,e,i),o),{}):{}},K2=(t,e,n,r)=>{const i=e.find(c=>c.name===t),o=i==null?void 0:i.type,l=n[t];return o&&!r.includes(o)?yM(o,l):Xg(l)},yM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return X2(e,n)}switch(t){case Qe.bool:return Y2(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return J2(e);case Qe.json:case Qe.jsonb:return W2(e);case Qe.timestamp:return Q2(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Xg(e);default:return Xg(e)}},Xg=t=>t,Y2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},W2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},X2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>yM(e,c))}return t},Q2=t=>typeof t=="string"?t.replace(" ","T"):t,bM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class am{constructor(e,n,r={},i=Jg){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var DE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(DE||(DE={}));class kl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=kl.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(o,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const m=o[f];if(m){const y=h.map(A=>A.presence_ref),w=m.map(A=>A.presence_ref),E=h.filter(A=>w.indexOf(A.presence_ref)<0),S=m.filter(A=>y.indexOf(A.presence_ref)<0);E.length>0&&(c[f]=E),S.length>0&&(d[f]=S)}else c[f]=h}),this.syncDiff(o,{joins:c,leaves:d},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,d)=>{var f;const h=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),h.length>0){const m=e[c].map(w=>w.presence_ref),y=h.filter(w=>m.indexOf(w.presence_ref)<0);e[c].unshift(...y)}r(c,h,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(IE||(IE={}));var Ll;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ll||(Ll={}));var Fr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));class uy{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new am(this,cr.join,this.params,this.timeout),this.rejoinTimer=new vM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new kl(this),this.broadcastEndpointURL=bM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ll.PRESENCE]&&this.bindings[Ll.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Fr.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Fr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){e==null||e(Fr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,A=(E=S==null?void 0:S.length)!==null&&E!==void 0?E:0,P=[];for(let C=0;C<A;C++){const O=S[C],{filter:{event:D,schema:I,table:R,filter:k}}=O,G=w&&w[C];if(G&&G.event===D&&G.schema===I&&G.table===R&&G.filter===k)P.push(Object.assign(Object.assign({},O),{id:G.id}));else{this.unsubscribe(),this.state=Tt.errored,e==null||e(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Fr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Tt.errored,e==null||e(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Tt.joined&&e===Ll.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new am(this,cr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new am(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>V2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:h}=cr;if(r&&[c,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var E,S,A;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(S=w.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(w=>w.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var E,S,A,P,C,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const D=w.id,I=(E=w.filter)===null||E===void 0?void 0:E.event;return D&&((S=n.ids)===null||S===void 0?void 0:S.includes(D))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const D=(C=(P=w==null?void 0:w.filter)===null||P===void 0?void 0:P.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return D==="*"||D===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof y=="object"&&"ids"in y){const E=y.data,{schema:S,table:A,commit_timestamp:P,type:C,errors:O}=E;y=Object.assign(Object.assign({},{schema:S,table:A,commit_timestamp:P,eventType:C,new:{},old:{},errors:O}),this._getPayloadRecords(E))}w.callback(y,r)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&uy.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cr.close,{},e)}_onError(e){this._on(cr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=RE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=RE(e.columns,e.old_record)),n}}const om=()=>{},Lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Z2=[1e3,2e3,5e3,1e4],eL=1e4,tL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nL{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jg,this.transport=null,this.heartbeatIntervalMs=Lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=om,this.ref=0,this.reconnectTimer=null,this.logger=om,this.conn=null,this.sendBuffer=[],this.serializer=new F2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Xl(async()=>{const{default:c}=await Promise.resolve().then(()=>hs);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Wg.websocket}`,this.httpEndpoint=bM(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H2}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Il.connecting:return wa.Connecting;case Il.open:return wa.Open;case Il.closing:return wa.Closing;default:return wa.Closed}}isConnected(){return this.connectionState()===wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new uy(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(cr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([tL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:z2};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,l,c,d,f,h;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Jg,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Lc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:om,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(m=>Z2[m-1]||eL),this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((m,y)=>y(JSON.stringify(m))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class cy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function St(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rL extends cy{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qg extends cy{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var iL=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const _M=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xl(async()=>{const{default:r}=await Promise.resolve().then(()=>hs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},aL=()=>iL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xl(()=>Promise.resolve().then(()=>hs),void 0)).Response:Response}),Zg=t=>{if(Array.isArray(t))return t.map(n=>Zg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Zg(r)}),e},oL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qa=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const sm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sL=(t,e,n)=>qa(void 0,void 0,void 0,function*(){const r=yield aL();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new rL(sm(i),o,l))}).catch(i=>{e(new Qg(sm(i),i))}):e(new Qg(sm(t),t))}),lL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(oL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Ql(t,e,n,r,i,o){return qa(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,lL(e,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>sL(d,c,r))})})}function of(t,e,n,r){return qa(this,void 0,void 0,function*(){return Ql(t,"GET",e,n,r)})}function wr(t,e,n,r,i){return qa(this,void 0,void 0,function*(){return Ql(t,"POST",e,r,i,n)})}function ev(t,e,n,r,i){return qa(this,void 0,void 0,function*(){return Ql(t,"PUT",e,r,i,n)})}function uL(t,e,n,r){return qa(this,void 0,void 0,function*(){return Ql(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function wM(t,e,n,r,i){return qa(this,void 0,void 0,function*(){return Ql(t,"DELETE",e,r,i,n)})}var cL=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class fL{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return cL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}}var dL=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class hL{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new fL(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return dL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}}var mn=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const pL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mL{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=_M(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return mn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},kE),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=yield(e=="PUT"?ev:wr)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}upload(e,n,r){return mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return mn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:kE.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield ev(this.fetch,c.toString(),d,{headers:h});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(St(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return mn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield wr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new cy("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}update(e,n,r){return mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return mn(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}copy(e,n,r){return mn(this,void 0,void 0,function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return mn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield wr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return mn(this,void 0,void 0,function*(){try{const i=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(e),d=()=>of(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new hL(d,this.shouldThrowOnError)}info(e){return mn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield of(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}exists(e){return mn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield uL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r)&&r instanceof Qg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(e){return mn(this,void 0,void 0,function*(){try{return{data:yield wM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}list(e,n,r){return mn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pL),n),{prefix:e||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}listV2(e,n){return mn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield wr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const gL="2.75.0",vL={"X-Client-Info":`storage-js/${gL}`};var Uo=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class yL{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vL),n),this.fetch=_M(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Uo(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}getBucket(e){return Uo(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}createBucket(e){return Uo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Uo(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Uo(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Uo(this,void 0,void 0,function*(){try{return{data:yield wM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}class bL extends yL{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new mL(this.url,this.headers,e,this.fetch)}}const _L="2.75.0";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const wL={"X-Client-Info":`supabase-js-${Nl}/${_L}`},SL={headers:wL},EL={schema:"public"},AL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xL={};var TL=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const CL=t=>{let e;return t?e=t:typeof fetch>"u"?e=fM:e=fetch,(...n)=>e(...n)},ML=()=>typeof Headers>"u"?dM:Headers,PL=(t,e,n)=>{const r=CL(n),i=ML();return(o,l)=>TL(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:t;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var OL=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};function NL(t){return t.endsWith("/")?t:t+"/"}function RL(t,e){var n,r;const{db:i,auth:o,realtime:l,global:c}=t,{db:d,auth:f,realtime:h,global:m}=e,y={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>OL(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function DL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const SM="2.75.0",Go=30*1e3,tv=3,lm=tv*Go,IL="http://localhost:9999",kL="supabase.auth.token",LL={"X-Client-Info":`gotrue-js/${SM}`},nv="X-Supabase-Api-Version",EM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BL=600*1e3;class ql extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qL extends ql{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jL(t){return ye(t)&&t.name==="AuthApiError"}class Sa extends ql{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vi extends ql{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Li extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $L(t){return ye(t)&&t.name==="AuthSessionMissingError"}class Bo extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uc extends Vi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bc extends Vi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zL(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class LE extends Vi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rv extends Vi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function um(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class UE extends Vi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class iv extends Vi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BE=` 	
\r=`.split(""),HL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<BE.length;e+=1)t[BE[e].charCodeAt(0)]=-2;for(let e=0;e<sf.length;e+=1)t[sf[e].charCodeAt(0)]=e;return t})();function qE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sf[r]),e.queuedBits-=6}}function AM(t,e,n){const r=HL[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jE(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{FL(l,r,n)};for(let l=0;l<t.length;l+=1)AM(t.charCodeAt(l),i,o);return e.join("")}function GL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VL(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}GL(r,e)}}function FL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Yo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)AM(t.charCodeAt(i),n,r);return new Uint8Array(e)}function KL(t){const e=[];return VL(t,n=>e.push(n)),new Uint8Array(e)}function Ea(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>qE(i,n,r)),qE(null,n,r),e.join("")}function YL(t){return Math.round(Date.now()/1e3)+t}function JL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const On=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},xM=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function WL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const TM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xl(async()=>{const{default:r}=await Promise.resolve().then(()=>hs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},XL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ma=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ki=async(t,e)=>{await t.removeItem(e)};class Wf{constructor(){this.promise=new Wf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Wf.promiseConstructor=Promise;function cm(t){const e=t.split(".");if(e.length!==3)throw new iv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!UL.test(e[r]))throw new iv("JWT not in base64url format");return{header:JSON.parse(jE(e[0])),payload:JSON.parse(jE(e[1])),signature:Yo(e[2]),raw:{header:e[0],payload:e[1]}}}async function QL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZL(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function eU(t){return("0"+t.toString(16)).substr(-2)}function tU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,eU).join("")}async function nU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function rU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qo(t,e,n=!1){const r=tU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Vo(t,`${e}-code-verifier`,i);const o=await rU(r);return[o,r===o?"plain":"s256"]}const iU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aU(t){const e=t.headers.get(nv);if(!e||!e.match(iU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(t){if(!lU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $E(t){return JSON.parse(JSON.stringify(t))}var uU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const va=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cU=[502,503,504];async function zE(t){var e;if(!XL(t))throw new rv(va(t),0);if(cU.includes(t.status))throw new rv(va(t),t.status);let n;try{n=await t.json()}catch(o){throw new Sa(va(o),o)}let r;const i=aU(t);if(i&&i.getTime()>=EM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new UE(va(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Li}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new UE(va(n),t.status,n.weak_password.reasons);throw new qL(va(n),t.status||500,r)}const fU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Se(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[nv]||(o[nv]=EM["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await dU(t,e,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function dU(t,e,n,r,i,o){const l=fU(e,r,i,o);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new rv(va(d),0)}if(c.ok||await zE(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await zE(d)}}function ur(t){var e;let n=null;mU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=YL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function HE(t){const e=ur(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hU(t){return{data:t,error:null}}function pU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,l=uU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function GE(t){return t}function mU(t){return t.access_token&&t.refresh_token&&t.expires_in}const dm=["global","local","others"];var gU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class vU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=TM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=dm[0]){if(dm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dm.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qi})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=gU(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qi})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:GE});if(h.error)throw h.error;const m=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);f[`${A}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ye(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){jo(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qi})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jo(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:qi})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){jo(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:qi})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jo(e.userId);try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jo(e.userId),jo(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:GE});if(h.error)throw h.error;const m=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);f[`${A}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ye(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}}function VE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $o={debug:!!(globalThis&&xM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yU extends CM{}async function bU(t,e,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($o.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function _U(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MM(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wU(t){return parseInt(t,16)}function SU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function EU(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:h,uri:m,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=MM(t.address),E=h?`${h}://${r}`:r,S=t.statement?`${t.statement}
`:"",A=`${E} wants you to sign in with your Ethereum account:
${w}

${S}`;let P=`URI: ${m}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(P+=`
Expiration Time: ${i.toISOString()}`),c&&(P+=`
Not Before: ${c.toISOString()}`),d&&(P+=`
Request ID: ${d}`),f){let C=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);C+=`
- ${O}`}P+=C}return`${A}
${P}`}class wt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class lf extends wt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function AU({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(OM(l)){if(o.rp.id!==l)return new wt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function xU({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(OM(r)){if(n.rpId!==r)return new wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var PM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class TU{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CU=new TU;function MU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=PM(t,["challenge","user","excludeCredentials"]),o=Yo(e).buffer,l=Object.assign(Object.assign({},n),{id:Yo(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Yo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function PU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=PM(t,["challenge","allowCredentials"]),i=Yo(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Yo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function OU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ea(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ea(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ea(new Uint8Array(i.authenticatorData)),clientDataJSON:Ea(new Uint8Array(i.clientDataJSON)),signature:Ea(new Uint8Array(i.signature)),userHandle:i.userHandle?Ea(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OM(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function FE(){var t,e;return!!(On()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lf("Browser returned unexpected credential type",e)}:{data:null,error:new lf("Empty credential response",e)}}catch(e){return{data:null,error:AU({error:e,options:t})}}}async function DU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lf("Browser returned unexpected credential type",e)}:{data:null,error:new lf("Empty credential response",e)}}catch(e){return{data:null,error:xU({error:e,options:t})}}}const IU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},kU={userVerification:"preferred",hints:["security-key"]};function uf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=uf(c,l):r[o]=uf(l)}else r[o]=l}return r}function LU(t,e){return uf(IU,t,e||{})}function UU(t,e){return uf(kU,t,e||{})}class BU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:c};const d=i??CU.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=LU(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await RU({publicKey:f,signal:d});return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=UU(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await DU(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Sa("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new ql("rpId is required for WebAuthn authentication")};try{if(!FE())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Sa("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new ql("rpId is required for WebAuthn registration")};try{if(!FE())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Sa("Unexpected error in register",l)}}}}_U();const qU={url:IL,storageKey:kL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KE(t,e,n){return await n()}const zo={};class jl{get jwks(){var e,n;return(n=(e=zo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=zo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jl.nextInstanceID,jl.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},qU),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vU({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TM(i.fetch),this.lock=i.lock||KE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:On()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bU:this.lock=KE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BU(this)},this.persistSession?(i.storage?this.storage=i.storage:xM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=VE(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=WL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),On()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),zL(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new Sa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ur}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:h,password:m,options:y}=e;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await qo(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:E},xform:ur})}else if("phone"in e){const{phone:h,password:m,options:y}=e;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ur})}else throw new Uc("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:c}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:HE})}else if("phone"in e){const{phone:o,password:l,options:c}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:HE})}else throw new Uc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,l,c,d,f,h,m,y;let w,E;if("message"in e)w=e.message,E=e.signature;else{const{chain:S,wallet:A,statement:P,options:C}=e;let O;if(On())if(typeof A=="object")O=A;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")O=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=A}const D=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),I=await O.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=MM(I[0]);let k=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const U=await O.request({method:"eth_chainId"});k=wU(U)}const G={domain:D.host,address:R,statement:P,uri:D.href,version:"1",chainId:k,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=EU(G),E=await O.request({method:"personal_sign",params:[SU(w),R]})}try{const{data:S,error:A}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ur});if(A)throw A;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Bo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:A})}catch(S){if(ye(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var n,r,i,o,l,c,d,f,h,m,y,w;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:A,wallet:P,statement:C,options:O}=e;let D;if(On())if(typeof P=="object")D=P;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))D=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=P}const I=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const R=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),C?{statement:C}:null));let k;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")k=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)k=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)E=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),S=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${I.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=O==null?void 0:O.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((m=(h=O==null?void 0:O.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...O.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const R=await D.signMessage(new TextEncoder().encode(E),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=R}}try{const{data:A,error:P}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Ea(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ur});if(P)throw P;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Bo}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:P})}catch(A){if(ye(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const n=await ma(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ur});if(await ki(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Bo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=e,c=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ur}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Bo}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,o,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await qo(this.storage,this.storageKey));const{error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:h}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Uc("You must provide either an email or phone number.")}catch(c){if(ye(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ur});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await qo(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:hU})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Li;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:c}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Uc("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await ma(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=fm()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,h))})}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Li}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:qi})})}catch(n){if(ye(n))return $L(n)&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Li;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await qo(this.storage,this.storageKey));const{data:f,error:h}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:qi});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Li;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=cm(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Li;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!On())throw new Bc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new LE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new LE("No code detected.");const{data:C,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!o||!c||!l||!f)throw new Bc("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(c);let y=h+m;d&&(y=parseInt(d));const w=y-h;w*1e3<=Go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${m}s`);const E=y-m;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,y,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,y,h);const{data:S,error:A}=await this._getUser(o);if(A)throw A;const P={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:y,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(jL(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=JL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await qo(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,c,d,f,h;const{data:m,error:y}=o;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return On()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:c,token:d,access_token:f,nonce:h}=e,m=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ur}),{data:y,error:w}=m;return w?{data:{user:null,session:null},error:w}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Bo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:w})}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ZL(async i=>(i>0&&await QL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ur})),(i,o)=>{const l=200*Math.pow(2,i);return o&&um(o)&&Date.now()+l-r<Go})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),On()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ma(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Vo(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:fm()}else if(i&&!i.user&&!i.user){const l=await ma(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ki(this.storage,this.storageKey+"-user"),await Vo(this.storage,this.storageKey,i)):i.user=fm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${lm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),um(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wf;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Li;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),ye(o)){const l={data:null,error:o};return um(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Vo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=$E(i);await Vo(this.storage,this.storageKey,o)}else{const i=$E(n);await Vo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ki(this.storage,this.storageKey),await ki(this.storage,this.storageKey+"-code-verifier"),await ki(this.storage,this.storageKey+"-user"),this.userStorage&&await ki(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Go);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Go}ms, refresh threshold is ${tv} ticks`),i<=tv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof CM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await qo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?OU(e.webauthn.credential_response):NU(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:MU(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:PU(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=cm(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+BL>i)return r;const{data:o,error:l}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return{data:null,error:E};r=w.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:d}}=cm(r);n!=null&&n.allowExpired||oU(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:i,signature:l},error:null}}const h=sU(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,KL(`${c}.${d}`)))throw new iv("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}jl.nextInstanceID=0;const jU=jl;class $U extends jU{constructor(e){super(e)}}var zU=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class HU{constructor(e,n,r){var i,o,l;this.supabaseUrl=e,this.supabaseKey=n;const c=DL(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:EL,realtime:xL,auth:Object.assign(Object.assign({},AL),{storageKey:d}),global:SL},h=RL(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=PL(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new q2(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new bL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new P2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return zU(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:c,lock:d,debug:f},h,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $U({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:c,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GU=(t,e,n)=>new HU(t,e,n);function VU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FU="https://tkgymdpxqvfppwkylcjb.supabase.co",KU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZ3ltZHB4cXZmcHB3a3lsY2piIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0Mzk0OTgsImV4cCI6MjA3NjAxNTQ5OH0.f9tuqiwuqfjIzgXRPH-wNl3HDRtJ9_4b356H4NUbiqc",Ct=GU(FU,KU),NM=T.createContext(void 0),YU=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0),[o,l]=T.useState(!1);T.useEffect(()=>{(async()=>{const{data:{session:P}}=await Ct.auth.getSession();P?await c(P.user):await d(),i(!1)})();const{data:A}=Ct.auth.onAuthStateChange(async(P,C)=>{C?(await c(C.user),l(!1),sessionStorage.removeItem("guestCode")):(n(null),l(!1))});return()=>{A==null||A.subscription.unsubscribe()}},[]);const c=async S=>{const{data:A,error:P}=await Ct.from("profiles").select("id, name, phone, guest_code").eq("id",S.id).single();P?(console.error("Error fetching user profile:",P.message),n(null)):A&&n({id:A.id,name:A.name,phone:A.phone,guestCode:A.guest_code})},d=async()=>{const S=sessionStorage.getItem("guestCode");S&&await w(S).catch(A=>{console.error(A),sessionStorage.removeItem("guestCode")})},f=async(S,A)=>{const{error:P}=await Ct.auth.signInWithPassword({email:`${S.trim()}@dummy.com`,password:A});if(P)throw P.message.includes("Email not confirmed")?new Error("الحساب اتعمل بس محتاج يتفعّل. من فضلك الغي خاصية 'تأكيد البريد الإلكتروني' من إعدادات حسابك في Supabase."):new Error("رقم الموبايل أو كلمة المرور غلط.")},h=async(S,A,P)=>{const{data:C,error:O}=await Ct.auth.signUp({email:`${A.trim()}@dummy.com`,password:P,options:{data:{name:S.trim(),phone:A.trim()}}});if(O)throw O.message.includes("User already registered")?new Error("رقم الموبايل ده متسجل قبل كده."):O;return C},m=async()=>{await Ct.auth.signOut(),sessionStorage.removeItem("guestCode"),n(null),l(!1)},y=async()=>{if(!e)return null;const S=Math.random().toString(36).substring(2,8).toUpperCase(),{data:A,error:P}=await Ct.from("profiles").update({guest_code:S}).eq("id",e.id).select("guest_code").single();return P?(console.error("Error generating guest code:",P),null):A?(n(C=>C?{...C,guestCode:A.guest_code}:null),A.guest_code):null},w=async S=>{i(!0);const{data:A,error:P}=await Ct.from("profiles").select("id, name, phone, guest_code").eq("guest_code",S.toUpperCase()).neq("guest_code",null).single();if(i(!1),P||!A)throw console.error("Invalid guest code:",P==null?void 0:P.message),new Error("كود الضيف غير صحيح.");n({id:A.id,name:A.name,phone:A.phone,guestCode:A.guest_code}),l(!0),sessionStorage.setItem("guestCode",S)},E={currentUser:e,loading:r,login:f,signup:h,logout:m,generateGuestCode:y,loginAsGuest:w,isGuestSession:o};return M.jsx(NM.Provider,{value:E,children:t})},ps=()=>{const t=T.useContext(NM);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},RM=T.createContext(void 0),JU=({children:t})=>{const{currentUser:e}=ps(),[n,r]=T.useState([]),[i,o]=T.useState([]),[l,c]=T.useState([]),[d,f]=T.useState(7),[h,m]=T.useState(!0),[y,w]=T.useState(null),E=T.useCallback(async()=>{if(!e){m(!1),r([]),o([]),c([]);return}m(!0),w(null);try{const{data:U,error:X}=await Ct.from("payments").select("*").eq("user_id",e.id).order("date",{ascending:!1});if(X)throw X;r(U||[]);const{data:V,error:Y}=await Ct.from("expenses").select("*").eq("user_id",e.id).order("date",{ascending:!1});if(Y)throw Y;o(V||[]);const{data:ne,error:ie}=await Ct.from("groups").select("id, name").eq("user_id",e.id).order("name",{ascending:!0});if(ie)throw ie;c(ne||[])}catch(U){const X=`فشل في جلب البيانات: ${U.message}`;console.error("Error fetching data:",X),w(X)}finally{m(!1)}},[e]);T.useEffect(()=>{E()},[E]);const G={payments:n,addPayment:async U=>{if(!e)return;const{data:X,error:V}=await Ct.from("payments").insert({...U,user_id:e.id}).select().single();V?console.error("Error adding payment:",V):X&&r(Y=>[X,...Y].sort((ne,ie)=>new Date(ie.date).getTime()-new Date(ne.date).getTime()))},updatePayment:async U=>{const{data:X,error:V}=await Ct.from("payments").update({studentName:U.studentName,groupName:U.groupName,amount:U.amount,date:U.date}).eq("id",U.id).select().single();V?console.error("Error updating payment:",V):X&&r(Y=>Y.map(ne=>ne.id===X.id?X:ne).sort((ne,ie)=>new Date(ie.date).getTime()-new Date(ne.date).getTime()))},deletePayment:async U=>{const{error:X}=await Ct.from("payments").delete().eq("id",U);X?console.error("Error deleting payment:",X):r(V=>V.filter(Y=>Y.id!==U))},expenses:i,addExpense:async U=>{if(!e)return;const{data:X,error:V}=await Ct.from("expenses").insert({...U,user_id:e.id}).select().single();V?console.error("Error adding expense:",V):X&&o(Y=>[X,...Y].sort((ne,ie)=>new Date(ie.date).getTime()-new Date(ne.date).getTime()))},updateExpense:async U=>{const{data:X,error:V}=await Ct.from("expenses").update({description:U.description,amount:U.amount,date:U.date}).eq("id",U.id).select().single();V?console.error("Error updating expense:",V):X&&o(Y=>Y.map(ne=>ne.id===X.id?X:ne).sort((ne,ie)=>new Date(ie.date).getTime()-new Date(ne.date).getTime()))},deleteExpense:async U=>{const{error:X}=await Ct.from("expenses").delete().eq("id",U);X?console.error("Error deleting expense:",X):o(V=>V.filter(Y=>Y.id!==U))},groups:l,addGroup:async U=>{const X=U.trim();if(!X||!e)return!1;const{data:V,error:Y}=await Ct.from("groups").insert({name:X,user_id:e.id}).select("id, name").single();return Y?(console.error("Error adding group:",Y.message),Y.code==="23505"&&alert("اسم المجموعة ده موجود قبل كده."),!1):V?(c(ne=>[...ne,V]),!0):!1},deleteGroup:async U=>{const{error:X}=await Ct.from("groups").delete().eq("id",U);X?console.error("Error deleting group:",X):c(V=>V.filter(Y=>Y.id!==U))},reminderPeriod:d,setReminderPeriod:U=>{!isNaN(U)&&U>=0&&f(U)},isLoading:h,error:y};return M.jsx(RM.Provider,{value:G,children:t})},Tr=()=>{const t=T.useContext(RM);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t};var Ut=(t=>(t.DASHBOARD="DASHBOARD",t.MONTHLY_REPORT="MONTHLY_REPORT",t.EXPENSES="EXPENSES",t.STATISTICS="STATISTICS",t.ADVANCED_SEARCH="ADVANCED_SEARCH",t.MANAGE_GROUPS="MANAGE_GROUPS",t.GUEST_ACCESS="GUEST_ACCESS",t))(Ut||{});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),YE=t=>{const e=XU(t);return e.charAt(0).toUpperCase()+e.slice(1)},DM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),QU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...ZU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DM("lucide",i),...!o&&!QU(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,h])=>T.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=T.forwardRef(({className:r,...i},o)=>T.createElement(eB,{ref:o,iconNode:e,className:DM(`lucide-${WU(YE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=YE(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],nB=et("brain-circuit",tB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],iB=et("chart-column",rB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oB=et("check",aB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xf=et("circle-plus",sB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],IM=et("clipboard-list",lB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cB=et("clock",uB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dB=et("copy",fB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pB=et("dollar-sign",hB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],JE=et("file-down",mB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vB=et("layout-dashboard",gB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kM=et("log-out",yB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_B=et("menu",bB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],SB=et("receipt",wB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],AB=et("refresh-cw",EB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],TB=et("save",xB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qf=et("search",CB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PB=et("settings",MB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],NB=et("share-2",OB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],LM=et("square-pen",RB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fy=et("trash-2",DB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],UM=et("trending-down",IB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],BM=et("trending-up",kB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UB=et("triangle-alert",LB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qB=et("user",BB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dy=et("users",jB);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qM=et("x",$B),zB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAV2SURBVHhe7ZtNqBVVFMd/b454o2hGUEQUjXjR4E1BnySiVy+Cil588BEUvWhCFxX1IoguiqAIMqLoRTdBlEFEUUwoRjRjJCIiKjH3n9aeMzVnzzl7Zuace86+t/A/bM/Mmf+dPXPOWmvRKBQKhUKhUCgUCoVCoVAo/C2S+n4H1T0A1oG7YBlsBLvBC3AUbIZ3+h0OqB51/0/073VwWwM35d8M+iL6j4A61kOAnWAxHAKjYAm8Bf+A3fBODoBtcA3MBj3gI/i4Bq5G+6APvAfL4G04B5/B7fAo7AarYDXMBvNgC0yBJbAX/A2+g++gdfAY/Arvgt2wCmbBOjANnsHJsBLMgt2wEZ4F22EzLAaL4C9Mh21wBpyDF8A6uArL4DjsBNNgB/wGtsA6MAWWwFw4AGfBMjgLtuAuuAqL4T8MhU1wHq6De3AuXAXP4D/MgluwatgBq2AN3If3wHvwA1wXW8AmuAyvhVpwGz6D/4BfYA4sg6NwEvyB83ALnAP3wB9kCq6D7dAOtkDnyB+4C6uBvLAaDsOduAsuhPvgVdwLNsAKuAvL4SgcgY/gSdgGV8G62AOXIP34AtcAdeB9wB1cD9uBBuwTNYDOfBHvgb3gPvwlNYB7NgGeyG8+APnAXP4D/wBZwCW2AlLIRZMAe+g8/hKdwBN8NcuAHWwWdYADthPfyOvwPnwCj4D74Fm+A7sAmWwB+wEs6A+2E7bIb/YDecgtPgT3gLLoS/4UvwR3wHtsCnsA7uwc/gXbgR/oG98An8D++G1fAXXAGXwk54C34G/8A++BIch9fgO3gHlsCP8Df4A+yBD+FLeAv+gHfwGfwF78If8Cu8An/D+/AX/A/L4B94CW6FH+A9+A3+hLfgD/gL3oV/4C14D36A1+Ev+CPehV/gffgJ3oU/4O94N7wPf8B78Q94H/4B78Y/8F78B96P/+B9+Qe8X/6A9/If8H79A+/Xv+D9+g/8A//Af+A/+A/+g//A//A//A//w/+B/+N/+D/8D/+P/+H/8D/8P/4H/8//4f/4P/w//w//x//h//s//H/+D//f/+H/wxL/j5b4f6L/M+yAP/A3LAfLYBfMhHdwAewCe+Eb2AE/wKfgOvwCvsOvuAzvw+vwL1yA9+BduAn/wW7YAb/AVbABVsI0eAg+gLtgFVwP82A/fAa/gh1wClyBdcgqWAKPwe/gRdgJp8BSuALXIX2wB1bgVlgA82El/AHL4F0YDbfBdpgF6+ANLIdt8ADshuPgPmwB+fAALoIjcAlMgk1wHNyAJbAAToGjcAlshn2wFk6DLfAGjsIEOA3LYB2shn3wBJbgVrgN9sJEOAvL4DScBn/BDtgAZ+Ey2AZrYBusggtwEpaBPfASzoV5cD5uhEtwAJbBMvgOjsFk2ADz4CgshU1wABbgEziH03AdlAFT4Tich/PxAFwLp8J1uA7OwmQ4D+fhHFwDk+E+PIfT4QzMh9PwClyAC+EaXAbn4Bw8h1NwHi6E03A9LkEzMAAbuwws4AFfBebgAzsIEOA9L4RScAefgehwL02EzHIezMBfOwbQ4D1bDJTgAF8AFuAlXw224EOfgFFyEs+E2XIMr4Qp8A1/ALjgDScg0+AZL4T/gAlwJ58Ap2AVP4Q/4APbhEHyC03AebsD58BuOhT04De8hd+E+/A1Xwz5YDLPhKtwG98Bc2AEHYTk8hDtwF9wB0+FcuBcuwl/wDtwI+2A/vIX/gTvgMlgOF8BcuAFXw05YCbNhkawHq2ADbIXN8BlMh82wHlZAJmwB22A/vAcbYAdshvWwC1aBDbAZ/AobYBusheVwBNwDe2EjHIOb4S5MhI1wABbALNgM9sEa2At74R/YAd/BAtgNe2EzvAF/wXw4BNtgJ+wH/8EO+B/2wg64AxfAWfAV/A9bYAeshvvwE/wa/gJ/wOvgT9gC/8P78D/8D/+H/+P/8H/8H/4f/4P/4//wf/w//w//x//h//s//H/+D//f/+H/wxL/j5b4f6L/M+yAP/A3LAfLYBfMhHdwAewCe+Eb2AE/wKfgOvwCvsOvuAzvw+vwL1yA9+BduAn/wW7YAb/AVbABVsI0eAg+gLtgFVwP82A/fAa/gh1wClyBdcgqWAKPwe/gRdgJp8BSuALXIX3wB2bgVlgA02El/AHL4F0YDbfBdpgF6+ANLIdt8ADshuPgPmwB+fAALoIjcAlshm1wHJyAJfAAToGjcAlshn2wFk6DLfAGjsIEOA3LYB1shn3wBJbgVrgN9sJEOAvL4DScBn/BDtgAZ+Ey2AZrYBusggtwEpaBPfASzoV5cD5uhEtwAJbBMvgOjsFk2ADz4CgshU1wABbgEziH03AdlAFT4Tich/PxAFwLp8J1uA7OwmQ4D+fhHFwDk+E+PIfT4QzMh9PwClyAC+EaXAbn4Bw8h1NwHi6E03A9LkEzMAfuhxNwAFLDPbAAlsJEOA9L4RScAefgepwL0+EzHAezMBfOwbQ4D9bgOlwNF+E8XAnL4Ua4BOfgFFyEs+E2XIMr4Qp8A18hh+E+XAXn4Ap8g2XwP5wD/+AeuAoL4SQsh/1wCJaC3fA4XAYbYR9cAWfBNjgBF+A8bIPjcA/uh+WwD/bBWXAd7oX98BfsBw+yB+6HjfApvAZH4Sw4Bd/AvXAD/B47gO7fW5/9X/8+BwVCodB/x/8Ad/61E5HnI2AAAAAASUVORK5CYII=",Zf=()=>M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("img",{src:zB,alt:"شعار المحاسب الشخصي",className:"w-12 h-12 rounded-full object-cover border-2 border-brand-gold/50"}),M.jsx("div",{children:M.jsx("h1",{className:"text-xl font-black text-white whitespace-nowrap",children:"المحاسب الشخصي"})})]}),HB=[{screen:Ut.DASHBOARD,label:"لوحة التحكم",icon:M.jsx(vB,{})},{screen:Ut.MONTHLY_REPORT,label:"كشف الحساب",icon:M.jsx(IM,{})},{screen:Ut.EXPENSES,label:"المصروفات",icon:M.jsx(SB,{})},{screen:Ut.STATISTICS,label:"الإحصائيات",icon:M.jsx(iB,{})},{screen:Ut.ADVANCED_SEARCH,label:"بحث متقدم",icon:M.jsx(Qf,{})},{screen:Ut.MANAGE_GROUPS,label:"إدارة المجموعات",icon:M.jsx(dy,{})},{screen:Ut.GUEST_ACCESS,label:"مشاركة التقارير",icon:M.jsx(NB,{})}],GB=({currentScreen:t,setScreen:e})=>{const{logout:n,currentUser:r}=ps();return M.jsxs("aside",{className:"bg-brand-navy w-64 p-6 flex flex-col h-screen text-white",children:[M.jsx("div",{className:"mb-10",children:M.jsx(Zf,{})}),M.jsx("nav",{className:"flex-grow",children:M.jsx("ul",{children:HB.map(i=>M.jsx("li",{className:"mb-2",children:M.jsxs("button",{onClick:()=>e(i.screen),className:`w-full flex items-center gap-4 p-3 rounded-lg text-right transition-colors ${t===i.screen?"bg-brand-gold text-brand-blue font-bold":"text-brand-secondary hover:bg-brand-blue hover:text-white"}`,children:[i.icon,M.jsx("span",{children:i.label})]})},i.screen))})}),M.jsxs("div",{className:"border-t border-brand-secondary/20 pt-4",children:[M.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[M.jsx("div",{className:"w-10 h-10 bg-brand-gold/20 rounded-full flex items-center justify-center",children:M.jsx(qB,{className:"text-brand-gold",size:22})}),M.jsxs("div",{children:[M.jsx("span",{className:"font-bold text-brand-light block",children:r==null?void 0:r.name}),M.jsx("span",{className:"text-xs text-brand-secondary",children:r==null?void 0:r.phone})]})]}),M.jsxs("button",{onClick:n,className:"w-full flex items-center gap-4 p-3 rounded-lg text-brand-secondary hover:bg-red-800/50 hover:text-red-300 transition-colors",children:[M.jsx(kM,{}),M.jsx("span",{children:"تسجيل الخروج"})]})]})]})},Aa=({title:t,value:e,description:n,icon:r})=>M.jsxs("div",{className:"bg-brand-navy p-6 rounded-xl shadow-lg border border-white/10 flex items-start gap-4",children:[M.jsx("div",{className:"bg-brand-blue p-3 rounded-full text-brand-gold",children:r}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-brand-secondary text-sm font-bold uppercase tracking-wider",children:t}),M.jsx("p",{className:"text-3xl font-black text-white mt-1",children:e}),n&&M.jsx("p",{className:"text-brand-secondary text-sm mt-1",children:n})]})]}),WE=({setScreen:t})=>{const{payments:e,expenses:n,reminderPeriod:r,setReminderPeriod:i}=Tr(),[o,l]=T.useState(String(r)),[c,d]=T.useState(new Date().toISOString().slice(0,7));T.useEffect(()=>{l(String(r))},[r]);const f=T.useMemo(()=>{const C=e.map(R=>R.date.slice(0,7)),O=n.map(R=>R.date.slice(0,7)),D=new Set([...C,...O]),I=new Date().toISOString().slice(0,7);return D.add(I),Array.from(D).sort().reverse()},[e,n]),{incomeForMonth:h,expensesForMonth:m,netIncomeForMonth:y,studentsInMonth:w}=T.useMemo(()=>{const C=e.filter(k=>k.date.startsWith(c)),O=n.filter(k=>k.date.startsWith(c)),D=C.reduce((k,G)=>k+G.amount,0),I=O.reduce((k,G)=>k+G.amount,0),R=new Set(C.map(k=>k.studentName.trim()));return{incomeForMonth:D,expensesForMonth:I,netIncomeForMonth:D-I,studentsInMonth:R.size}},[e,n,c]),{upcomingPayments:E,overduePayments:S}=T.useMemo(()=>{const C={};e.forEach(R=>{const k=new Date(R.date);if(k>new Date)return;const G=R.studentName.trim();(!C[G]||k>C[G].date)&&(C[G]={date:k,groupName:R.groupName})});const O=[],D=[],I=new Date;return I.setHours(0,0,0,0),Object.entries(C).forEach(([R,k])=>{const G=new Date(k.date);G.setMonth(G.getMonth()+1),G.setHours(0,0,0,0);const U=G.getTime()-I.getTime(),X=Math.ceil(U/(1e3*60*60*24));X<0?D.push({name:R,groupName:k.groupName,dueDate:G,days:Math.abs(X)}):X<=r&&O.push({name:R,groupName:k.groupName,dueDate:G,days:X})}),D.sort((R,k)=>k.days-R.days),O.sort((R,k)=>R.days-k.days),{upcomingPayments:O,overduePayments:D}},[e,r]),A=()=>{const C=parseInt(o,10);!isNaN(C)&&C>=0?(i(C),alert("تم حفظ الإعدادات")):alert("من فضلك أدخل رقم صحيح")},P=C=>`ج.م ${C.toLocaleString("ar-EG")}`;return M.jsxs("div",{className:"space-y-8",children:[M.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"لوحة التحكم الرئيسية"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"نظرة سريعة على حساباتك يا مستر إسلام."})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("label",{htmlFor:"month-select",className:"text-brand-light",children:"عرض بيانات شهر:"}),M.jsx("select",{id:"month-select",value:c,onChange:C=>d(C.target.value),className:"bg-brand-navy border border-brand-secondary rounded-lg p-2 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white",children:f.map(C=>M.jsx("option",{value:C,children:new Date(C+"-02").toLocaleString("ar-EG",{month:"long",year:"numeric"})},C))})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[M.jsx(Aa,{title:"صافي الدخل للشهر",value:P(y),icon:M.jsx(pB,{})}),M.jsx(Aa,{title:"إجمالي الدخل للشهر",value:P(h),icon:M.jsx(BM,{})}),M.jsx(Aa,{title:"إجمالي المصروفات للشهر",value:P(m),icon:M.jsx(UM,{})}),M.jsx(Aa,{title:"عدد الطلاب",value:w,description:"الطلاب اللي دفعوا في الشهر ده",icon:M.jsx(dy,{})})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6",children:[M.jsxs("button",{onClick:()=>t(Ut.MONTHLY_REPORT),className:"bg-brand-gold text-brand-blue p-6 rounded-xl flex items-center justify-center text-xl font-bold gap-4 hover:opacity-90 transition-transform hover:scale-105 shadow-lg",children:[M.jsx(Xf,{size:32}),M.jsx("span",{children:"إضافة دفعة جديدة"})]}),M.jsxs("button",{onClick:()=>t(Ut.MONTHLY_REPORT),className:"bg-brand-navy border-2 border-brand-gold text-brand-gold p-6 rounded-xl flex items-center justify-center text-xl font-bold gap-4 hover:bg-brand-gold/10 transition-transform hover:scale-105",children:[M.jsx(IM,{size:32}),M.jsx("span",{children:"عرض كشف الحساب"})]})]}),M.jsxs("div",{className:"pt-6",children:[M.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4 flex-wrap",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-white",children:"حالة الدفع للطلاب"}),M.jsx("p",{className:"text-xs text-brand-secondary",children:"(بناءً على تاريخ اليوم)"})]}),M.jsxs("div",{className:"flex items-center gap-2 bg-brand-navy p-2 rounded-lg",children:[M.jsx(PB,{className:"text-brand-gold"}),M.jsx("label",{htmlFor:"reminder-days",className:"text-sm text-brand-secondary whitespace-nowrap",children:"تذكير قبل:"}),M.jsx("input",{id:"reminder-days",type:"number",value:o,onChange:C=>l(C.target.value),className:"w-16 bg-brand-blue border border-brand-secondary rounded p-1 text-center text-white","aria-label":"فترة التذكير بالأيام"}),M.jsx("span",{className:"text-sm text-brand-secondary",children:"أيام"}),M.jsx("button",{onClick:A,className:"bg-brand-gold text-brand-blue p-2 rounded-lg hover:opacity-90 transition","aria-label":"حفظ فترة التذكير",children:M.jsx(TB,{size:18})})]})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M.jsxs("div",{className:"bg-brand-navy p-4 md:p-6 rounded-xl shadow-lg",children:[M.jsxs("h3",{className:"text-xl font-bold text-red-400 mb-4 flex items-center gap-2",children:[M.jsx(UB,{})," مستحقات متأخرة (",S.length,")"]}),M.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:S.length>0?S.map(C=>M.jsx("div",{className:"bg-brand-blue p-4 rounded-lg border-r-4 border-red-500",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-white",children:C.name}),M.jsx("p",{className:"text-sm text-brand-secondary",children:C.groupName})]}),M.jsxs("div",{className:"text-right",children:[M.jsxs("p",{className:"font-semibold text-red-400",children:["متأخر ",C.days," أيام"]}),M.jsxs("p",{className:"text-xs text-brand-secondary",children:["كان يوم ",C.dueDate.toLocaleDateString("ar-EG")]})]})]})},C.name+C.dueDate)):M.jsx("p",{className:"text-brand-secondary text-center py-10",children:"تمام! لا يوجد أي متأخرات."})})]}),M.jsxs("div",{className:"bg-brand-navy p-4 md:p-6 rounded-xl shadow-lg",children:[M.jsxs("h3",{className:"text-xl font-bold text-brand-gold mb-4 flex items-center gap-2",children:[M.jsx(cB,{})," مستحقات قادمة (",E.length,")"]}),M.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:E.length>0?E.map(C=>M.jsx("div",{className:"bg-brand-blue p-4 rounded-lg border-r-4 border-brand-gold",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-white",children:C.name}),M.jsx("p",{className:"text-sm text-brand-secondary",children:C.groupName})]}),M.jsxs("div",{className:"text-right",children:[M.jsx("p",{className:"font-semibold text-yellow-400",children:C.days===0?"اليوم":`متبقي ${C.days} أيام`}),M.jsxs("p",{className:"text-xs text-brand-secondary",children:["الميعاد يوم ",C.dueDate.toLocaleDateString("ar-EG")]})]})]})},C.name+C.dueDate)):M.jsx("p",{className:"text-brand-secondary text-center py-10",children:"لا توجد مستحقات قادمة في الفترة المحددة."})})]})]})]})]})},av=({isOpen:t,onClose:e,title:n,children:r})=>t?M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",onClick:e,children:M.jsxs("div",{className:"bg-brand-navy rounded-xl shadow-2xl p-6 md:p-8 w-full max-w-lg relative border-2 border-brand-gold/20",onClick:i=>i.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h2",{className:"text-2xl font-bold text-brand-gold",children:n}),M.jsx("button",{onClick:e,className:"text-brand-secondary hover:text-brand-gold transition-colors",children:M.jsx(qM,{size:28})})]}),r]})}):null,VB=({onClose:t,paymentToEdit:e})=>{const{addPayment:n,updatePayment:r,groups:i}=Tr(),[o,l]=T.useState(""),[c,d]=T.useState(""),[f,h]=T.useState(""),[m,y]=T.useState(new Date().toISOString().split("T")[0]),[w,E]=T.useState({});T.useEffect(()=>{var C;e?(l(e.studentName),d(e.groupName),h(String(e.amount)),y(new Date(e.date).toISOString().split("T")[0])):(l(""),d(((C=i[0])==null?void 0:C.name)||""),h(""),y(new Date().toISOString().split("T")[0]))},[e,i]);const S=()=>{const C={};return o.trim()||(C.studentName="اسم الطالب مطلوب"),c.trim()||(C.groupName="لازم تختار مجموعة"),f?(isNaN(Number(f))||Number(f)<=0)&&(C.amount="لازم المبلغ يكون رقم أكبر من صفر"):C.amount="المبلغ مطلوب",m||(C.date="التاريخ مطلوب"),E(C),Object.keys(C).length===0},A=C=>{if(C.preventDefault(),!S())return;const O={studentName:o,groupName:c,amount:Number(f),date:m};e?r({...O,id:e.id}):n(O),t()},P=C=>w[C]?M.jsx("p",{className:"text-red-400 text-sm mt-1",children:w[C]}):null;return M.jsxs("form",{onSubmit:A,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"studentName",className:"block text-brand-light mb-2",children:"اسم الطالب"}),M.jsx("input",{type:"text",id:"studentName",value:o,onChange:C=>l(C.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),P("studentName")]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"groupName",className:"block text-brand-light mb-2",children:"المجموعة"}),M.jsxs("select",{id:"groupName",value:c,onChange:C=>d(C.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white",children:[M.jsx("option",{value:"",disabled:!0,children:"-- اختر مجموعة --"}),i.map(C=>M.jsx("option",{value:C.name,children:C.name},C.id))]}),P("groupName")]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"amount",className:"block text-brand-light mb-2",children:"الفلوس اللي اتدفعت"}),M.jsx("input",{type:"number",id:"amount",value:f,onChange:C=>h(C.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),P("amount")]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"date",className:"block text-brand-light mb-2",children:"تاريخ الدفع"}),M.jsx("input",{type:"date",id:"date",value:m,onChange:C=>y(C.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),P("date")]}),M.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[M.jsx("button",{type:"button",onClick:t,className:"py-2 px-6 rounded-lg bg-brand-secondary text-white hover:bg-opacity-80 transition",children:"إلغاء"}),M.jsx("button",{type:"submit",className:"py-2 px-6 rounded-lg bg-brand-gold text-brand-blue font-bold hover:bg-opacity-90 transition shadow-lg",children:e?"حفظ التعديل":"إضافة الدفعة"})]})]})},FB=(t,e)=>{const n=t.map(({studentName:o,groupName:l,amount:c,date:d})=>({"اسم الطالب":o,المجموعة:l,المبلغ:c,التاريخ:new Date(d).toLocaleDateString("ar-EG")})),r=XLSX.utils.json_to_sheet(n),i=XLSX.utils.book_new();XLSX.utils.book_append_sheet(i,r,"المدفوعات"),r["!cols"]=[{wch:25},{wch:20},{wch:15},{wch:20}],XLSX.writeFile(i,`${e}.xlsx`)},KB=(t,e,n)=>{const{jsPDF:r}=window.jspdf,i=new r;i.addFont("https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhYl0E.ttf","Cairo","normal"),i.setFont("Cairo"),i.setR2L(!0),i.setFontSize(22),i.text(`تقرير مرتب شهر ${e}`,190,20,{align:"right"}),i.setFontSize(16),i.text(`الإجمالي: ${n.toLocaleString("ar-EG")} جنيه`,190,35,{align:"right"});const o=["اسم الطالب","المجموعة","المبلغ","التاريخ"],l=[];[...t].reverse().forEach(d=>{const f=[d.studentName,d.groupName,d.amount.toLocaleString("ar-EG"),new Date(d.date).toLocaleDateString("ar-EG")];l.push(f)}),i.autoTable({head:[o],body:l,startY:50,theme:"grid",headStyles:{halign:"center",fillColor:[10,25,47],font:"Cairo"},styles:{halign:"right",font:"Cairo"}}),i.save(`تقرير-${e}.pdf`)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YB,JB;function WB(){return{geminiUrl:YB,vertexUrl:JB}}function XB(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=WB();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ja{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];v(h,e.slice(o+1),n[f])}else for(const f of d)v(f,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];v(d[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(c=>g(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function QB(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&o.length>c)for(let d=c;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}ov(t,i,o,0,l)}}function ov(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])ov(d,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of c)d[f]=l[f];for(const[f,h]of Object.entries(d)){const m=[];for(const y of n.slice(r))y==="*"?m.push(f):m.push(y);v(l,m,h)}for(const f of c)delete l[f]}}else{const l=t;o in l&&ov(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZB(t){const e={},n=g(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function eq(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&v(e,["response"],nq(l)),e}function tq(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const l=g(t,["response"]);return l!=null&&v(e,["response"],rq(l)),e}function nq(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>iq(l))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function rq(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>aq(l))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function iq(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],lq(n)),e}function aq(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],uq(n)),e}function oq(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function sq(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function lq(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],hy(r));const i=g(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function uq(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],hy(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var XE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(XE||(XE={}));var QE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(QE||(QE={}));var $i;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($i||($i={}));var ZE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(ZE||(ZE={}));var eA;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(eA||(eA={}));var tA;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(tA||(tA={}));var nA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nA||(nA={}));var rA;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(rA||(rA={}));var iA;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(iA||(iA={}));var aA;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(aA||(aA={}));var oA;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(oA||(oA={}));var sA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(sA||(sA={}));var lA;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lA||(lA={}));var uA;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(uA||(uA={}));var cA;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cA||(cA={}));var cf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(cf||(cf={}));var fA;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fA||(fA={}));var sv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sv||(sv={}));var dA;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(dA||(dA={}));var hA;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hA||(hA={}));var pA;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(pA||(pA={}));var mA;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(mA||(mA={}));var gA;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(gA||(gA={}));var vA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vA||(vA={}));var yA;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yA||(yA={}));var bA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(bA||(bA={}));var _A;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(_A||(_A={}));var wA;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(wA||(wA={}));var SA;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(SA||(SA={}));var EA;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(EA||(EA={}));var AA;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(AA||(AA={}));var xA;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xA||(xA={}));var TA;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(TA||(TA={}));var CA;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(CA||(CA={}));var MA;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(MA||(MA={}));var PA;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(PA||(PA={}));var OA;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(OA||(OA={}));var NA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(NA||(NA={}));var RA;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(RA||(RA={}));var DA;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(DA||(DA={}));var IA;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(IA||(IA={}));var kA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kA||(kA={}));var LA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(LA||(LA={}));var UA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(UA||(UA={}));var BA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(BA||(BA={}));var qA;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qA||(qA={}));var jA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jA||(jA={}));var $A;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})($A||($A={}));var Fo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Fo||(Fo={}));class lv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sl{get text(){var e,n,r,i,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const y of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[w,E]of Object.entries(y))w!=="text"&&w!=="thought"&&(E!==null||E!==void 0)&&m.push(w);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[y,w]of Object.entries(m))y!=="inlineData"&&(w!==null||w!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,l,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,l,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class zA{}class HA{}class cq{}class fq{}class dq{}class hq{}class GA{}class VA{}class FA{}class pq{}class ff{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new ff;let i;const o=e;return n?i=tq(o):i=eq(o),Object.assign(r,i),r}}class KA{}class YA{}class JA{}class mq{}class gq{}class vq{}class WA{}class yq{get text(){var e,n,r;let i="",o=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class bq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function jM(t,e){const n=Be(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $M(t){return Array.isArray(t)?t.map(e=>df(e)):[df(t)]}function df(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zM(t){const e=df(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function HM(t){const e=df(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function GM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>XA(e)):[XA(t)]}function uv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function QA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ZA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function nn(t){if(t==null)throw new Error("ContentUnion is required");return uv(t)?t:{role:"user",parts:GM(t)}}function py(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=nn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=nn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>nn(n)):[nn(e)]}function tr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(QA(t)||ZA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(t)]}const e=[],n=[],r=uv(t[0]);for(const i of t){const o=uv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(QA(i)||ZA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:GM(n)}),e}function _q(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values($i).includes(n[0].toUpperCase())?n[0].toUpperCase():$i.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values($i).includes(r.toUpperCase())?r.toUpperCase():$i.TYPE_UNSPECIFIED})}}function Jo(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&_q(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values($i).includes(c.toUpperCase())?c.toUpperCase():$i.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Jo(c);else if(r.includes(l)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(Jo(f))}e[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(c))d[f]=Jo(h);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function my(t){return Jo(t)}function gy(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ms(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Jo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Jo(e.response));return t}function gs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function wq(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ri(t,e){if(typeof e!="string")throw new Error("name must be a string");return wq(t,e,"cachedContents")}function VM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Fi(t){return hy(t)}function Sq(t){return t!=null&&typeof t=="object"&&"name"in t}function Eq(t){return t!=null&&typeof t=="object"&&"video"in t}function Aq(t){return t!=null&&typeof t=="object"&&"uri"in t}function FM(t){var e;let n;if(Sq(t)&&(n=t.name),!(Aq(t)&&(n=t.uri,n===void 0))&&!(Eq(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function KM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function YM(t){for(const e of["models","tunedModels","publisherModels"])if(xq(t,e))return t[e];return[]}function xq(t,e){return t!==null&&typeof t=="object"&&e in t}function Tq(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Cq(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=Tq(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function JM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Mq(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function WM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function XM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pq(t){const e={},n=g(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>oj(l))),v(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(e,["inlinedEmbedContentResponses"],o)}return e}function Oq(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function Nq(t){const e={},n=g(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function tf(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&v(e,["state"],XM(i));const o=g(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const l=g(t,["metadata","endTime"]);l!=null&&v(e,["endTime"],l);const c=g(t,["metadata","updateTime"]);c!=null&&v(e,["updateTime"],c);const d=g(t,["metadata","model"]);d!=null&&v(e,["model"],d);const f=g(t,["metadata","output"]);return f!=null&&v(e,["dest"],Pq(WM(f))),e}function cv(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["state"]);i!=null&&v(e,["state"],XM(i));const o=g(t,["error"]);o!=null&&v(e,["error"],o);const l=g(t,["createTime"]);l!=null&&v(e,["createTime"],l);const c=g(t,["startTime"]);c!=null&&v(e,["startTime"],c);const d=g(t,["endTime"]);d!=null&&v(e,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&v(e,["updateTime"],f);const h=g(t,["model"]);h!=null&&v(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&v(e,["src"],Rq(m));const y=g(t,["outputConfig"]);return y!=null&&v(e,["dest"],Oq(WM(y))),e}function Rq(t){const e={},n=g(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function Dq(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>aj(t,l))),v(n,["requests","requests"],o)}return n}function Iq(t){const e={},n=g(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kq(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&v(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Lq(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],vs(t,r)),n}function Uq(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],vs(t,r)),n}function Bq(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],qq(r));const i=g(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const l=g(t,["urlContextMetadata"]);l!=null&&v(e,["urlContextMetadata"],l);const c=g(t,["avgLogprobs"]);c!=null&&v(e,["avgLogprobs"],c);const d=g(t,["groundingMetadata"]);d!=null&&v(e,["groundingMetadata"],d);const f=g(t,["index"]);f!=null&&v(e,["index"],f);const h=g(t,["logprobsResult"]);h!=null&&v(e,["logprobsResult"],h);const m=g(t,["safetyRatings"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(w=>w)),v(e,["safetyRatings"],y)}return e}function qq(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function QM(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hj(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function jq(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $q(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],Nq(Mq(i))),n}function ex(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["src"]);i!=null&&v(n,["batch","inputConfig"],Dq(t,JM(t,i)));const o=g(e,["config"]);return o!=null&&jq(o,n),n}function zq(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],Be(t,r));const i=g(e,["src"]);i!=null&&v(n,["inputConfig"],Iq(JM(t,i)));const o=g(e,["config"]);return o!=null&&$q(o,n),n}function Hq(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function Gq(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["src"]);i!=null&&v(n,["batch","inputConfig"],Xq(t,i));const o=g(e,["config"]);return o!=null&&Hq(o,n),n}function Vq(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],vs(t,r)),n}function Fq(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],vs(t,r)),n}function Kq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);return o!=null&&v(e,["error"],o),e}function Yq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);return o!=null&&v(e,["error"],o),e}function Jq(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=py(t,r);Array.isArray(o)&&(o=o.map(l=>l)),v(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(v(n,["_self"],Wq(i,n)),QB(n,{"requests[].*":"requests[].request.*"})),n}function Wq(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Xq(t,e){const n={},r=g(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],Jq(t,i)),n}function Qq(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Zq(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],QM(nn(i)));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&v(r,["topP"],l);const c=g(e,["topK"]);c!=null&&v(r,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const w=g(e,["presencePenalty"]);w!=null&&v(r,["presencePenalty"],w);const E=g(e,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const S=g(e,["seed"]);S!=null&&v(r,["seed"],S);const A=g(e,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const P=g(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],my(P));const C=g(e,["responseJsonSchema"]);if(C!=null&&v(r,["responseJsonSchema"],C),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=g(e,["safetySettings"]);if(n!==void 0&&O!=null){let Y=O;Array.isArray(Y)&&(Y=Y.map(ne=>pj(ne))),v(n,["safetySettings"],Y)}const D=g(e,["tools"]);if(n!==void 0&&D!=null){let Y=gs(D);Array.isArray(Y)&&(Y=Y.map(ne=>mj(ms(ne)))),v(n,["tools"],Y)}const I=g(e,["toolConfig"]);if(n!==void 0&&I!=null&&v(n,["toolConfig"],I),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(e,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],ri(t,R));const k=g(e,["responseModalities"]);k!=null&&v(r,["responseModalities"],k);const G=g(e,["mediaResolution"]);G!=null&&v(r,["mediaResolution"],G);const U=g(e,["speechConfig"]);if(U!=null&&v(r,["speechConfig"],gy(U)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=g(e,["thinkingConfig"]);X!=null&&v(r,["thinkingConfig"],X);const V=g(e,["imageConfig"]);return V!=null&&v(r,["imageConfig"],V),r}function ej(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Bq(f))),v(e,["candidates"],d)}const i=g(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&v(e,["responseId"],l);const c=g(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function tj(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],vs(t,r)),n}function nj(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],vs(t,r)),n}function rj(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function ij(t){const e={},n=g(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function aj(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["request","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let c=tr(i);Array.isArray(c)&&(c=c.map(d=>QM(d))),v(n,["request","contents"],c)}const o=g(e,["metadata"]);o!=null&&v(n,["metadata"],o);const l=g(e,["config"]);return l!=null&&v(n,["request","generationConfig"],Zq(t,l,g(n,["request"],{}))),n}function oj(t){const e={},n=g(t,["response"]);n!=null&&v(e,["response"],ej(n));const r=g(t,["error"]);return r!=null&&v(e,["error"],r),e}function sj(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function lj(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function uj(t){const e={},n=g(t,["config"]);return n!=null&&sj(n,e),e}function cj(t){const e={},n=g(t,["config"]);return n!=null&&lj(n,e),e}function fj(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>tf(l))),v(e,["batchJobs"],o)}return e}function dj(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cv(l))),v(e,["batchJobs"],o)}return e}function hj(t){const e={},n=g(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const r=g(t,["thought"]);r!=null&&v(e,["thought"],r);const i=g(t,["inlineData"]);i!=null&&v(e,["inlineData"],kq(i));const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Qq(o));const l=g(t,["thoughtSignature"]);l!=null&&v(e,["thoughtSignature"],l);const c=g(t,["functionCall"]);c!=null&&v(e,["functionCall"],c);const d=g(t,["codeExecutionResult"]);d!=null&&v(e,["codeExecutionResult"],d);const f=g(t,["executableCode"]);f!=null&&v(e,["executableCode"],f);const h=g(t,["functionResponse"]);h!=null&&v(e,["functionResponse"],h);const m=g(t,["text"]);return m!=null&&v(e,["text"],m),e}function pj(t){const e={};if(g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=g(t,["category"]);n!=null&&v(e,["category"],n);const r=g(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function mj(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),v(e,["functionDeclarations"],f)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],ij(r));const i=g(t,["googleSearchRetrieval"]);if(i!=null&&v(e,["googleSearchRetrieval"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],rj(o));const l=g(t,["urlContext"]);l!=null&&v(e,["urlContext"],l);const c=g(t,["computerUse"]);c!=null&&v(e,["computerUse"],c);const d=g(t,["codeExecution"]);return d!=null&&v(e,["codeExecution"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ra;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ra||(Ra={}));class Zl{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gj extends ja{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Zl(Ra.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=ex(this.apiClient,e),r=n._url,i=fe("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const y=m.systemInstruction;delete m.systemInstruction;const w=m.request;w.systemInstruction=y,m.request=w}f.push(m)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=zq(this.apiClient,e);return c=fe("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>cv(h))}else{const f=ex(this.apiClient,e);return c=fe("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>tf(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Gq(this.apiClient,e);return o=fe("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>tf(d))}}async get(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=nj(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>cv(h))}else{const f=tj(this.apiClient,e);return c=fe("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>tf(h))}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const d=Uq(this.apiClient,e);l=fe("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=Lq(this.apiClient,e);l=fe("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=cj(e);return c=fe("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=dj(h),y=new WA;return Object.assign(y,m),y})}else{const f=uj(e);return c=fe("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=fj(h),y=new WA;return Object.assign(y,m),y})}}async delete(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Fq(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>Yq(h))}else{const f=Vq(this.apiClient,e);return c=fe("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>Kq(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vj(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&v(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function tx(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bj(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function yj(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let h=tr(l);Array.isArray(h)&&(h=h.map(m=>tx(m))),v(e,["contents"],h)}const c=g(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],tx(nn(c)));const d=g(t,["tools"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>qj(m))),v(e,["tools"],h)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&v(e,["toolConfig"],f),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function bj(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let m=tr(l);Array.isArray(m)&&(m=m.map(y=>y)),v(e,["contents"],m)}const c=g(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],nn(c));const d=g(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>jj(y))),v(e,["tools"],m)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&v(e,["toolConfig"],f);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function _j(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],jM(t,r));const i=g(e,["config"]);return i!=null&&yj(i,n),n}function wj(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],jM(t,r));const i=g(e,["config"]);return i!=null&&bj(i,n),n}function Sj(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ri(t,r)),n}function Ej(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ri(t,r)),n}function Aj(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function xj(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Tj(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Cj(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&v(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function Mj(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ri(t,r)),n}function Pj(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ri(t,r)),n}function Oj(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Nj(t){const e={},n=g(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Rj(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Dj(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Ij(t){const e={},n=g(t,["config"]);return n!=null&&Rj(n,e),e}function kj(t){const e={},n=g(t,["config"]);return n!=null&&Dj(n,e),e}function Lj(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(e,["cachedContents"],o)}return e}function Uj(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(e,["cachedContents"],o)}return e}function Bj(t){const e={},n=g(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const r=g(t,["thought"]);r!=null&&v(e,["thought"],r);const i=g(t,["inlineData"]);i!=null&&v(e,["inlineData"],vj(i));const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Tj(o));const l=g(t,["thoughtSignature"]);l!=null&&v(e,["thoughtSignature"],l);const c=g(t,["functionCall"]);c!=null&&v(e,["functionCall"],c);const d=g(t,["codeExecutionResult"]);d!=null&&v(e,["codeExecutionResult"],d);const f=g(t,["executableCode"]);f!=null&&v(e,["executableCode"],f);const h=g(t,["functionResponse"]);h!=null&&v(e,["functionResponse"],h);const m=g(t,["text"]);return m!=null&&v(e,["text"],m),e}function qj(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),v(e,["functionDeclarations"],f)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],Nj(r));const i=g(t,["googleSearchRetrieval"]);if(i!=null&&v(e,["googleSearchRetrieval"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],Oj(o));const l=g(t,["urlContext"]);l!=null&&v(e,["urlContext"],l);const c=g(t,["computerUse"]);c!=null&&v(e,["computerUse"],c);const d=g(t,["codeExecution"]);return d!=null&&v(e,["codeExecution"],d),e}function jj(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>Cj(y))),v(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=g(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],i);const o=g(t,["googleSearchRetrieval"]);o!=null&&v(e,["googleSearchRetrieval"],o);const l=g(t,["enterpriseWebSearch"]);l!=null&&v(e,["enterpriseWebSearch"],l);const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=g(t,["urlContext"]);d!=null&&v(e,["urlContext"],d);const f=g(t,["computerUse"]);f!=null&&v(e,["computerUse"],f);const h=g(t,["codeExecution"]);return h!=null&&v(e,["codeExecution"],h),e}function $j(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function zj(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function Hj(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],ri(t,r));const i=g(e,["config"]);return i!=null&&$j(i,n),n}function Gj(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],ri(t,r));const i=g(e,["config"]);return i!=null&&zj(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vj extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zl(Ra.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=wj(this.apiClient,e);return c=fe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=_j(this.apiClient,e);return c=fe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Pj(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=Mj(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Ej(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=xj(h),y=new YA;return Object.assign(y,m),y})}else{const f=Sj(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=Aj(h),y=new YA;return Object.assign(y,m),y})}}async update(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Gj(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=Hj(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=kj(e);return c=fe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=Uj(h),y=new JA;return Object.assign(y,m),y})}else{const f=Ij(e);return c=fe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=Lj(h),y=new JA;return Object.assign(y,m),y})}}}function nx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(t){return this instanceof rt?(this.v=t,this):new rt(t)}function Wo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(E){return Promise.resolve(E).then(w,m)}}function c(w,E){r[w]&&(i[w]=function(S){return new Promise(function(A,P){o.push([w,S,A,P])>1||d(w,S)})},E&&(i[w]=E(i[w])))}function d(w,E){try{f(r[w](E))}catch(S){y(o[0][3],S)}}function f(w){w.value instanceof rt?Promise.resolve(w.value.v).then(h,m):y(o[0][2],w)}function h(w){d("next",w)}function m(w){d("throw",w)}function y(w,E){w(E),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Ul(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nx=="function"?nx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,d){l=t[o](l),i(c,d,l.done,l.value)})}}function i(o,l,c,d){Promise.resolve(d).then(function(f){o({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fj(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ZM(n)}function ZM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Kj(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rx(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!ZM(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Yj{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Jj(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Jj{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Kj(o)}async sendMessage(e){var n;await this.sendPromise;const r=nn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const d=await i,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(c=h.slice(m))!==null&&c!==void 0?c:[]);const w=f?[f]:[];this.recordHistory(r,w,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=nn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?rx(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Wo(this,arguments,function*(){var l,c,d,f;const h=[];try{for(var m=!0,y=Ul(e),w;w=yield rt(y.next()),l=w.done,!l;m=!0){f=w.value,m=!1;const E=f;if(Fj(E)){const S=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield rt(E)}}catch(E){c={error:E}}finally{try{!m&&!l&&(d=y.return)&&(yield rt(d.call(y)))}finally{if(c)throw c.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...rx(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ed extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ed.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wj(t){const e={},n=g(t,["file"]);return n!=null&&v(e,["file"],n),e}function Xj(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Qj(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],FM(n)),e}function Zj(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function e3(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],FM(n)),e}function t3(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function n3(t){const e={},n=g(t,["config"]);return n!=null&&t3(n,e),e}function r3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i3 extends ja{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zl(Ra.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=n3(e);return o=fe("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=r3(d),h=new mq;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Wj(e);return o=fe("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Xj(d),h=new gq;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e3(e);return o=fe("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Qj(e);return o=fe("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Zj(d),h=new vq;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nf(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&v(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function a3(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_3(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function o3(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function s3(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&v(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function l3(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=g(t,["audioTimestamp"]);r!=null&&v(e,["audioTimestamp"],r);const i=g(t,["candidateCount"]);i!=null&&v(e,["candidateCount"],i);const o=g(t,["enableAffectiveDialog"]);o!=null&&v(e,["enableAffectiveDialog"],o);const l=g(t,["frequencyPenalty"]);l!=null&&v(e,["frequencyPenalty"],l);const c=g(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const f=g(t,["mediaResolution"]);f!=null&&v(e,["mediaResolution"],f);const h=g(t,["presencePenalty"]);h!=null&&v(e,["presencePenalty"],h);const m=g(t,["responseJsonSchema"]);m!=null&&v(e,["responseJsonSchema"],m);const y=g(t,["responseLogprobs"]);y!=null&&v(e,["responseLogprobs"],y);const w=g(t,["responseMimeType"]);w!=null&&v(e,["responseMimeType"],w);const E=g(t,["responseModalities"]);E!=null&&v(e,["responseModalities"],E);const S=g(t,["responseSchema"]);S!=null&&v(e,["responseSchema"],S);const A=g(t,["routingConfig"]);A!=null&&v(e,["routingConfig"],A);const P=g(t,["seed"]);P!=null&&v(e,["seed"],P);const C=g(t,["speechConfig"]);C!=null&&v(e,["speechConfig"],eP(C));const O=g(t,["stopSequences"]);O!=null&&v(e,["stopSequences"],O);const D=g(t,["temperature"]);D!=null&&v(e,["temperature"],D);const I=g(t,["thinkingConfig"]);I!=null&&v(e,["thinkingConfig"],I);const R=g(t,["topK"]);R!=null&&v(e,["topK"],R);const k=g(t,["topP"]);return k!=null&&v(e,["topP"],k),e}function u3(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function c3(t){const e={},n=g(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function f3(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],vy(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(t,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],a3(nn(E)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let R=gs(S);Array.isArray(R)&&(R=R.map(k=>S3(ms(k)))),v(e,["setup","tools"],R)}const A=g(t,["sessionResumption"]);e!==void 0&&A!=null&&v(e,["setup","sessionResumption"],w3(A));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const C=g(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&v(e,["setup","outputAudioTranscription"],C);const O=g(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&v(e,["setup","realtimeInputConfig"],O);const D=g(t,["contextWindowCompression"]);e!==void 0&&D!=null&&v(e,["setup","contextWindowCompression"],D);const I=g(t,["proactivity"]);return e!==void 0&&I!=null&&v(e,["setup","proactivity"],I),n}function d3(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],l3(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],eP(vy(m)));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(t,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],nn(E));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let R=gs(S);Array.isArray(R)&&(R=R.map(k=>E3(ms(k)))),v(e,["setup","tools"],R)}const A=g(t,["sessionResumption"]);e!==void 0&&A!=null&&v(e,["setup","sessionResumption"],A);const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const C=g(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&v(e,["setup","outputAudioTranscription"],C);const O=g(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&v(e,["setup","realtimeInputConfig"],O);const D=g(t,["contextWindowCompression"]);e!==void 0&&D!=null&&v(e,["setup","contextWindowCompression"],D);const I=g(t,["proactivity"]);return e!==void 0&&I!=null&&v(e,["setup","proactivity"],I),n}function h3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Be(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],f3(i,n)),n}function p3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Be(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],d3(i,n)),n}function m3(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function g3(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function v3(t){const e={},n=g(t,["media"]);if(n!=null){let f=$M(n);Array.isArray(f)&&(f=f.map(h=>nf(h))),v(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&v(e,["audio"],nf(HM(r)));const i=g(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&v(e,["video"],nf(zM(o)));const l=g(t,["text"]);l!=null&&v(e,["text"],l);const c=g(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const d=g(t,["activityEnd"]);return d!=null&&v(e,["activityEnd"],d),e}function y3(t){const e={},n=g(t,["media"]);if(n!=null){let f=$M(n);Array.isArray(f)&&(f=f.map(h=>h)),v(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&v(e,["audio"],HM(r));const i=g(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&v(e,["video"],zM(o));const l=g(t,["text"]);l!=null&&v(e,["text"],l);const c=g(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const d=g(t,["activityEnd"]);return d!=null&&v(e,["activityEnd"],d),e}function b3(t){const e={},n=g(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const l=g(t,["usageMetadata"]);l!=null&&v(e,["usageMetadata"],A3(l));const c=g(t,["goAway"]);c!=null&&v(e,["goAway"],c);const d=g(t,["sessionResumptionUpdate"]);return d!=null&&v(e,["sessionResumptionUpdate"],d),e}function _3(t){const e={},n=g(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const r=g(t,["thought"]);r!=null&&v(e,["thought"],r);const i=g(t,["inlineData"]);i!=null&&v(e,["inlineData"],nf(i));const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],o3(o));const l=g(t,["thoughtSignature"]);l!=null&&v(e,["thoughtSignature"],l);const c=g(t,["functionCall"]);c!=null&&v(e,["functionCall"],c);const d=g(t,["codeExecutionResult"]);d!=null&&v(e,["codeExecutionResult"],d);const f=g(t,["executableCode"]);f!=null&&v(e,["executableCode"],f);const h=g(t,["functionResponse"]);h!=null&&v(e,["functionResponse"],h);const m=g(t,["text"]);return m!=null&&v(e,["text"],m),e}function w3(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eP(t){const e={},n=g(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],n),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function S3(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),v(e,["functionDeclarations"],f)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],c3(r));const i=g(t,["googleSearchRetrieval"]);if(i!=null&&v(e,["googleSearchRetrieval"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],u3(o));const l=g(t,["urlContext"]);l!=null&&v(e,["urlContext"],l);const c=g(t,["computerUse"]);c!=null&&v(e,["computerUse"],c);const d=g(t,["codeExecution"]);return d!=null&&v(e,["codeExecution"],d),e}function E3(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>s3(y))),v(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=g(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],i);const o=g(t,["googleSearchRetrieval"]);o!=null&&v(e,["googleSearchRetrieval"],o);const l=g(t,["enterpriseWebSearch"]);l!=null&&v(e,["enterpriseWebSearch"],l);const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=g(t,["urlContext"]);d!=null&&v(e,["urlContext"],d);const f=g(t,["computerUse"]);f!=null&&v(e,["computerUse"],f);const h=g(t,["codeExecution"]);return h!=null&&v(e,["codeExecution"],h),e}function A3(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const l=g(t,["thoughtsTokenCount"]);l!=null&&v(e,["thoughtsTokenCount"],l);const c=g(t,["totalTokenCount"]);c!=null&&v(e,["totalTokenCount"],c);const d=g(t,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(E=>E)),v(e,["promptTokensDetails"],w)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(E=>E)),v(e,["cacheTokensDetails"],w)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(E=>E)),v(e,["responseTokensDetails"],w)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(E=>E)),v(e,["toolUsePromptTokensDetails"],w)}const y=g(t,["trafficType"]);return y!=null&&v(e,["trafficType"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x3(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&v(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function T3(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],C3(r));const i=g(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const l=g(t,["urlContextMetadata"]);l!=null&&v(e,["urlContextMetadata"],l);const c=g(t,["avgLogprobs"]);c!=null&&v(e,["avgLogprobs"],c);const d=g(t,["groundingMetadata"]);d!=null&&v(e,["groundingMetadata"],d);const f=g(t,["index"]);f!=null&&v(e,["index"],f);const h=g(t,["logprobsResult"]);h!=null&&v(e,["logprobsResult"],h);const m=g(t,["safetyRatings"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(w=>w)),v(e,["safetyRatings"],y)}return e}function C3(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function M3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let o=tr(i);Array.isArray(o)&&(o=o.map(l=>l)),v(n,["contents"],o)}return n}function P3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["tokensInfo"],i)}return e}function O3(t){const e={},n=g(t,["values"]);n!=null&&v(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&v(e,["statistics"],N3(r)),e}function N3(t){const e={},n=g(t,["truncated"]);n!=null&&v(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function td(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>L4(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function R3(t){const e={},n=g(t,["controlType"]);n!=null&&v(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function D3(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function I3(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],nn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>aP(c))),v(e,["tools"],l)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],E4(o)),n}function k3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let l=tr(i);Array.isArray(l)&&(l=l.map(c=>td(c))),v(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&D3(o),n}function L3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let l=tr(i);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&I3(o,n),n}function U3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&v(e,["cachedContentTokenCount"],i),e}function B3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function q3(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],Be(t,r)),n}function j3(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],Be(t,r)),n}function $3(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function z3(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function H3(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const c=g(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const d=g(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&v(e,["parameters","includeSafetyAttributes"],m);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const w=g(t,["language"]);e!==void 0&&w!=null&&v(e,["parameters","language"],w);const E=g(t,["outputMimeType"]);e!==void 0&&E!=null&&v(e,["parameters","outputOptions","mimeType"],E);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","compressionQuality"],S);const A=g(t,["addWatermark"]);e!==void 0&&A!=null&&v(e,["parameters","addWatermark"],A);const P=g(t,["labels"]);e!==void 0&&P!=null&&v(e,["labels"],P);const C=g(t,["editMode"]);e!==void 0&&C!=null&&v(e,["parameters","editMode"],C);const O=g(t,["baseSteps"]);return e!==void 0&&O!=null&&v(e,["parameters","editConfig","baseSteps"],O),n}function G3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>z4(d))),v(n,["instances[0]","referenceImages"],c)}const l=g(e,["config"]);return l!=null&&H3(l,n),n}function V3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>nd(o))),v(e,["generatedImages"],i)}return e}function F3(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function K3(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&v(e,["instances[]","mimeType"],l);const c=g(t,["autoTruncate"]);return e!==void 0&&c!=null&&v(e,["parameters","autoTruncate"],c),n}function Y3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let c=py(t,i);Array.isArray(c)&&(c=c.map(d=>d)),v(n,["requests[]","content"],c)}const o=g(e,["config"]);o!=null&&F3(o,n);const l=g(e,["model"]);return l!==void 0&&v(n,["requests[]","model"],Be(t,l)),n}function J3(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let l=py(t,i);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["instances[]","content"],l)}const o=g(e,["config"]);return o!=null&&K3(o,n),n}function W3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),v(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function X3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>O3(l))),v(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function Q3(t){const e={},n=g(t,["endpoint"]);n!=null&&v(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function Z3(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function e4(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&v(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function t4(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],td(nn(i)));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&v(r,["topP"],l);const c=g(e,["topK"]);c!=null&&v(r,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const w=g(e,["presencePenalty"]);w!=null&&v(r,["presencePenalty"],w);const E=g(e,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const S=g(e,["seed"]);S!=null&&v(r,["seed"],S);const A=g(e,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const P=g(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],my(P));const C=g(e,["responseJsonSchema"]);if(C!=null&&v(r,["responseJsonSchema"],C),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=g(e,["safetySettings"]);if(n!==void 0&&O!=null){let Y=O;Array.isArray(Y)&&(Y=Y.map(ne=>H4(ne))),v(n,["safetySettings"],Y)}const D=g(e,["tools"]);if(n!==void 0&&D!=null){let Y=gs(D);Array.isArray(Y)&&(Y=Y.map(ne=>J4(ms(ne)))),v(n,["tools"],Y)}const I=g(e,["toolConfig"]);if(n!==void 0&&I!=null&&v(n,["toolConfig"],I),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(e,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],ri(t,R));const k=g(e,["responseModalities"]);k!=null&&v(r,["responseModalities"],k);const G=g(e,["mediaResolution"]);G!=null&&v(r,["mediaResolution"],G);const U=g(e,["speechConfig"]);if(U!=null&&v(r,["speechConfig"],gy(U)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=g(e,["thinkingConfig"]);X!=null&&v(r,["thinkingConfig"],X);const V=g(e,["imageConfig"]);return V!=null&&v(r,["imageConfig"],V),r}function n4(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],nn(i));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&v(r,["topP"],l);const c=g(e,["topK"]);c!=null&&v(r,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const w=g(e,["presencePenalty"]);w!=null&&v(r,["presencePenalty"],w);const E=g(e,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const S=g(e,["seed"]);S!=null&&v(r,["seed"],S);const A=g(e,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const P=g(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],my(P));const C=g(e,["responseJsonSchema"]);C!=null&&v(r,["responseJsonSchema"],C);const O=g(e,["routingConfig"]);O!=null&&v(r,["routingConfig"],O);const D=g(e,["modelSelectionConfig"]);D!=null&&v(r,["modelConfig"],D);const I=g(e,["safetySettings"]);if(n!==void 0&&I!=null){let $=I;Array.isArray($)&&($=$.map(te=>te)),v(n,["safetySettings"],$)}const R=g(e,["tools"]);if(n!==void 0&&R!=null){let $=gs(R);Array.isArray($)&&($=$.map(te=>aP(ms(te)))),v(n,["tools"],$)}const k=g(e,["toolConfig"]);n!==void 0&&k!=null&&v(n,["toolConfig"],k);const G=g(e,["labels"]);n!==void 0&&G!=null&&v(n,["labels"],G);const U=g(e,["cachedContent"]);n!==void 0&&U!=null&&v(n,["cachedContent"],ri(t,U));const X=g(e,["responseModalities"]);X!=null&&v(r,["responseModalities"],X);const V=g(e,["mediaResolution"]);V!=null&&v(r,["mediaResolution"],V);const Y=g(e,["speechConfig"]);Y!=null&&v(r,["speechConfig"],iP(gy(Y)));const ne=g(e,["audioTimestamp"]);ne!=null&&v(r,["audioTimestamp"],ne);const ie=g(e,["thinkingConfig"]);ie!=null&&v(r,["thinkingConfig"],ie);const ve=g(e,["imageConfig"]);return ve!=null&&v(r,["imageConfig"],ve),r}function ix(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let l=tr(i);Array.isArray(l)&&(l=l.map(c=>td(c))),v(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&v(n,["generationConfig"],t4(t,o,n)),n}function ax(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["contents"]);if(i!=null){let l=tr(i);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&v(n,["generationConfig"],n4(t,o,n)),n}function ox(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>T3(f))),v(e,["candidates"],d)}const i=g(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&v(e,["responseId"],l);const c=g(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function sx(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),v(e,["candidates"],f)}const i=g(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const l=g(t,["promptFeedback"]);l!=null&&v(e,["promptFeedback"],l);const c=g(t,["responseId"]);c!=null&&v(e,["responseId"],c);const d=g(t,["usageMetadata"]);return d!=null&&v(e,["usageMetadata"],d),e}function r4(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&v(e,["parameters","safetySetting"],l);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const d=g(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&v(e,["parameters","includeSafetyAttributes"],d);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&v(e,["parameters","includeRaiReason"],f);const h=g(t,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","mimeType"],m);const y=g(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&v(e,["parameters","outputOptions","compressionQuality"],y),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["imageSize"]);if(e!==void 0&&w!=null&&v(e,["parameters","sampleImageSize"],w),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function i4(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const c=g(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const d=g(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&v(e,["parameters","includeSafetyAttributes"],m);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const w=g(t,["language"]);e!==void 0&&w!=null&&v(e,["parameters","language"],w);const E=g(t,["outputMimeType"]);e!==void 0&&E!=null&&v(e,["parameters","outputOptions","mimeType"],E);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","compressionQuality"],S);const A=g(t,["addWatermark"]);e!==void 0&&A!=null&&v(e,["parameters","addWatermark"],A);const P=g(t,["labels"]);e!==void 0&&P!=null&&v(e,["labels"],P);const C=g(t,["imageSize"]);e!==void 0&&C!=null&&v(e,["parameters","sampleImageSize"],C);const O=g(t,["enhancePrompt"]);return e!==void 0&&O!=null&&v(e,["parameters","enhancePrompt"],O),n}function a4(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&r4(o,n),n}function o4(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&i4(o,n),n}function s4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>b4(l))),v(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],nP(i)),e}function l4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>nd(l))),v(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],rP(i)),e}function u4(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&v(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const l=g(t,["resolution"]);e!==void 0&&l!=null&&v(e,["parameters","resolution"],l);const c=g(t,["personGeneration"]);if(e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(t,["negativePrompt"]);e!==void 0&&d!=null&&v(e,["parameters","negativePrompt"],d);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&v(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&v(e,["instances[0]","lastFrame"],rd(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(w=>l$(w))),v(e,["instances[0]","referenceImages"],y)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function c4(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&v(e,["parameters","durationSeconds"],l);const c=g(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const d=g(t,["aspectRatio"]);e!==void 0&&d!=null&&v(e,["parameters","aspectRatio"],d);const f=g(t,["resolution"]);e!==void 0&&f!=null&&v(e,["parameters","resolution"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&v(e,["parameters","pubsubTopic"],m);const y=g(t,["negativePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","negativePrompt"],y);const w=g(t,["enhancePrompt"]);e!==void 0&&w!=null&&v(e,["parameters","enhancePrompt"],w);const E=g(t,["generateAudio"]);e!==void 0&&E!=null&&v(e,["parameters","generateAudio"],E);const S=g(t,["lastFrame"]);e!==void 0&&S!=null&&v(e,["instances[0]","lastFrame"],pr(S));const A=g(t,["referenceImages"]);if(e!==void 0&&A!=null){let O=A;Array.isArray(O)&&(O=O.map(D=>u$(D))),v(e,["instances[0]","referenceImages"],O)}const P=g(t,["mask"]);e!==void 0&&P!=null&&v(e,["instances[0]","mask"],s$(P));const C=g(t,["compressionQuality"]);return e!==void 0&&C!=null&&v(e,["parameters","compressionQuality"],C),n}function f4(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&v(e,["response"],m4(l)),e}function d4(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const l=g(t,["response"]);return l!=null&&v(e,["response"],g4(l)),e}function h4(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&v(n,["instances[0]","image"],rd(o));const l=g(e,["video"]);l!=null&&v(n,["instances[0]","video"],oP(l));const c=g(e,["source"]);c!=null&&v4(c,n);const d=g(e,["config"]);return d!=null&&u4(d,n),n}function p4(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&v(n,["instances[0]","image"],pr(o));const l=g(e,["video"]);l!=null&&v(n,["instances[0]","video"],sP(l));const c=g(e,["source"]);c!=null&&y4(c,n);const d=g(e,["config"]);return d!=null&&c4(d,n),n}function m4(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>w4(l))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function g4(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>S4(l))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function v4(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],rd(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],oP(o)),n}function y4(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],pr(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],sP(o)),n}function b4(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],M4(n));const r=g(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&v(e,["safetyAttributes"],nP(i)),e}function nd(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],tP(n));const r=g(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&v(e,["safetyAttributes"],rP(i));const o=g(t,["prompt"]);return o!=null&&v(e,["enhancedPrompt"],o),e}function _4(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["mask"],tP(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["labels"],i)}return e}function w4(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],a$(n)),e}function S4(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],o$(n)),e}function E4(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=g(t,["audioTimestamp"]);r!=null&&v(e,["audioTimestamp"],r);const i=g(t,["candidateCount"]);i!=null&&v(e,["candidateCount"],i);const o=g(t,["enableAffectiveDialog"]);o!=null&&v(e,["enableAffectiveDialog"],o);const l=g(t,["frequencyPenalty"]);l!=null&&v(e,["frequencyPenalty"],l);const c=g(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const f=g(t,["mediaResolution"]);f!=null&&v(e,["mediaResolution"],f);const h=g(t,["presencePenalty"]);h!=null&&v(e,["presencePenalty"],h);const m=g(t,["responseJsonSchema"]);m!=null&&v(e,["responseJsonSchema"],m);const y=g(t,["responseLogprobs"]);y!=null&&v(e,["responseLogprobs"],y);const w=g(t,["responseMimeType"]);w!=null&&v(e,["responseMimeType"],w);const E=g(t,["responseModalities"]);E!=null&&v(e,["responseModalities"],E);const S=g(t,["responseSchema"]);S!=null&&v(e,["responseSchema"],S);const A=g(t,["routingConfig"]);A!=null&&v(e,["routingConfig"],A);const P=g(t,["seed"]);P!=null&&v(e,["seed"],P);const C=g(t,["speechConfig"]);C!=null&&v(e,["speechConfig"],iP(C));const O=g(t,["stopSequences"]);O!=null&&v(e,["stopSequences"],O);const D=g(t,["temperature"]);D!=null&&v(e,["temperature"],D);const I=g(t,["thinkingConfig"]);I!=null&&v(e,["thinkingConfig"],I);const R=g(t,["topK"]);R!=null&&v(e,["topK"],R);const k=g(t,["topP"]);return k!=null&&v(e,["topP"],k),e}function A4(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],Be(t,r)),n}function x4(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],Be(t,r)),n}function T4(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function C4(t){const e={},n=g(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function M4(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],Fi(n));const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function tP(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],Fi(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function rd(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],Fi(n));const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function pr(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Fi(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function P4(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const c=g(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],KM(t,c)),r}function O4(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const c=g(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],KM(t,c)),r}function N4(t,e){const n={},r=g(e,["config"]);return r!=null&&P4(t,r,n),n}function R4(t,e){const n={},r=g(e,["config"]);return r!=null&&O4(t,r,n),n}function D4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=YM(i);Array.isArray(o)&&(o=o.map(l=>fv(l))),v(e,["models"],o)}return e}function I4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=YM(i);Array.isArray(o)&&(o=o.map(l=>dv(l))),v(e,["models"],o)}return e}function k4(t){const e={},n=g(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&v(e,["dilation"],i),e}function fv(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);i!=null&&v(e,["description"],i);const o=g(t,["version"]);o!=null&&v(e,["version"],o);const l=g(t,["_self"]);l!=null&&v(e,["tunedModelInfo"],W4(l));const c=g(t,["inputTokenLimit"]);c!=null&&v(e,["inputTokenLimit"],c);const d=g(t,["outputTokenLimit"]);d!=null&&v(e,["outputTokenLimit"],d);const f=g(t,["supportedGenerationMethods"]);return f!=null&&v(e,["supportedActions"],f),e}function dv(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);i!=null&&v(e,["description"],i);const o=g(t,["versionId"]);o!=null&&v(e,["version"],o);const l=g(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>Q3(y))),v(e,["endpoints"],m)}const c=g(t,["labels"]);c!=null&&v(e,["labels"],c);const d=g(t,["_self"]);d!=null&&v(e,["tunedModelInfo"],X4(d));const f=g(t,["defaultCheckpointId"]);f!=null&&v(e,["defaultCheckpointId"],f);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),v(e,["checkpoints"],m)}return e}function L4(t){const e={},n=g(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const r=g(t,["thought"]);r!=null&&v(e,["thought"],r);const i=g(t,["inlineData"]);i!=null&&v(e,["inlineData"],x3(i));const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Z3(o));const l=g(t,["thoughtSignature"]);l!=null&&v(e,["thoughtSignature"],l);const c=g(t,["functionCall"]);c!=null&&v(e,["functionCall"],c);const d=g(t,["codeExecutionResult"]);d!=null&&v(e,["codeExecutionResult"],d);const f=g(t,["executableCode"]);f!=null&&v(e,["executableCode"],f);const h=g(t,["functionResponse"]);h!=null&&v(e,["functionResponse"],h);const m=g(t,["text"]);return m!=null&&v(e,["text"],m),e}function U4(t){const e={},n=g(t,["productImage"]);return n!=null&&v(e,["image"],pr(n)),e}function B4(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&v(e,["parameters","editConfig","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const l=g(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const c=g(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const d=g(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&v(e,["parameters","addWatermark"],f);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","compressionQuality"],m);const y=g(t,["enhancePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","enhancePrompt"],y);const w=g(t,["labels"]);return e!==void 0&&w!=null&&v(e,["labels"],w),n}function q4(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["source"]);i!=null&&$4(i,n);const o=g(e,["config"]);return o!=null&&B4(o,n),n}function j4(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nd(i))),v(e,["generatedImages"],r)}return e}function $4(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&v(e,["instances[0]","personImage","image"],pr(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>U4(c))),v(e,["instances[0]","productImages"],l)}return n}function z4(t){const e={},n=g(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],pr(n));const r=g(t,["referenceId"]);r!=null&&v(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&v(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&v(e,["maskImageConfig"],k4(o));const l=g(t,["controlImageConfig"]);l!=null&&v(e,["controlImageConfig"],R3(l));const c=g(t,["styleImageConfig"]);c!=null&&v(e,["styleImageConfig"],c);const d=g(t,["subjectImageConfig"]);return d!=null&&v(e,["subjectImageConfig"],d),e}function nP(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function rP(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function H4(t){const e={};if(g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=g(t,["category"]);n!=null&&v(e,["category"],n);const r=g(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function G4(t){const e={},n=g(t,["image"]);return n!=null&&v(e,["image"],pr(n)),e}function V4(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&v(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&v(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&v(e,["parameters","maskDilation"],l);const c=g(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&v(e,["parameters","binaryColorThreshold"],c);const d=g(t,["labels"]);return e!==void 0&&d!=null&&v(e,["labels"],d),n}function F4(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["source"]);i!=null&&Y4(i,n);const o=g(e,["config"]);return o!=null&&V4(o,n),n}function K4(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_4(i))),v(e,["generatedMasks"],r)}return e}function Y4(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],pr(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],G4(o)),n}function iP(t){const e={},n=g(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],n),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(t,["languageCode"]);return r!=null&&v(e,["languageCode"],r),e}function J4(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),v(e,["functionDeclarations"],f)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],C4(r));const i=g(t,["googleSearchRetrieval"]);if(i!=null&&v(e,["googleSearchRetrieval"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],T4(o));const l=g(t,["urlContext"]);l!=null&&v(e,["urlContext"],l);const c=g(t,["computerUse"]);c!=null&&v(e,["computerUse"],c);const d=g(t,["codeExecution"]);return d!=null&&v(e,["codeExecution"],d),e}function aP(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>e4(y))),v(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=g(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],i);const o=g(t,["googleSearchRetrieval"]);o!=null&&v(e,["googleSearchRetrieval"],o);const l=g(t,["enterpriseWebSearch"]);l!=null&&v(e,["enterpriseWebSearch"],l);const c=g(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=g(t,["urlContext"]);d!=null&&v(e,["urlContext"],d);const f=g(t,["computerUse"]);f!=null&&v(e,["computerUse"],f);const h=g(t,["codeExecution"]);return h!=null&&v(e,["codeExecution"],h),e}function W4(t){const e={},n=g(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function X4(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function Q4(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function Z4(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function e$(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Be(t,r));const i=g(e,["config"]);return i!=null&&Q4(i,n),n}function t$(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["config"]);return i!=null&&Z4(i,n),n}function n$(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["includeRaiReason"]);e!==void 0&&i!=null&&v(e,["parameters","includeRaiReason"],i);const o=g(t,["outputMimeType"]);e!==void 0&&o!=null&&v(e,["parameters","outputOptions","mimeType"],o);const l=g(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&v(e,["parameters","outputOptions","compressionQuality"],l);const c=g(t,["enhanceInputImage"]);e!==void 0&&c!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=g(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=g(t,["labels"]);e!==void 0&&f!=null&&v(e,["labels"],f);const h=g(t,["numberOfImages"]);e!==void 0&&h!=null&&v(e,["parameters","sampleCount"],h);const m=g(t,["mode"]);return e!==void 0&&m!=null&&v(e,["parameters","mode"],m),n}function r$(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Be(t,r));const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],pr(i));const o=g(e,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=g(e,["config"]);return l!=null&&n$(l,n),n}function i$(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>nd(o))),v(e,["generatedImages"],i)}return e}function a$(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Fi(r));const i=g(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function o$(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Fi(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function s$(t){const e={},n=g(t,["image"]);n!=null&&v(e,["_self"],pr(n));const r=g(t,["maskMode"]);return r!=null&&v(e,["maskMode"],r),e}function l$(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],rd(n));const r=g(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function u$(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],pr(n));const r=g(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function oP(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&v(e,["encodedVideo"],Fi(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["encoding"],i),e}function sP(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Fi(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c$="Content-Type",f$="X-Server-Timeout",d$="User-Agent",hv="x-goog-api-client",h$="1.25.0",p$=`google-genai-sdk/${h$}`,m$="v1beta1",g$="v1beta",lx=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class v${constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:m$,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:g$,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&y$(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ux(i),new lv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ux(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Wo(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:d}=yield rt(i.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const y=JSON.parse(JSON.stringify(m.error)),w=y.status,E=y.code,S=`got status: ${w}. ${JSON.stringify(m)}`;if(E>=400&&E<600)throw new ed({message:S,status:E})}}catch(m){if(m.name==="ApiError")throw m}l+=f;let h=l.match(lx);for(;h;){const m=h[1];try{const y=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rt(new lv(y)),l=l.slice(h[0].length),h=l.match(lx)}catch(y){throw new Error(`exception parsing stream chunk ${m}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=p$+" "+this.clientOptions.userAgentExtra;return e[d$]=n,e[hv]=n,e[c$]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(f$,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d=await this.fetchUploadUrl(i,n);return o.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},l=await this.request({path:fe("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(r=l==null?void 0:l.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function ux(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ed({message:i,status:n}):new Error(i)}}function y$(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?c[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b$="mcp_used/unknown";let _$=!1;function lP(t){for(const e of t)if(w$(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _$}function uP(t){var e;const n=(e=t[hv])!==null&&e!==void 0?e:"";t[hv]=(n+` ${b$}`).trimStart()}function w$(t){return t!==null&&typeof t=="object"&&t instanceof yy}function S$(t,e=100){return Wo(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield rt(t.listTools({cursor:r}));for(const l of o.tools)yield yield rt(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class yy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new yy(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var c=!0,d=(n=void 0,Ul(S$(h))),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const m=i;l.push(m);const y=m.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(m){n={error:m}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Cq(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E$(t,e,n){const r=new bq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class A${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=C$(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const h=new Promise(O=>{f=O}),m=e.callbacks,y=function(){f({})},w=this.apiClient,E={onopen:y,onmessage:O=>{E$(w,m.onmessage,O)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(O){}},S=this.webSocketFactory.create(d,T$(l),E);S.connect(),await h;const C={setup:{model:Be(this.apiClient,e.model)}};return S.send(JSON.stringify(C)),new x$(S,this.apiClient)}}class x${constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=g3(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=m3(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fo.PLAY)}pause(){this.sendPlaybackControl(Fo.PAUSE)}stop(){this.sendPlaybackControl(Fo.STOP)}resetContext(){this.sendPlaybackControl(Fo.RESET_CONTEXT)}close(){this.conn.close()}}function T$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function C$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M$="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function P$(t,e,n){const r=new yq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=b3(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class O${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new A$(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&lP(e.config.tools)&&uP(m);const y=I$(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const U=this.apiClient.getApiKey();let X="BidiGenerateContent",V="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",V="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${X}?${V}=${U}`}let w=()=>{};const E=new Promise(U=>{w=U}),S=e.callbacks,A=function(){var U;(U=S==null?void 0:S.onopen)===null||U===void 0||U.call(S),w({})},P=this.apiClient,C={onopen:A,onmessage:U=>{P$(P,S.onmessage,U)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(U){}},O=this.webSocketFactory.create(h,D$(y),C);O.connect(),await E;let D=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const U=this.apiClient.getProject(),X=this.apiClient.getLocation();D=`projects/${U}/locations/${X}/`+D}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cf.AUDIO]}:e.config.responseModalities=[cf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],k=[];for(const U of R)if(this.isCallableTool(U)){const X=U;k.push(await X.tool())}else k.push(U);k.length>0&&(e.config.tools=k);const G={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=p3(this.apiClient,G):I=h3(this.apiClient,G),delete I.config,O.send(JSON.stringify(I)),new R$(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const N$={turnComplete:!0};class R${constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=tr(n.turns),e.isVertexAI()||(r=r.map(i=>td(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(M$)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},N$),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:y3(e)}:n={realtimeInput:v3(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function D$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function I$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cx=10;function fx(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Xo(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Xo(t){return"callTool"in t&&typeof t.callTool=="function"}function k$(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Xo(i)))!==null&&r!==void 0?r:!1}function L$(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Xo(i)))!==null&&r!==void 0?r:!1}function dx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U$ extends ja{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!k$(n)||fx(n.config))return await this.generateContentInternal(d);if(L$(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const m=tr(d.contents),y=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:cx;let w=0;for(;w<y&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,S=[];for(const A of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Xo(A)){const C=await A.callTool(f.functionCalls);S.push(...C)}w++,h={role:"user",parts:S},d.contents=tr(d.contents),d.contents.push(E),d.contents.push(h),dx(d.config)&&(m.push(E),m.push(h))}return dx(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),fx(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Zl(Ra.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async d=>Xo(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&lP(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),uP(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Xo(l)){const c=l,d=await c.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,c)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:cx;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(f,h,m){var y,w;return Wo(this,arguments,function*(){for(var E,S,A,P;c<o;){l&&(c++,l=!1);const I=yield rt(f.processParamsMaybeAddMcpUsage(m)),R=yield rt(f.generateContentStreamInternal(I)),k=[],G=[];try{for(var C=!0,O=(S=void 0,Ul(R)),D;D=yield rt(O.next()),E=D.done,!E;C=!0){P=D.value,C=!1;const U=P;if(yield yield rt(U),U.candidates&&(!((y=U.candidates[0])===null||y===void 0)&&y.content)){G.push(U.candidates[0].content);for(const X of(w=U.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(c<o&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(X.functionCall.name)){const V=yield rt(h.get(X.functionCall.name).callTool([X.functionCall]));k.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(U){S={error:U}}finally{try{!C&&!E&&(A=O.return)&&(yield rt(A.call(O)))}finally{if(S)throw S.error}}if(k.length>0){l=!0;const U=new Sl;U.candidates=[{content:{role:"user",parts:k}}],yield yield rt(U);const X=[];X.push(...G),X.push({role:"user",parts:k});const V=tr(m.contents).concat(X);m.contents=V}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ax(this.apiClient,e);return c=fe("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=sx(h),y=new Sl;return Object.assign(y,m),y})}else{const f=ix(this.apiClient,e);return c=fe("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=ox(h),y=new Sl;return Object.assign(y,m),y})}}async generateContentStreamInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ax(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Wo(this,arguments,function*(){var y,w,E,S;try{for(var A=!0,P=Ul(m),C;C=yield rt(P.next()),y=C.done,!y;A=!0){S=C.value,A=!1;const O=S,D=sx(yield rt(O.json()));D.sdkHttpResponse={headers:O.headers};const I=new Sl;Object.assign(I,D),yield yield rt(I)}}catch(O){w={error:O}}finally{try{!A&&!y&&(E=P.return)&&(yield rt(E.call(P)))}finally{if(w)throw w.error}}})})}else{const f=ix(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Wo(this,arguments,function*(){var y,w,E,S;try{for(var A=!0,P=Ul(m),C;C=yield rt(P.next()),y=C.done,!y;A=!0){S=C.value,A=!1;const O=S,D=ox(yield rt(O.json()));D.sdkHttpResponse={headers:O.headers};const I=new Sl;Object.assign(I,D),yield yield rt(I)}}catch(O){w={error:O}}finally{try{!A&&!y&&(E=P.return)&&(yield rt(E.call(P)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=J3(this.apiClient,e);return c=fe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=X3(h),y=new zA;return Object.assign(y,m),y})}else{const f=Y3(this.apiClient,e);return c=fe("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=W3(h),y=new zA;return Object.assign(y,m),y})}}async generateImagesInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=o4(this.apiClient,e);return c=fe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=l4(h),y=new HA;return Object.assign(y,m),y})}else{const f=a4(this.apiClient,e);return c=fe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=s4(h),y=new HA;return Object.assign(y,m),y})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=G3(this.apiClient,e);return o=fe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=V3(d),h=new cq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=r$(this.apiClient,e);return o=fe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=i$(d),h=new fq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=q4(this.apiClient,e);return o=fe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=j4(d),h=new dq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=F4(this.apiClient,e);return o=fe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=K4(d),h=new hq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=x4(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>dv(h))}else{const f=A4(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>fv(h))}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=R4(this.apiClient,e);return c=fe("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=I4(h),y=new GA;return Object.assign(y,m),y})}else{const f=N4(this.apiClient,e);return c=fe("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=D4(h),y=new GA;return Object.assign(y,m),y})}}async update(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=t$(this.apiClient,e);return c=fe("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>dv(h))}else{const f=e$(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>fv(h))}}async delete(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=j3(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=z3(h),y=new VA;return Object.assign(y,m),y})}else{const f=q3(this.apiClient,e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=$3(h),y=new VA;return Object.assign(y,m),y})}}async countTokens(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=L3(this.apiClient,e);return c=fe("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=B3(h),y=new FA;return Object.assign(y,m),y})}else{const f=k3(this.apiClient,e);return c=fe("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=U3(h),y=new FA;return Object.assign(y,m),y})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=M3(this.apiClient,e);return o=fe("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=P3(d),h=new pq;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=p4(this.apiClient,e);return c=fe("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=d4(h),y=new ff;return Object.assign(y,m),y})}else{const f=h4(this.apiClient,e);return c=fe("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=f4(h),y=new ff;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B$ extends ja{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=sq(e);return c=fe("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=oq(e);return c=fe("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=ZB(e);return o=fe("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q$(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&v(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function j$(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Y$(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function $$(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const l=g(e,["uses"]);n!==void 0&&l!=null&&v(n,["uses"],l);const c=g(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],K$(t,c));const d=g(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&v(n,["fieldMask"],d),r}function z$(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],$$(t,r,n)),n}function H$(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function G$(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function V$(t){const e={},n=g(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function F$(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],vy(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(t,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],j$(nn(E)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let R=gs(S);Array.isArray(R)&&(R=R.map(k=>W$(ms(k)))),v(e,["setup","tools"],R)}const A=g(t,["sessionResumption"]);e!==void 0&&A!=null&&v(e,["setup","sessionResumption"],J$(A));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const C=g(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&v(e,["setup","outputAudioTranscription"],C);const O=g(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&v(e,["setup","realtimeInputConfig"],O);const D=g(t,["contextWindowCompression"]);e!==void 0&&D!=null&&v(e,["setup","contextWindowCompression"],D);const I=g(t,["proactivity"]);return e!==void 0&&I!=null&&v(e,["setup","proactivity"],I),n}function K$(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Be(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],F$(i,n)),n}function Y$(t){const e={},n=g(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const r=g(t,["thought"]);r!=null&&v(e,["thought"],r);const i=g(t,["inlineData"]);i!=null&&v(e,["inlineData"],q$(i));const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],H$(o));const l=g(t,["thoughtSignature"]);l!=null&&v(e,["thoughtSignature"],l);const c=g(t,["functionCall"]);c!=null&&v(e,["functionCall"],c);const d=g(t,["codeExecutionResult"]);d!=null&&v(e,["codeExecutionResult"],d);const f=g(t,["executableCode"]);f!=null&&v(e,["executableCode"],f);const h=g(t,["functionResponse"]);h!=null&&v(e,["functionResponse"],h);const m=g(t,["text"]);return m!=null&&v(e,["text"],m),e}function J$(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W$(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),v(e,["functionDeclarations"],f)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],V$(r));const i=g(t,["googleSearchRetrieval"]);if(i!=null&&v(e,["googleSearchRetrieval"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],G$(o));const l=g(t,["urlContext"]);l!=null&&v(e,["urlContext"],l);const c=g(t,["computerUse"]);c!=null&&v(e,["computerUse"],c);const d=g(t,["codeExecution"]);return d!=null&&v(e,["codeExecution"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X$(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Q$(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=X$(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Z$ extends ja{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=z$(this.apiClient,e);o=fe("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=Q$(c,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ez(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function tz(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function nz(t,e){const n={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=g(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&v(e,["displayName"],r),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=g(t,["epochCount"]);e!==void 0&&i!=null&&v(e,["tuningTask","hyperparameters","epochCount"],i);const o=g(t,["learningRateMultiplier"]);if(o!=null&&v(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=g(t,["batchSize"]);e!==void 0&&l!=null&&v(e,["tuningTask","hyperparameters","batchSize"],l);const c=g(t,["learningRate"]);if(e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","learningRate"],c),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function rz(t,e){const n={},r=g(t,["validationDataset"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec"],yz(r,n));const i=g(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&v(e,["tunedModelDisplayName"],i);const o=g(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const l=g(t,["epochCount"]);e!==void 0&&l!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const c=g(t,["learningRateMultiplier"]);e!==void 0&&c!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=g(t,["exportLastCheckpointOnly"]);e!==void 0&&d!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=g(t,["adapterSize"]);if(e!==void 0&&f!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=g(t,["labels"]);return e!==void 0&&h!=null&&v(e,["labels"],h),n}function iz(t){const e={},n=g(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["preTunedModel"]);r!=null&&v(e,["preTunedModel"],r);const i=g(t,["trainingDataset"]);i!=null&&v(e,["tuningTask","trainingData"],mz(i));const o=g(t,["config"]);return o!=null&&nz(o,e),e}function az(t){const e={},n=g(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["preTunedModel"]);r!=null&&v(e,["preTunedModel"],r);const i=g(t,["trainingDataset"]);i!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],gz(i,e));const o=g(t,["config"]);return o!=null&&rz(o,e),e}function oz(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function sz(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function lz(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function uz(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function cz(t){const e={},n=g(t,["config"]);return n!=null&&lz(n,e),e}function fz(t){const e={},n=g(t,["config"]);return n!=null&&uz(n,e),e}function dz(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cP(l))),v(e,["tuningJobs"],o)}return e}function hz(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>pv(l))),v(e,["tuningJobs"],o)}return e}function pz(t){const e={},n=g(t,["name"]);n!=null&&v(e,["model"],n);const r=g(t,["name"]);return r!=null&&v(e,["endpoint"],r),e}function mz(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=g(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["examples","examples"],r)}return e}function gz(t,e){const n={},r=g(t,["gcsUri"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],i),g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function cP(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["state"]);i!=null&&v(e,["state"],VM(i));const o=g(t,["createTime"]);o!=null&&v(e,["createTime"],o);const l=g(t,["tuningTask","startTime"]);l!=null&&v(e,["startTime"],l);const c=g(t,["tuningTask","completeTime"]);c!=null&&v(e,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&v(e,["updateTime"],d);const f=g(t,["description"]);f!=null&&v(e,["description"],f);const h=g(t,["baseModel"]);h!=null&&v(e,["baseModel"],h);const m=g(t,["_self"]);m!=null&&v(e,["tunedModel"],pz(m));const y=g(t,["customBaseModel"]);y!=null&&v(e,["customBaseModel"],y);const w=g(t,["experiment"]);w!=null&&v(e,["experiment"],w);const E=g(t,["labels"]);E!=null&&v(e,["labels"],E);const S=g(t,["outputUri"]);S!=null&&v(e,["outputUri"],S);const A=g(t,["pipelineJob"]);A!=null&&v(e,["pipelineJob"],A);const P=g(t,["serviceAccount"]);P!=null&&v(e,["serviceAccount"],P);const C=g(t,["tunedModelDisplayName"]);C!=null&&v(e,["tunedModelDisplayName"],C);const O=g(t,["veoTuningSpec"]);return O!=null&&v(e,["veoTuningSpec"],O),e}function pv(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["state"]);i!=null&&v(e,["state"],VM(i));const o=g(t,["createTime"]);o!=null&&v(e,["createTime"],o);const l=g(t,["startTime"]);l!=null&&v(e,["startTime"],l);const c=g(t,["endTime"]);c!=null&&v(e,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&v(e,["updateTime"],d);const f=g(t,["error"]);f!=null&&v(e,["error"],f);const h=g(t,["description"]);h!=null&&v(e,["description"],h);const m=g(t,["baseModel"]);m!=null&&v(e,["baseModel"],m);const y=g(t,["tunedModel"]);y!=null&&v(e,["tunedModel"],y);const w=g(t,["preTunedModel"]);w!=null&&v(e,["preTunedModel"],w);const E=g(t,["supervisedTuningSpec"]);E!=null&&v(e,["supervisedTuningSpec"],E);const S=g(t,["tuningDataStats"]);S!=null&&v(e,["tuningDataStats"],S);const A=g(t,["encryptionSpec"]);A!=null&&v(e,["encryptionSpec"],A);const P=g(t,["partnerModelTuningSpec"]);P!=null&&v(e,["partnerModelTuningSpec"],P);const C=g(t,["customBaseModel"]);C!=null&&v(e,["customBaseModel"],C);const O=g(t,["experiment"]);O!=null&&v(e,["experiment"],O);const D=g(t,["labels"]);D!=null&&v(e,["labels"],D);const I=g(t,["outputUri"]);I!=null&&v(e,["outputUri"],I);const R=g(t,["pipelineJob"]);R!=null&&v(e,["pipelineJob"],R);const k=g(t,["serviceAccount"]);k!=null&&v(e,["serviceAccount"],k);const G=g(t,["tunedModelDisplayName"]);G!=null&&v(e,["tunedModelDisplayName"],G);const U=g(t,["veoTuningSpec"]);return U!=null&&v(e,["veoTuningSpec"],U),e}function vz(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=g(t,["done"]);o!=null&&v(e,["done"],o);const l=g(t,["error"]);return l!=null&&v(e,["error"],l),e}function yz(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bz extends ja{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Zl(Ra.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:sv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=sz(e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>pv(h))}else{const f=oz(e);return c=fe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>cP(h))}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=fz(e);return c=fe("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=hz(h),y=new KA;return Object.assign(y,m),y})}else{const f=cz(e);return c=fe("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=dz(h),y=new KA;return Object.assign(y,m),y})}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const d=tz(e);l=fe("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=ez(e);l=fe("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=az(e);return o=fe("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>pv(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iz(e);return o=fe("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>vz(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _z{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wz=1024*1024*8,Sz=3,Ez=1e3,Az=2,hm="x-goog-upload-status";async function xz(t,e,n){var r,i,o;let l=0,c=0,d=new lv(new Response),f="upload";for(l=t.size;c<l;){const m=Math.min(wz,l-c),y=t.slice(c,c+m);c+m>=l&&(f+=", finalize");let w=0,E=Ez;for(;w<Sz&&(d=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[hm]));)w++,await Cz(E),E=E*Az;if(c+=m,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[hm])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[hm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Tz(t){return{size:t.size,type:t.type}}function Cz(t){return new Promise(e=>setTimeout(e,t))}class Mz{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xz(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tz(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pz{create(e,n,r){return new Oz(e,n,r)}}class Oz{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hx="x-goog-api-key";class Nz{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(hx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rz="gl-node/";class Dz{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=XB(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Nz(this.apiKey);this.apiClient=new v$({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Rz+"web",uploader:new Mz,downloader:new _z}),this.models=new U$(this.apiClient),this.live=new O$(this.apiClient,i,new Pz),this.batches=new gj(this.apiClient),this.chats=new Yj(this.models,this.apiClient),this.caches=new Vj(this.apiClient),this.files=new i3(this.apiClient),this.operations=new B$(this.apiClient),this.authTokens=new Z$(this.apiClient),this.tunings=new bz(this.apiClient)}}const Iz=async(t,e)=>{const n="AIzaSyCak6FW_BG4fxSqJsk4DLuoqOxnGoq7oaQ";try{const r=new Dz({apiKey:n}),i=`
      أنت مستشار مالي لمعلم دروس خصوصية اسمه "مستر إسلام".
      المطلوب منك تحليل بيانات الدخل لشهر ${e} وتقديم ملخص ونصائح مفيدة باللغة العربية.
      
      بيانات الشهر هي:
      ${t}

      قدم تحليلك في النقاط التالية:
      1.  ملخص سريع للدخل هذا الشهر.
      2.  نقاط القوة (مثلاً: مجموعة معينة دخلها مرتفع).
      3.  اقتراحات للتحسين أو فرص للنمو (مثلاً: التركيز على مجموعات معينة، أو اقتراح زيادة عدد الطلاب).
      
      اجعل النصيحة قصيرة ومركزة ومكتوبة بأسلوب احترافي ومشجع ومنسقة بشكل جيد.
    `,l=(await r.models.generateContent({model:"gemini-2.5-flash",contents:i})).text;if(!l)throw new Error("لم يتمكن الذكاء الاصطناعي من إنشاء رد.");return l}catch(r){throw console.error("Error calling Gemini API:",r),r.message.includes("API key")?new Error("مفتاح الـ API غير صالح. يرجى مراجعة الإعدادات."):new Error("حدث خطأ أثناء الاتصال بخدمة الذكاء الاصطناعي. حاول مرة أخرى لاحقًا.")}},kz=()=>{const{payments:t,deletePayment:e}=Tr(),[n,r]=T.useState(!1),[i,o]=T.useState(null),[l,c]=T.useState(""),[d,f]=T.useState(new Date().toISOString().slice(0,7)),[h,m]=T.useState(!1),[y,w]=T.useState(""),[E,S]=T.useState(!1),A=T.useMemo(()=>{const U=new Set(t.map(V=>V.date.slice(0,7))),X=new Date().toISOString().slice(0,7);return U.add(X),Array.from(U).sort().reverse()},[t]),P=T.useMemo(()=>t.filter(U=>U.date.startsWith(d)).filter(U=>U.studentName.toLowerCase().includes(l.toLowerCase())||U.groupName.toLowerCase().includes(l.toLowerCase())),[t,d,l]),C=T.useMemo(()=>P.reduce((U,X)=>U+X.amount,0),[P]),O=U=>{o(U),r(!0)},D=()=>{o(null),r(!0)},I=async U=>{window.confirm("متأكد إنك عايز تمسح الدفعة دي؟")&&await e(U)},R=T.useCallback(()=>{FB(P,`كشف-حساب-${d}`)},[P,d]),k=T.useCallback(()=>{const U=new Date(d+"-02").toLocaleString("ar-EG",{month:"long",year:"numeric"});KB(P,U,C)},[P,d,C]),G=async()=>{if(!P.length){alert("لا توجد بيانات كافية للتحليل في هذا الشهر.");return}S(!0),w("");try{const U=new Date(d+"-02").toLocaleString("ar-EG",{month:"long",year:"numeric"}),X=P.reduce((ne,ie)=>(ne[ie.groupName]=(ne[ie.groupName]||0)+ie.amount,ne),{}),V=`
        - إجمالي الدخل: ${C.toLocaleString("ar-EG")} جنيه
        - عدد الدفعات: ${P.length} دفعة
        - توزيع الدخل على المجموعات: ${Object.entries(X).map(([ne,ie])=>`${ne}: ${ie.toLocaleString("ar-EG")} جنيه`).join("، ")}
      `,Y=await Iz(V,U);w(Y),m(!0)}catch(U){console.error("Error with AI analysis:",U),alert(U.message||"حدث خطأ أثناء محاولة التحليل. الرجاء المحاولة مرة أخرى.")}finally{S(!1)}};return M.jsxs("div",{className:"space-y-6",children:[M.jsxs("header",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"كشف الحساب الشهري"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"هنا تقدر تشوف وتسجل كل المدفوعات وتعدلها."})]}),M.jsxs("div",{className:"bg-brand-navy p-4 rounded-xl shadow-lg flex flex-col md:flex-row md:items-center gap-4 flex-wrap",children:[M.jsxs("button",{onClick:D,className:"bg-brand-gold text-brand-blue font-bold py-3 px-5 rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition shadow-md flex-shrink-0",children:[M.jsx(Xf,{size:20}),"إضافة دفعة جديدة"]}),M.jsxs("div",{className:"relative flex-grow min-w-[200px]",children:[M.jsx("input",{type:"text",placeholder:"دور على طالب أو مجموعة...",value:l,onChange:U=>c(U.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 pr-10 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),M.jsx(Qf,{size:20,className:"absolute top-1/2 right-3 -translate-y-1/2 text-brand-secondary"})]}),M.jsx("select",{value:d,onChange:U=>f(U.target.value),className:"bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition flex-shrink-0 text-white",children:A.map(U=>M.jsx("option",{value:U,children:new Date(U+"-02").toLocaleString("ar-EG",{month:"long",year:"numeric"})},U))}),M.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[M.jsxs("button",{onClick:R,className:"bg-green-700 text-white p-3 rounded-lg hover:bg-green-600 transition flex items-center gap-2","aria-label":"تصدير إلى Excel",children:[M.jsx(JE,{size:20})," .xlsx"]}),M.jsxs("button",{onClick:k,className:"bg-red-700 text-white p-3 rounded-lg hover:bg-red-600 transition flex items-center gap-2","aria-label":"تصدير إلى PDF",children:[M.jsx(JE,{size:20})," .pdf"]}),M.jsxs("button",{onClick:G,disabled:E,className:"bg-purple-700 text-white p-3 rounded-lg hover:bg-purple-600 transition flex items-center gap-2 disabled:bg-gray-500","aria-label":"تحليل ذكي للبيانات",children:[M.jsx(nB,{size:20})," ",E?"جاري التحليل...":"تحليل ذكي"]})]})]}),M.jsx("div",{className:"bg-brand-navy p-2 md:p-4 rounded-xl shadow-lg overflow-x-auto",children:M.jsxs("table",{className:"w-full min-w-[600px] text-right",children:[M.jsx("thead",{className:"border-b-2 border-brand-gold/20",children:M.jsxs("tr",{children:[M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"اسم الطالب"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المجموعة"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المبلغ المدفوع"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"التاريخ"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold text-center",children:"الإجراءات"})]})}),M.jsx("tbody",{children:P.length>0?P.map(U=>M.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[M.jsx("td",{className:"p-4 text-white font-semibold",children:U.studentName}),M.jsx("td",{className:"p-4 text-brand-secondary",children:U.groupName}),M.jsxs("td",{className:"p-4 font-mono text-brand-light",children:["ج.م ",U.amount.toLocaleString("ar-EG")]}),M.jsx("td",{className:"p-4 text-brand-secondary",children:new Date(U.date).toLocaleDateString("ar-EG")}),M.jsxs("td",{className:"p-4 flex justify-center items-center gap-2",children:[M.jsx("button",{onClick:()=>O(U),className:"p-2 text-blue-400 hover:text-blue-300 transition","aria-label":`تعديل دفعة ${U.studentName}`,children:M.jsx(LM,{size:20})}),M.jsx("button",{onClick:()=>I(U.id),className:"p-2 text-red-500 hover:text-red-400 transition","aria-label":`حذف دفعة ${U.studentName}`,children:M.jsx(fy,{size:20})})]})]},U.id)):M.jsx("tr",{children:M.jsx("td",{colSpan:5,className:"text-center p-8 text-brand-secondary",children:"مفيش أي مدفوعات متسجلة للشهر ده."})})}),M.jsx("tfoot",{children:M.jsxs("tr",{className:"border-t-2 border-brand-gold",children:[M.jsx("td",{className:"p-4 font-black text-xl text-white",colSpan:2,children:"الإجمالي"}),M.jsxs("td",{className:"p-4 font-black text-xl text-brand-gold font-mono",colSpan:3,children:["ج.م ",C.toLocaleString("ar-EG")]})]})})]})}),M.jsx(av,{isOpen:n,onClose:()=>r(!1),title:i?"تعديل دفعة":"إضافة دفعة جديدة",children:M.jsx(VB,{onClose:()=>r(!1),paymentToEdit:i})}),M.jsx(av,{isOpen:h,onClose:()=>m(!1),title:"تحليل الذكاء الاصطناعي",children:M.jsx("div",{className:"text-right text-brand-light space-y-4 max-h-[60vh] overflow-y-auto p-2 bg-brand-blue rounded",children:M.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:y})})})]})};function fP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fP(t))&&(r&&(r+=" "),r+=e);return r}var pm={},mm={},px;function Lz(){return px||(px=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(mm)),mm}var gm={},mx;function dP(){return mx||(mx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(gm)),gm}var vm={},gx;function by(){return gx||(gx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(vm)),vm}var ym={},bm={},vx;function Uz(){return vx||(vx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(bm)),bm}var yx;function _y(){return yx||(yx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uz(),n=by();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let c=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const m=i[c];f?m==="\\"&&c+1<l?(c++,d+=i[c]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,o.push(d),d=""):d+=m:m==="["?(h=!0,d&&(o.push(d),d="")):m==="."?d&&(o.push(d),d=""):d+=m,c++}return d&&o.push(d),o}t.toPath=r})(ym)),ym}var bx;function wy(){return bx||(bx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lz(),n=dP(),r=by(),i=_y();function o(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?n.isDeepKey(d)?o(c,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function l(c,d,f){if(d.length===0)return f;let h=c;for(let m=0;m<d.length;m++){if(h==null||e.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}t.get=o})(pm)),pm}var _m,_x;function Bz(){return _x||(_x=1,_m=wy().get),_m}var qz=Bz();const Da=hr(qz);var wm={exports:{}},Je={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx;function jz(){if(wx)return Je;wx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case t:switch(S=S.type,S){case n:case i:case r:case d:case f:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case m:case h:return S;case o:return S;default:return A}}case e:return A}}}return Je.ContextConsumer=o,Je.ContextProvider=l,Je.Element=t,Je.ForwardRef=c,Je.Fragment=n,Je.Lazy=m,Je.Memo=h,Je.Portal=e,Je.Profiler=i,Je.StrictMode=r,Je.Suspense=d,Je.SuspenseList=f,Je.isContextConsumer=function(S){return E(S)===o},Je.isContextProvider=function(S){return E(S)===l},Je.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Je.isForwardRef=function(S){return E(S)===c},Je.isFragment=function(S){return E(S)===n},Je.isLazy=function(S){return E(S)===m},Je.isMemo=function(S){return E(S)===h},Je.isPortal=function(S){return E(S)===e},Je.isProfiler=function(S){return E(S)===i},Je.isStrictMode=function(S){return E(S)===r},Je.isSuspense=function(S){return E(S)===d},Je.isSuspenseList=function(S){return E(S)===f},Je.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===h||S.$$typeof===l||S.$$typeof===o||S.$$typeof===c||S.$$typeof===w||S.getModuleId!==void 0)},Je.typeOf=E,Je}var Sx;function $z(){return Sx||(Sx=1,wm.exports=jz()),wm.exports}var zz=$z(),Zt=t=>t===0?0:t>0?1:-1,nr=t=>typeof t=="number"&&t!=+t,xa=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,_e=t=>(typeof t=="number"||t instanceof Number)&&!nr(t),Ar=t=>_e(t)||typeof t=="string",Hz=0,$l=t=>{var e=++Hz;return"".concat(t||"").concat(e)},rn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&typeof e!="string")return r;var o;if(xa(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return nr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},hP=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Qt(t,e,n){return _e(t)&&_e(e)?t+n*(e-t):e}function Gz(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Da(r,e))===n)}var Bt=t=>t===null||typeof t>"u",eu=t=>Bt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Vz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Sy(t){if(typeof t!="string")return!1;var e=Vz;return e.includes(t)}var Fz=["viewBox","children"],Ex=["points","pathLength"],Sm={svg:Fz,polygon:Ex,polyline:Ex},Kz=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Sy(i)&&(r[i]=(o=>n[i](n,o)))}),r},Yz=(t,e,n)=>r=>(t(e,n,r),null),tu=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Sy(i)&&typeof o=="function"&&(r||(r={}),r[i]=Yz(o,e,n))}),r},Jz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pP(t){if(typeof t!="string")return!1;var e=Jz;return e.includes(t)}function $a(t){var e=Object.entries(t).filter(n=>{var[r]=n;return pP(r)});return Object.fromEntries(e)}var Ax=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",xx=null,Em=null,mP=t=>{if(t===xx&&Array.isArray(Em))return Em;var e=[];return T.Children.forEach(t,n=>{Bt(n)||(zz.isFragment(n)?e=e.concat(mP(n.props.children)):e.push(n))}),Em=e,xx=t,e};function Ey(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Ax(i)):r=[Ax(e)],mP(t).forEach(i=>{var o=Da(i,"type.displayName")||Da(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var Wz=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(Sm==null?void 0:Sm[r]))!==null&&i!==void 0?i:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&o.includes(e)||pP(e)),d=!!n&&Sy(e);return l||c||d},Pt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var l;Wz((l=r)===null||l===void 0?void 0:l[o],o,e,n)&&(i[o]=r[o])}),i},Xz=["children","width","height","viewBox","className","style","title","desc"];function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function Qz(t,e){if(t==null)return{};var n,r,i=Zz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ay=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:c,title:d,desc:f}=t,h=Qz(t,Xz),m=o||{width:r,height:i,x:0,y:0},y=Ve("recharts-surface",l);return T.createElement("svg",mv({},Pt(h,!0,"svg"),{className:y,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),eH=["children","className"];function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function tH(t,e){if(t==null)return{};var n,r,i=nH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yn=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=tH(t,eH),o=Ve("recharts-layer",r);return T.createElement("g",gv({className:o},Pt(i,!0),{ref:e}),n)}),gP=cM(),vP=T.createContext(null),rH=()=>T.useContext(vP);function Ze(t){return function(){return t}}const yP=Math.cos,hf=Math.sin,mr=Math.sqrt,pf=Math.PI,id=2*pf,vv=Math.PI,yv=2*vv,ya=1e-6,iH=yv-ya;function bP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function aH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bP:aH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,h=l-e,m=c-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>ya)if(!(Math.abs(m*d-f*h)>ya)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,E=i-c,S=d*d+f*f,A=w*w+E*E,P=Math.sqrt(S),C=Math.sqrt(y),O=o*Math.tan((vv-Math.acos((S+y-A)/(2*P*C)))/2),D=O/C,I=O/P;Math.abs(D-1)>ya&&this._append`L${e+D*h},${n+D*m}`,this._append`A${o},${o},0,0,${+(m*w>h*E)},${this._x1=e+I*d},${this._y1=n+I*f}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,h=n+d,m=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>ya||Math.abs(this._y1-h)>ya)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%yv+yv),y>iH?this._append`A${r},${r},0,1,${m},${e-c},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:y>ya&&this._append`A${r},${r},0,${+(y>=vv)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xy(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new oH(e)}function Ty(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _P(t){this._context=t}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ad(t){return new _P(t)}function wP(t){return t[0]}function SP(t){return t[1]}function EP(t,e){var n=Ze(!0),r=null,i=ad,o=null,l=xy(c);t=typeof t=="function"?t:t===void 0?wP:Ze(t),e=typeof e=="function"?e:e===void 0?SP:Ze(e);function c(d){var f,h=(d=Ty(d)).length,m,y=!1,w;for(r==null&&(o=i(w=l())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(m,f,d),+e(m,f,d));if(w)return o=null,w+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ze(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ze(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ze(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),c):r},c}function qc(t,e,n){var r=null,i=Ze(!0),o=null,l=ad,c=null,d=xy(f);t=typeof t=="function"?t:t===void 0?wP:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SP:Ze(+n);function f(m){var y,w,E,S=(m=Ty(m)).length,A,P=!1,C,O=new Array(S),D=new Array(S);for(o==null&&(c=l(C=d())),y=0;y<=S;++y){if(!(y<S&&i(A=m[y],y,m))===P)if(P=!P)w=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=y-1;E>=w;--E)c.point(O[E],D[E]);c.lineEnd(),c.areaEnd()}P&&(O[y]=+t(A,y,m),D[y]=+e(A,y,m),c.point(r?+r(A,y,m):O[y],n?+n(A,y,m):D[y]))}if(C)return c=null,C+""||null}function h(){return EP().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ze(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ze(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ze(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ze(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ze(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ze(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ze(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),f):o},f}class AP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sH(t){return new AP(t,!0)}function lH(t){return new AP(t,!1)}const Cy={draw(t,e){const n=mr(e/pf);t.moveTo(n,0),t.arc(0,0,n,0,id)}},uH={draw(t,e){const n=mr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xP=mr(1/3),cH=xP*2,fH={draw(t,e){const n=mr(e/cH),r=n*xP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dH={draw(t,e){const n=mr(e),r=-n/2;t.rect(r,r,n,n)}},hH=.8908130915292852,TP=hf(pf/10)/hf(7*pf/10),pH=hf(id/10)*TP,mH=-yP(id/10)*TP,gH={draw(t,e){const n=mr(e*hH),r=pH*n,i=mH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=id*o/5,c=yP(l),d=hf(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},Am=mr(3),vH={draw(t,e){const n=-mr(e/(Am*3));t.moveTo(0,n*2),t.lineTo(-Am*n,-n),t.lineTo(Am*n,-n),t.closePath()}},Jn=-.5,Wn=mr(3)/2,bv=1/mr(12),yH=(bv/2+1)*3,bH={draw(t,e){const n=mr(e/yH),r=n/2,i=n*bv,o=r,l=n*bv+n,c=-o,d=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(c,d),t.lineTo(Jn*r-Wn*i,Wn*r+Jn*i),t.lineTo(Jn*o-Wn*l,Wn*o+Jn*l),t.lineTo(Jn*c-Wn*d,Wn*c+Jn*d),t.lineTo(Jn*r+Wn*i,Jn*i-Wn*r),t.lineTo(Jn*o+Wn*l,Jn*l-Wn*o),t.lineTo(Jn*c+Wn*d,Jn*d-Wn*c),t.closePath()}};function _H(t,e){let n=null,r=xy(i);t=typeof t=="function"?t:Ze(t||Cy),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function mf(){}function gf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CP(t){this._context=t}CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wH(t){return new CP(t)}function MP(t){this._context=t}MP.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SH(t){return new MP(t)}function PP(t){this._context=t}PP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EH(t){return new PP(t)}function OP(t){this._context=t}OP.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AH(t){return new OP(t)}function Tx(t){return t<0?-1:1}function Cx(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(o*i+l*r)/(r+i);return(Tx(o)+Tx(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function Mx(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,l-c*n,o,l)}function vf(t){this._context=t}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xm(this,this._t0,Mx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xm(this,Mx(this,n=Cx(this,t,e)),n);break;default:xm(this,this._t0,n=Cx(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function NP(t){this._context=new RP(t)}(NP.prototype=Object.create(vf.prototype)).point=function(t,e){vf.prototype.point.call(this,e,t)};function RP(t){this._context=t}RP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function xH(t){return new vf(t)}function TH(t){return new NP(t)}function DP(t){this._context=t}DP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Px(t),i=Px(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Px(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function CH(t){return new DP(t)}function od(t,e){this._context=t,this._t=e}od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function MH(t){return new od(t,.5)}function PH(t){return new od(t,0)}function OH(t){return new od(t,1)}function ts(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,c=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _v(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function NH(t,e){return t[e]}function RH(t){const e=[];return e.key=t,e}function DH(){var t=Ze([]),e=_v,n=ts,r=NH;function i(o){var l=Array.from(t.apply(this,arguments),RH),c,d=l.length,f=-1,h;for(const m of o)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(m,l[c].key,f,o)]).data=m;for(c=0,h=Ty(e(l));c<d;++c)l[h[c]].index=c;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?_v:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ts,i):n},i}function IH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}ts(t,e)}}function kH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}ts(t,e)}}function LH(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var c=0,d=0,f=0;c<l;++c){for(var h=t[e[c]],m=h[r][1]||0,y=h[r-1][1]||0,w=(m-y)/2,E=0;E<c;++E){var S=t[e[E]],A=S[r][1]||0,P=S[r-1][1]||0;w+=A-P}d+=m,f+=w*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,ts(t,e)}}var UH=["type","size","sizeType"];function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}function Ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(n),!0).forEach(function(r){BH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BH(t,e,n){return(e=qH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qH(t){var e=jH(t,"string");return typeof e=="symbol"?e:e+""}function jH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $H(t,e){if(t==null)return{};var n,r,i=zH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IP={symbolCircle:Cy,symbolCross:uH,symbolDiamond:fH,symbolSquare:dH,symbolStar:gH,symbolTriangle:vH,symbolWye:bH},HH=Math.PI/180,GH=t=>{var e="symbol".concat(eu(t));return IP[e]||Cy},VH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*HH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},FH=(t,e)=>{IP["symbol".concat(eu(t))]=e},My=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=$H(t,UH),o=Nx(Nx({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var y=GH(l),w=_H().type(y).size(VH(n,r,l));return w()},{className:d,cx:f,cy:h}=o,m=Pt(o,!0);return f===+f&&h===+h&&n===+n?T.createElement("path",wv({},m,{className:Ve("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};My.registerSymbol=FH;function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(null,arguments)}function Rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(n),!0).forEach(function(r){Py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Py(t,e,n){return(e=YH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YH(t){var e=JH(t,"string");return typeof e=="symbol"?e:e+""}function JH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xn=32;class Oy extends T.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Xn/2,o=Xn/6,l=Xn/3,c=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Xn,y2:i,className:"recharts-legend-icon"});if(d==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Xn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var f=KH({},e);return delete f.legendIcon,T.cloneElement(e.legendIcon,f)}return T.createElement(My,{fill:c,cx:i,cy:i,size:Xn,sizeType:"diameter",type:d})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,c={x:0,y:0,width:Xn,height:Xn},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,m)=>{var y=h.formatter||i,w=Ve({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var E=h.inactive?o:h.color,S=y?y(h.value,h,m):h.value;return T.createElement("li",Sv({className:w,style:d,key:"legend-item-".concat(m)},tu(this.props,h,m)),T.createElement(Ay,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(S," legend icon")},this.renderIcon(h,l)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Py(Oy,"displayName","Legend");Py(Oy,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Tm={},Cm={},Dx;function WH(){return Dx||(Dx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Cm)),Cm}var Mm={},Ix;function kP(){return Ix||(Ix=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Mm)),Mm}var Pm={},Om={},Nm={},kx;function XH(){return kx||(kx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Nm)),Nm}var Lx;function Ny(){return Lx||(Lx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Om)),Om}var Rm={},Ux;function QH(){return Ux||(Ux=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Rm)),Rm}var Bx;function ZH(){return Bx||(Bx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ny(),n=QH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Pm)),Pm}var Dm={},Im={},qx;function e6(){return qx||(qx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wy();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Im)),Im}var km={},Lm={},Um={},Bm={},jx;function LP(){return jx||(jx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Bm)),Bm}var qm={},$x;function UP(){return $x||($x=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(qm)),qm}var jm={},zx;function BP(){return zx||(zx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(jm)),jm}var Hx;function t6(){return Hx||(Hx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ry(),n=LP(),r=UP(),i=BP();function o(m,y,w){return typeof w!="function"?e.isMatch(m,y):l(m,y,function E(S,A,P,C,O,D){const I=w(S,A,P,C,O,D);return I!==void 0?!!I:l(S,A,E,D)},new Map)}function l(m,y,w,E){if(y===m)return!0;switch(typeof y){case"object":return c(m,y,w,E);case"function":return Object.keys(y).length>0?l(m,{...y},w,E):i.eq(m,y);default:return n.isObject(m)?typeof y=="string"?y==="":!0:i.eq(m,y)}}function c(m,y,w,E){if(y==null)return!0;if(Array.isArray(y))return f(m,y,w,E);if(y instanceof Map)return d(m,y,w,E);if(y instanceof Set)return h(m,y,w,E);const S=Object.keys(y);if(m==null)return S.length===0;if(S.length===0)return!0;if(E&&E.has(y))return E.get(y)===m;E&&E.set(y,m);try{for(let A=0;A<S.length;A++){const P=S[A];if(!r.isPrimitive(m)&&!(P in m)||y[P]===void 0&&m[P]!==void 0||y[P]===null&&m[P]!==null||!w(m[P],y[P],P,m,y,E))return!1}return!0}finally{E&&E.delete(y)}}function d(m,y,w,E){if(y.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,A]of y.entries()){const P=m.get(S);if(w(P,A,S,m,y,E)===!1)return!1}return!0}function f(m,y,w,E){if(y.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let A=0;A<y.length;A++){const P=y[A];let C=!1;for(let O=0;O<m.length;O++){if(S.has(O))continue;const D=m[O];let I=!1;if(w(D,P,A,m,y,E)&&(I=!0),I){S.add(O),C=!0;break}}if(!C)return!1}return!0}function h(m,y,w,E){return y.size===0?!0:m instanceof Set?f([...m],[...y],w,E):!1}t.isMatchWith=o,t.isSetMatch=h})(Um)),Um}var Gx;function Ry(){return Gx||(Gx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t6();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Lm)),Lm}var $m={},zm={},Hm={},Vx;function n6(){return Vx||(Vx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Hm)),Hm}var Gm={},Fx;function qP(){return Fx||(Fx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Gm)),Gm}var Vm={},Kx;function jP(){return Kx||(Kx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",y="[object ArrayBuffer]",w="[object Object]",E="[object Error]",S="[object DataView]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]",D="[object BigUint64Array]",I="[object Int8Array]",R="[object Int16Array]",k="[object Int32Array]",G="[object BigInt64Array]",U="[object Float32Array]",X="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=G,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=S,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=U,t.float64ArrayTag=X,t.functionTag=m,t.int16ArrayTag=R,t.int32ArrayTag=k,t.int8ArrayTag=I,t.mapTag=d,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=O,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=P})(Vm)),Vm}var Fm={},Yx;function r6(){return Yx||(Yx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Fm)),Fm}var Jx;function $P(){return Jx||(Jx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n6(),n=qP(),r=jP(),i=UP(),o=r6();function l(h,m){return c(h,void 0,h,new Map,m)}function c(h,m,y,w=new Map,E=void 0){const S=E==null?void 0:E(h,m,y,w);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const A=new Array(h.length);w.set(h,A);for(let P=0;P<h.length;P++)A[P]=c(h[P],P,y,w,E);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;w.set(h,A);for(const[P,C]of h)A.set(P,c(C,P,y,w,E));return A}if(h instanceof Set){const A=new Set;w.set(h,A);for(const P of h)A.add(c(P,void 0,y,w,E));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,A);for(let P=0;P<h.length;P++)A[P]=c(h[P],P,y,w,E);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,A),d(A,h,y,w,E),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return w.set(h,A),d(A,h,y,w,E),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return w.set(h,A),d(A,h,y,w,E),A}if(h instanceof Error){const A=new h.constructor;return w.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,d(A,h,y,w,E),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return w.set(h,A),d(A,h,y,w,E),A}if(h instanceof Number){const A=new Number(h.valueOf());return w.set(h,A),d(A,h,y,w,E),A}if(h instanceof String){const A=new String(h.valueOf());return w.set(h,A),d(A,h,y,w,E),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return w.set(h,A),d(A,h,y,w,E),A}return h}function d(h,m,y=h,w,E){const S=[...Object.keys(m),...e.getSymbols(m)];for(let A=0;A<S.length;A++){const P=S[A],C=Object.getOwnPropertyDescriptor(h,P);(C==null||C.writable)&&(h[P]=c(m[P],P,y,w,E))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(zm)),zm}var Wx;function i6(){return Wx||(Wx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$P();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})($m)),$m}var Xx;function a6(){return Xx||(Xx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ry(),n=i6();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(km)),km}var Km={},Ym={},Jm={},Qx;function o6(){return Qx||(Qx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$P(),n=jP();function r(i,o){return e.cloneDeepWith(i,(l,c,d,f)=>{const h=o==null?void 0:o(l,c,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(Jm)),Jm}var Zx;function s6(){return Zx||(Zx=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o6();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Ym)),Ym}var Wm={},Xm={},eT;function zP(){return eT||(eT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Xm)),Xm}var Qm={},tT;function l6(){return tT||(tT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Qm)),Qm}var nT;function u6(){return nT||(nT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dP(),n=zP(),r=l6(),i=_y();function o(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=o})(Wm)),Wm}var rT;function c6(){return rT||(rT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ry(),n=by(),r=s6(),i=wy(),o=u6();function l(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,c);return h===void 0?o.has(f,c):d===void 0?h===void 0:e.isMatch(h,d)}}t.matchesProperty=l})(Km)),Km}var iT;function f6(){return iT||(iT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kP(),n=e6(),r=a6(),i=c6();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Dm)),Dm}var aT;function d6(){return aT||(aT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WH(),n=kP(),r=ZH(),i=f6();function o(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=o})(Tm)),Tm}var Zm,oT;function h6(){return oT||(oT=1,Zm=d6().uniqBy),Zm}var p6=h6();const sT=hr(p6);function HP(t,e,n){return e===!0?sT(t,n):typeof e=="function"?sT(t,e):t}var eg={exports:{}},tg={},ng={exports:{}},rg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function m6(){if(lT)return rg;lT=1;var t=ds();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(m,y){var w=y(),E=r({inst:{value:w,getSnapshot:y}}),S=E[0].inst,A=E[1];return o(function(){S.value=w,S.getSnapshot=y,d(S)&&A({inst:S})},[m,w,y]),i(function(){return d(S)&&A({inst:S}),m(function(){d(S)&&A({inst:S})})},[m]),l(w),w}function d(m){var y=m.getSnapshot;m=m.value;try{var w=y();return!n(m,w)}catch{return!0}}function f(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,rg}var uT;function g6(){return uT||(uT=1,ng.exports=m6()),ng.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function v6(){if(cT)return tg;cT=1;var t=ds(),e=g6();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return tg.useSyncExternalStoreWithSelector=function(f,h,m,y,w){var E=o(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function P(R){if(!C){if(C=!0,O=R,R=y(R),w!==void 0&&S.hasValue){var k=S.value;if(w(k,R))return D=k}return D=R}if(k=D,r(O,R))return k;var G=y(R);return w!==void 0&&w(k,G)?(O=R,k):(O=R,D=G)}var C=!1,O,D,I=m===void 0?null:m;return[function(){return P(h())},I===null?void 0:function(){return P(I())}]},[h,m,y,w]);var A=i(f,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=A},[A]),d(A),A},tg}var fT;function y6(){return fT||(fT=1,eg.exports=v6()),eg.exports}var b6=y6(),Dy=T.createContext(null),_6=t=>t,ct=()=>{var t=T.useContext(Dy);return t?t.store.dispatch:_6},rf=()=>{},w6=()=>rf,S6=(t,e)=>t===e;function he(t){var e=T.useContext(Dy);return b6.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:w6,e?e.store.getState:rf,e?e.store.getState:rf,e?t:rf,S6)}function E6(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function A6(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function x6(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var dT=t=>Array.isArray(t)?t:[t];function T6(t){const e=Array.isArray(t[0])?t[0]:t;return x6(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function C6(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var M6=class{constructor(t){this.value=t}deref(){return this.value}},P6=typeof WeakRef<"u"?WeakRef:M6,O6=0,hT=1;function jc(){return{s:O6,v:void 0,o:null,p:null}}function GP(t,e={}){let n=jc();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var m;let c=n;const{length:d}=arguments;for(let y=0,w=d;y<w;y++){const E=arguments[y];if(typeof E=="function"||typeof E=="object"&&E!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const A=S.get(E);A===void 0?(c=jc(),S.set(E,c)):c=A}else{let S=c.p;S===null&&(c.p=S=new Map);const A=S.get(E);A===void 0?(c=jc(),S.set(E,c)):c=A}}const f=c;let h;if(c.s===hT)h=c.v;else if(h=t.apply(null,arguments),o++,r){const y=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;y!=null&&r(y,h)&&(h=y,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new P6(h):h}return f.s=hT,f.v=h,h}return l.clearCache=()=>{n=jc(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function N6(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),E6(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:m,memoizeOptions:y=[],argsMemoize:w=GP,argsMemoizeOptions:E=[]}=h,S=dT(y),A=dT(E),P=T6(i),C=m(function(){return o++,f.apply(null,arguments)},...S),O=w(function(){l++;const I=C6(P,arguments);return c=C.apply(null,I),c},...A);return Object.assign(O,{resultFunc:f,memoizedResultFunc:C,dependencies:P,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var J=N6(GP),R6=Object.assign((t,e=J)=>{A6(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>R6}),ig={},ag={},og={},pT;function D6(){return pT||(pT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(og)),og}var sg={},lg={},mT;function VP(){return mT||(mT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(lg)),lg}var gT;function I6(){return gT||(gT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(sg)),sg}var vT;function k6(){return vT||(vT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D6(),n=I6(),r=_y();function i(o,l,c,d){if(o==null)return[];c=d?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const f=(w,E)=>{let S=w;for(let A=0;A<E.length&&S!=null;++A)S=S[E[A]];return S},h=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:f(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?f(E,w):typeof E=="object"?E[w]:E,m=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:m.map(E=>h(E,w))})).slice().sort((w,E)=>{for(let S=0;S<m.length;S++){const A=e.compareValues(w.criteria[S],E.criteria[S],c[S]);if(A!==0)return A}return 0}).map(w=>w.original)}t.orderBy=i})(ag)),ag}var ug={},yT;function L6(){return yT||(yT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<o?l(h,d+1):i.push(h)}};return l(n,0),i}t.flatten=e})(ug)),ug}var cg={},bT;function FP(){return bT||(bT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zP(),n=Ny(),r=LP(),i=BP();function o(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=o})(cg)),cg}var _T;function U6(){return _T||(_T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k6(),n=L6(),r=FP();function i(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(ig)),ig}var fg,wT;function B6(){return wT||(wT=1,fg=U6().sortBy),fg}var q6=B6();const sd=hr(q6);var KP=t=>t.legend.settings,j6=t=>t.legend.size,$6=t=>t.legend.payload,z6=J([$6,KP],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?sd(r,n):r});function H6(){return he(z6)}var $c=1;function YP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>$c||Math.abs(l.left-e.left)>$c||Math.abs(l.top-e.top)>$c||Math.abs(l.width-e.width)>$c)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Wt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var G6=typeof Symbol=="function"&&Symbol.observable||"@@observable",ST=G6,dg=()=>Math.random().toString(36).substring(7).split("").join("."),V6={INIT:`@@redux/INIT${dg()}`,REPLACE:`@@redux/REPLACE${dg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dg()}`},yf=V6;function Iy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function JP(t,e,n){if(typeof t!="function")throw new Error(Wt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wt(1));return n(JP)(t,e)}let r=t,i=e,o=new Map,l=o,c=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((A,P)=>{l.set(P,A)}))}function h(){if(d)throw new Error(Wt(3));return i}function m(A){if(typeof A!="function")throw new Error(Wt(4));if(d)throw new Error(Wt(5));let P=!0;f();const C=c++;return l.set(C,A),function(){if(P){if(d)throw new Error(Wt(6));P=!1,f(),l.delete(C),o=null}}}function y(A){if(!Iy(A))throw new Error(Wt(7));if(typeof A.type>"u")throw new Error(Wt(8));if(typeof A.type!="string")throw new Error(Wt(17));if(d)throw new Error(Wt(9));try{d=!0,i=r(i,A)}finally{d=!1}return(o=l).forEach(C=>{C()}),A}function w(A){if(typeof A!="function")throw new Error(Wt(10));r=A,y({type:yf.REPLACE})}function E(){const A=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Wt(11));function C(){const D=P;D.next&&D.next(h())}return C(),{unsubscribe:A(C)}},[ST](){return this}}}return y({type:yf.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:w,[ST]:E}}function F6(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:yf.INIT})>"u")throw new Error(Wt(12));if(typeof n(void 0,{type:yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function WP(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{F6(n)}catch(o){i=o}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],w=l[m],E=y(w,c);if(typeof E>"u")throw c&&c.type,new Error(Wt(14));f[m]=E,d=d||E!==w}return d=d||r.length!==Object.keys(l).length,d?f:l}}function bf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function K6(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Wt(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},c=t.map(d=>d(l));return o=bf(...c)(i.dispatch),{...i,dispatch:o}}}function XP(t){return Iy(t)&&"type"in t&&typeof t.type=="string"}var QP=Symbol.for("immer-nothing"),ET=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function fr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ns=Object.getPrototypeOf;function Ia(t){return!!t&&!!t[Ln]}function Zr(t){var e;return t?ZP(t)||Array.isArray(t)||!!t[ET]||!!((e=t.constructor)!=null&&e[ET])||nu(t)||ud(t):!1}var Y6=Object.prototype.constructor.toString();function ZP(t){if(!t||typeof t!="object")return!1;const e=ns(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Y6}function _f(t,e){ld(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ld(t){const e=t[Ln];return e?e.type_:Array.isArray(t)?1:nu(t)?2:ud(t)?3:0}function Ev(t,e){return ld(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function eO(t,e,n){const r=ld(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function J6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nu(t){return t instanceof Map}function ud(t){return t instanceof Set}function ba(t){return t.copy_||t.base_}function Av(t,e){if(nu(t))return new Map(t);if(ud(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ZP(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ln];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(ns(t),r)}else{const r=ns(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ky(t,e=!1){return cd(t)||Ia(t)||!Zr(t)||(ld(t)>1&&Object.defineProperties(t,{set:{value:zc},add:{value:zc},clear:{value:zc},delete:{value:zc}}),Object.freeze(t),e&&Object.values(t).forEach(n=>ky(n,!0))),t}function zc(){fr(2)}function cd(t){return Object.isFrozen(t)}var W6={};function ka(t){const e=W6[t];return e||fr(0,t),e}var zl;function tO(){return zl}function X6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AT(t,e){e&&(ka("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function xv(t){Tv(t),t.drafts_.forEach(Q6),t.drafts_=null}function Tv(t){t===zl&&(zl=t.parent_)}function xT(t){return zl=X6(zl,t)}function Q6(t){const e=t[Ln];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ln].modified_&&(xv(e),fr(4)),Zr(t)&&(t=wf(e,t),e.parent_||Sf(e,t)),e.patches_&&ka("Patches").generateReplacementPatches_(n[Ln].base_,t,e.patches_,e.inversePatches_)):t=wf(e,n,[]),xv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==QP?t:void 0}function wf(t,e,n){if(cd(e))return e;const r=e[Ln];if(!r)return _f(e,(i,o)=>CT(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Sf(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),_f(o,(c,d)=>CT(t,r,i,c,d,n,l)),Sf(t,i,!1),n&&t.patches_&&ka("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function CT(t,e,n,r,i,o,l){if(Ia(i)){const c=o&&e&&e.type_!==3&&!Ev(e.assigned_,r)?o.concat(r):void 0,d=wf(t,i,c);if(eO(n,r,d),Ia(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Zr(i)&&!cd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wf(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(nu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sf(t,i)}}function Sf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ky(e,n)}function Z6(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:tO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ly;n&&(i=[r],o=Hl);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=l,c}var Ly={get(t,e){if(e===Ln)return t;const n=ba(t);if(!Ev(n,e))return eG(t,n,e);const r=n[e];return t.finalized_||!Zr(r)?r:r===hg(t.base_,e)?(pg(t),t.copy_[e]=Mv(r,t)):r},has(t,e){return e in ba(t)},ownKeys(t){return Reflect.ownKeys(ba(t))},set(t,e,n){const r=nO(ba(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=hg(ba(t),e),o=i==null?void 0:i[Ln];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(J6(n,i)&&(n!==void 0||Ev(t.base_,e)))return!0;pg(t),Cv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pg(t),Cv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ba(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fr(11)},getPrototypeOf(t){return ns(t.base_)},setPrototypeOf(){fr(12)}},Hl={};_f(Ly,(t,e)=>{Hl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hl.deleteProperty=function(t,e){return Hl.set.call(this,t,e,void 0)};Hl.set=function(t,e,n){return Ly.set.call(this,t[0],e,n,t[0])};function hg(t,e){const n=t[Ln];return(n?ba(n):t)[e]}function eG(t,e,n){var i;const r=nO(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function nO(t,e){if(!(e in t))return;let n=ns(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ns(n)}}function Cv(t){t.modified_||(t.modified_=!0,t.parent_&&Cv(t.parent_))}function pg(t){t.copy_||(t.copy_=Av(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&fr(6),r!==void 0&&typeof r!="function"&&fr(7);let i;if(Zr(e)){const o=xT(this),l=Mv(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?xv(o):Tv(o)}return AT(o,r),TT(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===QP&&(i=void 0),this.autoFreeze_&&ky(i,!0),r){const o=[],l=[];ka("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else fr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Zr(t)||fr(8),Ia(t)&&(t=Xr(t));const e=xT(this),n=Mv(t,void 0);return n[Ln].isManual_=!0,Tv(e),n}finishDraft(t,e){const n=t&&t[Ln];(!n||!n.isManual_)&&fr(9);const{scope_:r}=n;return AT(r,e),TT(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ka("Patches").applyPatches_;return Ia(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Mv(t,e){const n=nu(t)?ka("MapSet").proxyMap_(t,e):ud(t)?ka("MapSet").proxySet_(t,e):Z6(t,e);return(e?e.scope_:tO()).drafts_.push(n),n}function Xr(t){return Ia(t)||fr(10,t),rO(t)}function rO(t){if(!Zr(t)||cd(t))return t;const e=t[Ln];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Av(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Av(t,!0);return _f(n,(r,i)=>{eO(n,r,rO(i))}),e&&(e.finalized_=!1),n}var nG=new tG,iO=nG.produce;function aO(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var rG=aO(),iG=aO,aG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bf:bf.apply(null,arguments)};function rr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(kn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>XP(r)&&r.type===t,n}var oO=class Rl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Rl.prototype)}static get[Symbol.species](){return Rl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Rl(...e[0].concat(this)):new Rl(...e.concat(this))}};function MT(t){return Zr(t)?iO(t,()=>{}):t}function Hc(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function oG(t){return typeof t=="boolean"}var sG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new oO;return n&&(oG(n)?l.push(rG):l.push(iG(n.extraArgument))),l},lG="RTK_autoBatch",PT=t=>e=>{setTimeout(e,t)},uG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PT(10):t.type==="callback"?t.queueNotification:PT(t.timeout),f=()=>{l=!1,o&&(o=!1,c.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return c.add(h),()=>{y(),c.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[lG]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},cG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new oO(t);return r&&i.push(uG(typeof r=="object"?r:void 0)),i};function fG(t){const e=sG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(Iy(n))c=WP(n);else throw new Error(kn(1));let d;typeof r=="function"?d=r(e):d=e();let f=bf;i&&(f=aG({trace:!1,...typeof i=="object"&&i}));const h=K6(...d),m=cG(h);let y=typeof l=="function"?l(m):m();const w=f(...y);return JP(c,o,w)}function sO(t){const e={},n=[];let r;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(kn(28));if(c in e)throw new Error(kn(29));return e[c]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function dG(t){return typeof t=="function"}function hG(t,e){let[n,r,i]=sO(e),o;if(dG(t))o=()=>MT(t());else{const c=MT(t);o=()=>c}function l(c=o(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(Ia(h)){const w=m(h,d);return w===void 0?h:w}else{if(Zr(h))return iO(h,y=>m(y,d));{const y=m(h,d);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},c)}return l.getInitialState=o,l}var pG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mG=(t=21)=>{let e="",n=t;for(;n--;)e+=pG[Math.random()*64|0];return e},gG=Symbol.for("rtk-slice-createasyncthunk");function vG(t,e){return`${t}/${e}`}function yG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[gG];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(kn(11));const c=(typeof i.reducers=="function"?i.reducers(_G()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(D,I){const R=typeof D=="string"?D:D.type;if(!R)throw new Error(kn(12));if(R in f.sliceCaseReducersByType)throw new Error(kn(13));return f.sliceCaseReducersByType[R]=I,h},addMatcher(D,I){return f.sliceMatchers.push({matcher:D,reducer:I}),h},exposeAction(D,I){return f.actionCreators[D]=I,h},exposeCaseReducer(D,I){return f.sliceCaseReducersByName[D]=I,h}};d.forEach(D=>{const I=c[D],R={reducerName:D,type:vG(o,D),createNotation:typeof i.reducers=="function"};SG(I)?AG(R,I,h,e):wG(R,I,h)});function m(){const[D={},I=[],R=void 0]=typeof i.extraReducers=="function"?sO(i.extraReducers):[i.extraReducers],k={...D,...f.sliceCaseReducersByType};return hG(i.initialState,G=>{for(let U in k)G.addCase(U,k[U]);for(let U of f.sliceMatchers)G.addMatcher(U.matcher,U.reducer);for(let U of I)G.addMatcher(U.matcher,U.reducer);R&&G.addDefaultCase(R)})}const y=D=>D,w=new Map,E=new WeakMap;let S;function A(D,I){return S||(S=m()),S(D,I)}function P(){return S||(S=m()),S.getInitialState()}function C(D,I=!1){function R(G){let U=G[D];return typeof U>"u"&&I&&(U=Hc(E,R,P)),U}function k(G=y){const U=Hc(w,I,()=>new WeakMap);return Hc(U,G,()=>{const X={};for(const[V,Y]of Object.entries(i.selectors??{}))X[V]=bG(Y,G,()=>Hc(E,G,P),I);return X})}return{reducerPath:D,getSelectors:k,get selectors(){return k(R)},selectSlice:R}}const O={name:o,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:P,...C(l),injectInto(D,{reducerPath:I,...R}={}){const k=I??l;return D.inject({reducerPath:k,reducer:A},R),{...O,...C(k,!0)}}};return O}}function bG(t,e,n,r){function i(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Bn=yG();function _G(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wG({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!EG(r))throw new Error(kn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?rr(t,l):rr(t))}function SG(t){return t._reducerDefinitionType==="asyncThunk"}function EG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(kn(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:d,settled:f,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Gc,pending:c||Gc,rejected:d||Gc,settled:f||Gc})}function Gc(){}var xG="task",lO="listener",uO="completed",Uy="cancelled",TG=`task-${Uy}`,CG=`task-${uO}`,Pv=`${lO}-${Uy}`,MG=`${lO}-${uO}`,fd=class{constructor(t){Qp(this,"name","TaskAbortError");Qp(this,"message");this.code=t,this.message=`${xG} ${Uy} (reason: ${t})`}},By=(t,e)=>{if(typeof t!="function")throw new TypeError(kn(32))},Ef=()=>{},cO=(t,e=Ef)=>(t.catch(e),t),fO=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ma=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Pa=t=>{if(t.aborted){const{reason:e}=t;throw new fd(e)}};function dO(t,e){let n=Ef;return new Promise((r,i)=>{const o=()=>i(new fd(t.reason));if(t.aborted){o();return}n=fO(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Ef})}var PG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof fd?"cancelled":"rejected",error:n}}finally{e==null||e()}},Af=t=>e=>cO(dO(t,e).then(n=>(Pa(t),n))),hO=t=>{const e=Af(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Qo}=Object,OT={},dd="listenerMiddleware",OG=(t,e)=>{const n=r=>fO(t,()=>Ma(r,t.reason));return(r,i)=>{By(r);const o=new AbortController;n(o);const l=PG(async()=>{Pa(t),Pa(o.signal);const c=await r({pause:Af(o.signal),delay:hO(o.signal),signal:o.signal});return Pa(o.signal),c},()=>Ma(o,CG));return i!=null&&i.autoJoin&&e.push(l.catch(Ef)),{result:Af(t)(l),cancel(){Ma(o,TG)}}}},NG=(t,e)=>{const n=async(r,i)=>{Pa(e);let o=()=>{};const c=[new Promise((d,f)=>{let h=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),d([m,y.getState(),y.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await dO(e,Promise.race(c));return Pa(e),d}finally{o()}};return(r,i)=>cO(n(r,i))},pO=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=rr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(kn(21));return By(o),{predicate:i,type:e,effect:o}},mO=Qo(t=>{const{type:e,predicate:n,effect:r}=pO(t);return{id:mG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kn(22))}}},{withTypes:()=>mO}),NT=(t,e)=>{const{type:n,effect:r,predicate:i}=pO(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Ov=t=>{t.pending.forEach(e=>{Ma(e,Pv)})},RG=t=>()=>{t.forEach(Ov),t.clear()},RT=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},gO=Qo(rr(`${dd}/add`),{withTypes:()=>gO}),DG=rr(`${dd}/removeAll`),vO=Qo(rr(`${dd}/remove`),{withTypes:()=>vO}),IG=(...t)=>{console.error(`${dd}/error`,...t)},ru=(t={})=>{const e=new Map,{extra:n,onError:r=IG}=t;By(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),m=>{h.unsubscribe(),m!=null&&m.cancelActive&&Ov(h)}),o=h=>{const m=NT(e,h)??mO(h);return i(m)};Qo(o,{withTypes:()=>o});const l=h=>{const m=NT(e,h);return m&&(m.unsubscribe(),h.cancelActive&&Ov(m)),!!m};Qo(l,{withTypes:()=>l});const c=async(h,m,y,w)=>{const E=new AbortController,S=NG(o,E.signal),A=[];try{h.pending.add(E),await Promise.resolve(h.effect(m,Qo({},y,{getOriginalState:w,condition:(P,C)=>S(P,C).then(Boolean),take:S,delay:hO(E.signal),pause:Af(E.signal),extra:n,signal:E.signal,fork:OG(E.signal,A),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((P,C,O)=>{P!==E&&(Ma(P,Pv),O.delete(P))})},cancel:()=>{Ma(E,Pv),h.pending.delete(E)},throwIfCancelled:()=>{Pa(E.signal)}})))}catch(P){P instanceof fd||RT(r,P,{raisedBy:"effect"})}finally{await Promise.all(A),Ma(E,MG),h.pending.delete(E)}},d=RG(e);return{middleware:h=>m=>y=>{if(!XP(y))return m(y);if(gO.match(y))return o(y.payload);if(DG.match(y)){d();return}if(vO.match(y))return l(y.payload);let w=h.getState();const E=()=>{if(w===OT)throw new Error(kn(23));return w};let S;try{if(S=m(y),e.size>0){const A=h.getState(),P=Array.from(e.values());for(const C of P){let O=!1;try{O=C.predicate(y,A,w)}catch(D){O=!1,RT(r,D,{raisedBy:"predicate"})}O&&c(C,y,h,E)}}}finally{w=OT}return S},startListening:o,stopListening:l,clearListeners:d}};function kn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yO=Bn({name:"chartLayout",initialState:kG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:LG,setLayout:UG,setChartSize:BG,setScale:qG}=yO.actions,jG=yO.reducer;function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){$G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $G(t,e,n){return(e=zG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=HG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xf=Math.PI/180,GG=t=>t*180/Math.PI,Et=(t,e,n,r)=>({x:t+Math.cos(-xf*r)*n,y:e+Math.sin(-xf*r)*n}),bO=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},VG=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},FG=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=VG({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>o&&(d=2*Math.PI-d),{radius:l,angle:GG(d),angleInRadian:d}},KG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},YG=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},JG=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=FG({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=KG(e),h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?IT(IT({},e),{},{radius:i,angle:YG(h,e)}):null};function _O(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){WG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WG(t,e,n){return(e=XG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ut(t,e,n){return Bt(t)||Bt(e)?n:Ar(e)?Da(t,e,n):typeof e=="function"?e(t):n}var ZG=(t,e,n,r,i)=>{var o,l=-1,c=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,h=n[d].coordinate,m=d>=c-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(Zt(h-f)!==Zt(m-h)){var w=[];if(Zt(m-h)===Zt(i[1]-i[0])){y=m;var E=h+i[1]-i[0];w[0]=Math.min(E,(E+f)/2),w[1]=Math.max(E,(E+f)/2)}else{y=f;var S=m+i[1]-i[0];w[0]=Math.min(h,(S+h)/2),w[1]=Math.max(h,(S+h)/2)}var A=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>A[0]&&t<=A[1]||t>=w[0]&&t<=w[1]){({index:l}=n[d]);break}}else{var P=Math.min(f,m),C=Math.max(f,m);if(t>(P+h)/2&&t<=(C+h)/2){({index:l}=n[d]);break}}}else if(e){for(var O=0;O<c;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<c-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===c-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:l}=e[O]);break}}return l},e8=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&_e(t[o]))return Zn(Zn({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&_e(t[l]))return Zn(Zn({},t),{},{[l]:t[l]+(i||0)})}return t},za=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",LT=1e-4,t8=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-LT,o=Math.max(r[0],r[1])+LT,l=t(e[0]),c=t(e[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([e[0],e[n-1]])}},n8=(t,e)=>{if(!e||e.length!==2||!_e(e[0])||!_e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!_e(t[0])||t[0]<n)&&(i[0]=n),(!_e(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},r8=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var c=nr(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},i8=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=nr(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},a8={sign:r8,expand:IH,none:ts,silhouette:kH,wiggle:LH,positive:i8},o8=(t,e,n)=>{var r=a8[n],i=DH().keys(e).value((o,l)=>+ut(o,l,0)).order(_v).offset(r);return i(t)};function s8(t){return t==null?void 0:String(t)}var UT=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=ut(o,e.dataKey,e.scale.domain()[l]);return Bt(c)?null:e.scale(c)-i/2+r},l8=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},u8=t=>{var e=t.flat(2).filter(_e);return[Math.min(...e),Math.max(...e)]},c8=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],f8=(t,e,n)=>{if(t!=null)return c8(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,c=l.reduce((d,f)=>{var h=_O(f,e,n),m=u8(h);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},BT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=sd(e,h=>h.coordinate),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function jT(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Zn(Zn({},e),{},{dataKey:n,payload:r,value:i,name:o})}function hd(t,e){if(t)return String(t);if(typeof e=="string")return e}function d8(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?JG({x:t,y:e},r):null}var h8=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:l}=r;return Zn(Zn(Zn({},r),Et(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,{angle:d}=r;return Zn(Zn(Zn({},r),Et(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},p8=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ii=t=>t.layout.width,ai=t=>t.layout.height,m8=t=>t.layout.scale,wO=t=>t.layout.margin,pd=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),md=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),SO="data-recharts-item-index",EO="data-recharts-item-data-key",iu=60;function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){g8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g8(t,e,n){return(e=v8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v8(t){var e=y8(t,"string");return typeof e=="symbol"?e:e+""}function y8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b8=t=>t.brush.height;function _8(t){var e=md(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:iu;return n+i}return n},0)}function w8(t){var e=md(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:iu;return n+i}return n},0)}function S8(t){var e=pd(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function E8(t){var e=pd(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ot=J([ii,ai,wO,b8,_8,w8,S8,E8,KP,j6],(t,e,n,r,i,o,l,c,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},y=Vc(Vc({},m),h),w=y.bottom;y.bottom+=r,y=e8(y,d,f);var E=t-y.left-y.right,S=e-y.top-y.bottom;return Vc(Vc({brushBottom:w},y),{},{width:Math.max(E,0),height:Math.max(S,0)})}),A8=J(Ot,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),jy=J(ii,ai,(t,e)=>({x:0,y:0,width:t,height:e})),x8=T.createContext(null),gr=()=>T.useContext(x8)!=null,gd=t=>t.brush,vd=J([gd,Ot,wO],(t,e,n)=>({height:t.height,x:_e(t.x)?t.x:e.left,y:_e(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:_e(t.width)?t.width:e.width})),$y=()=>{var t,e=gr(),n=he(A8),r=he(vd),i=(t=he(gd))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},T8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},C8=()=>{var t;return(t=he(Ot))!==null&&t!==void 0?t:T8},AO=()=>he(ii),xO=()=>he(ai),M8=()=>he(t=>t.layout.margin),je=t=>t.layout.layoutType,zy=()=>he(je),P8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TO=Bn({name:"legend",initialState:P8,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Xr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:zT,setLegendSettings:O8,addLegendPayload:CO,removeLegendPayload:MO}=TO.actions,N8=TO.reducer,R8=["contextPayload"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}function HT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(n),!0).forEach(function(r){Hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hy(t,e,n){return(e=D8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=I8(t,"string");return typeof e=="symbol"?e:e+""}function I8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k8(t,e){if(t==null)return{};var n,r,i=L8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function U8(t){return t.value}function B8(t){var{contextPayload:e}=t,n=k8(t,R8),r=HP(e,t.payloadUniqBy,U8),i=rs(rs({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(Oy,i)}function q8(t,e,n,r,i,o){var{layout:l,align:c,verticalAlign:d}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?f={left:((r||0)-o.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?h={top:((i||0)-o.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),rs(rs({},f),h)}function j8(t){var e=ct();return T.useEffect(()=>{e(O8(t))},[e,t]),null}function $8(t){var e=ct();return T.useEffect(()=>(e(zT(t)),()=>{e(zT({width:0,height:0}))}),[e,t]),null}function z8(t){var e=H6(),n=rH(),r=M8(),{width:i,height:o,wrapperStyle:l,portal:c}=t,[d,f]=YP([e]),h=AO(),m=xO();if(h==null||m==null)return null;var y=h-(r.left||0)-(r.right||0),w=yd.getWidthOrHeight(t.layout,o,i,y),E=c?l:rs(rs({position:"absolute",width:(w==null?void 0:w.width)||i||"auto",height:(w==null?void 0:w.height)||o||"auto"},q8(l,t,r,h,m,d)),l),S=c??n;if(S==null)return null;var A=T.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:f},T.createElement(j8,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),T.createElement($8,{width:d.width,height:d.height}),T.createElement(B8,Nv({},t,w,{margin:r,chartWidth:h,chartHeight:m,contextPayload:e})));return gP.createPortal(A,S)}class yd extends T.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&_e(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return T.createElement(z8,this.props)}}Hy(yd,"displayName","Legend");Hy(yd,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(null,arguments)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){H8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H8(t,e,n){return(e=G8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G8(t){var e=V8(t,"string");return typeof e=="symbol"?e:e+""}function V8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F8(t){return Array.isArray(t)&&Ar(t[0])&&Ar(t[1])?t.join(" ~ "):t}var K8=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:y=!1}=t,w=()=>{if(o&&o.length){var I={padding:0,margin:0},R=(c?sd(o,c):o).map((k,G)=>{if(k.type==="none")return null;var U=k.formatter||l||F8,{value:X,name:V}=k,Y=X,ne=V;if(U){var ie=U(X,V,k,G,o);if(Array.isArray(ie))[Y,ne]=ie;else if(ie!=null)Y=ie;else return null}var ve=mg({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:ve},Ar(ne)?T.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Ar(ne)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},Y),T.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:I},R)}return null},E=mg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=mg({margin:0},i),A=!Bt(h),P=A?h:"",C=Ve("recharts-default-tooltip",d),O=Ve("recharts-tooltip-label",f);A&&m&&o!==void 0&&o!==null&&(P=m(h,o));var D=y?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Rv({className:C,style:E},D),T.createElement("p",{className:O,style:S},T.isValidElement(P)?P:"".concat(P)),w())},El="recharts-tooltip-wrapper",Y8={visibility:"hidden"};function J8(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ve(El,{["".concat(El,"-right")]:_e(n)&&e&&_e(e.x)&&n>=e.x,["".concat(El,"-left")]:_e(n)&&e&&_e(e.x)&&n<e.x,["".concat(El,"-bottom")]:_e(r)&&e&&_e(e.y)&&r>=e.y,["".concat(El,"-top")]:_e(r)&&e&&_e(e.y)&&r<e.y})}function VT(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(o&&_e(o[r]))return o[r];var h=n[r]-c-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?h:m;var y=d[r];if(y==null)return 0;if(l[r]){var w=h,E=y;return w<E?Math.max(m,y):Math.max(h,y)}if(f==null)return 0;var S=m+c,A=y+f;return S>A?Math.max(h,y):Math.max(m,y)}function W8(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function X8(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,h,m;return l.height>0&&l.width>0&&n?(h=VT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=VT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=W8({translateX:h,translateY:m,useTranslate3d:c})):f=Y8,{cssProperties:f,cssClasses:J8({translateX:h,translateY:m,coordinate:n})}}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){Dv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dv(t,e,n){return(e=Q8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q8(t){var e=Z8(t,"string");return typeof e=="symbol"?e:e+""}function Z8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class e5 extends T.PureComponent{constructor(){super(...arguments),Dv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Dv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:y,viewBox:w,wrapperStyle:E,lastBoundingBox:S,innerRef:A,hasPortalFromProps:P}=this.props,{cssClasses:C,cssProperties:O}=X8({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:w}),D=P?{}:Fc(Fc({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),I=Fc(Fc({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:I,ref:A},o)}}var t5=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ha={devToolsEnabled:!1,isSsr:t5()},PO=()=>he(t=>t.rootProps.accessibilityLayer);function Un(t){return Number.isFinite(t)}function is(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){n5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n5(t,e,n){return(e=r5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=i5(t,"string");return typeof e=="symbol"?e:e+""}function i5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JT={curveBasisClosed:SH,curveBasisOpen:EH,curveBasis:wH,curveBumpX:sH,curveBumpY:lH,curveLinearClosed:AH,curveLinear:ad,curveMonotoneX:xH,curveMonotoneY:TH,curveNatural:CH,curveStep:MH,curveStepAfter:OH,curveStepBefore:PH},Kc=t=>Un(t.x)&&Un(t.y),Al=t=>t.x,xl=t=>t.y,a5=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(eu(t));return(n==="curveMonotone"||n==="curveBump")&&e?JT["".concat(n).concat(e==="vertical"?"Y":"X")]:JT[n]||ad},o5=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=a5(e,i),c=o?n.filter(Kc):n,d;if(Array.isArray(r)){var f=o?r.filter(m=>Kc(m)):r,h=c.map((m,y)=>YT(YT({},m),{},{base:f[y]}));return i==="vertical"?d=qc().y(xl).x1(Al).x0(m=>m.base.x):d=qc().x(Al).y1(xl).y0(m=>m.base.y),d.defined(Kc).curve(l),d(h)}return i==="vertical"&&_e(r)?d=qc().y(xl).x1(Al).x0(r):_e(r)?d=qc().x(Al).y1(xl).y0(r):d=EP().x(Al).y(xl),d.defined(Kc).curve(l),d(c)},OO=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?o5(t):r;return T.createElement("path",Iv({},$a(t),Kz(t),{className:Ve("recharts-curve",e),d:o===null?void 0:o,ref:i}))},s5=["x","y","top","left","width","height","className"];function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(null,arguments)}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){u5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u5(t,e,n){return(e=c5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c5(t){var e=f5(t,"string");return typeof e=="symbol"?e:e+""}function f5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d5(t,e){if(t==null)return{};var n,r,i=h5(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p5=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),m5=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:c}=t,d=d5(t,s5),f=l5({x:e,y:n,top:r,left:i,width:o,height:l},d);return!_e(e)||!_e(n)||!_e(o)||!_e(l)||!_e(r)||!_e(i)?null:T.createElement("path",kv({},Pt(f,!0),{className:Ve("recharts-cross",c),d:p5(e,n,o,l,r,i)}))};function g5(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){y5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y5(t,e,n){return(e=b5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=_5(t,"string");return typeof e=="symbol"?e:e+""}function _5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bn(t,e){var n=v5({},t),r=e,i=Object.keys(e),o=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function w5(){}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(r){S5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S5(t,e,n){return(e=E5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E5(t){var e=A5(t,"string");return typeof e=="symbol"?e:e+""}function A5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x5=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),NO=(t,e,n)=>t.map(r=>"".concat(x5(r)," ").concat(e,"ms ").concat(n)).join(","),T5=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Gl=(t,e)=>Object.keys(e).reduce((n,r)=>ZT(ZT({},n),{},{[r]:t(r,e[r])}),{});function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){C5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C5(t,e,n){return(e=M5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M5(t){var e=P5(t,"string");return typeof e=="symbol"?e:e+""}function P5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tf=(t,e,n)=>t+(e-t)*n,Lv=t=>{var{from:e,to:n}=t;return e!==n},RO=(t,e,n)=>{var r=Gl((i,o)=>{if(Lv(o)){var[l,c]=t(o.from,o.to,o.velocity);return Xt(Xt({},o),{},{from:l,velocity:c})}return o},e);return n<1?Gl((i,o)=>Lv(o)?Xt(Xt({},o),{},{velocity:Tf(o.velocity,r[i].velocity,n),from:Tf(o.from,r[i].from,n)}):o,e):RO(t,r,n-1)};function O5(t,e,n,r,i,o){var l,c=r.reduce((y,w)=>Xt(Xt({},y),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),d=()=>Gl((y,w)=>w.from,c),f=()=>!Object.values(c).filter(Lv).length,h=null,m=y=>{l||(l=y);var w=y-l,E=w/n.dt;c=RO(n,c,E),i(Xt(Xt(Xt({},t),e),d())),l=y,f()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{h()})}function N5(t,e,n,r,i,o,l){var c=null,d=i.reduce((m,y)=>Xt(Xt({},m),{},{[y]:[t[y],e[y]]}),{}),f,h=m=>{f||(f=m);var y=(m-f)/r,w=Gl((S,A)=>Tf(...A,n(y)),d);if(o(Xt(Xt(Xt({},t),e),w)),y<1)c=l.setTimeout(h);else{var E=Gl((S,A)=>Tf(...A,n(1)),d);o(Xt(Xt(Xt({},t),e),E))}};return()=>(c=l.setTimeout(h),()=>{c()})}const R5=(t,e,n,r,i,o)=>{var l=T5(t,e);return n.isStepper===!0?O5(t,e,n,l,i,o):N5(t,e,n,r,l,i,o)};var Cf=1e-4,DO=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],IO=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),tC=(t,e)=>n=>{var r=DO(t,e);return IO(r,n)},D5=(t,e)=>n=>{var r=DO(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return IO(i,n)},nC=function(){for(var e,n,r,i,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else l.length===4&&([e,r,n,i]=l);var f=tC(e,n),h=tC(r,i),m=D5(e,n),y=E=>E>1?1:E<0?0:E,w=E=>{for(var S=E>1?1:E,A=S,P=0;P<8;++P){var C=f(A)-S,O=m(A);if(Math.abs(C-S)<Cf||O<Cf)return h(A);A=y(A-C/O)}return h(A)};return w.isStepper=!1,w},I5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,c,d)=>{var f=-(l-c)*n,h=d*r,m=d+(f-h)*i/1e3,y=d*i/1e3+l;return Math.abs(y-c)<Cf&&Math.abs(m)<Cf?[c,0]:[y,m]};return o.isStepper=!0,o.dt=i,o},k5=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nC(t);case"spring":return I5();default:if(t.split("(")[0]==="cubic-bezier")return nC(t)}return typeof t=="function"?t:null};function L5(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(o.bind(null,f),d);return}o(d),i=t.setTimeout(o.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class U5{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function B5(){return L5(new U5)}var q5=T.createContext(B5);function j5(t,e){var n=T.useContext(q5);return T.useMemo(()=>e??n(t),[t,e,n])}var $5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rC={t:0},gg={t:1};function bd(t){var e=bn(t,$5),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,h=j5(e.animationId,e.animationManager),[m,y]=T.useState(n?rC:gg),w=T.useRef(null);return T.useEffect(()=>{n||y(gg)},[n]),T.useEffect(()=>{if(!n||!r)return w5;var E=R5(rC,gg,k5(o),i,y,h.getTimeoutController()),S=()=>{w.current=E()};return h.start([d,l,S,i,c]),()=>{h.stop(),w.current&&w.current(),c()}},[n,r,i,o,l,d,c,h]),f(m.t)}function _d(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef($l(e)),r=T.useRef(t);return r.current!==t&&(n.current=$l(e),r.current=t),n.current}function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){z5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z5(t,e,n){return(e=H5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=G5(t,"string");return typeof e=="symbol"?e:e+""}function G5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(null,arguments)}var oC=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,y=4;m<y;m++)h[m]=i[m]>o?o:i[m];f="M".concat(t,",").concat(e+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(e)),f+="L ".concat(t+n-c*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*h[1])),f+="L ".concat(t+n,",").concat(e+r-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+n-c*h[2],",").concat(e+r)),f+="L ".concat(t+c*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t+c*w,",").concat(e,`
            L `).concat(t+n-c*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t+n-c*w,",").concat(e+r,`
            L `).concat(t+c*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*w," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},V5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kO=t=>{var e=bn(t,V5),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:o,y:l,width:c,height:d,radius:f,className:h}=e,{animationEasing:m,animationDuration:y,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:S}=e,A=T.useRef(c),P=T.useRef(d),C=T.useRef(o),O=T.useRef(l),D=T.useMemo(()=>({x:o,y:l,width:c,height:d,radius:f}),[o,l,c,d,f]),I=_d(D,"rectangle-");if(o!==+o||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var R=Ve("recharts-rectangle",h);if(!S)return T.createElement("path",Mf({},Pt(e,!0),{className:R,d:oC(o,l,c,d,f)}));var k=A.current,G=P.current,U=C.current,X=O.current,V="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),ne=NO(["strokeDasharray"],y,typeof m=="string"?m:void 0);return T.createElement(bd,{animationId:I,key:I,canBegin:r>0,duration:y,easing:m,isActive:S,begin:w},ie=>{var ve=Qt(k,c,ie),$=Qt(G,d,ie),te=Qt(U,o,ie),se=Qt(X,l,ie);n.current&&(A.current=ve,P.current=$,C.current=te,O.current=se);var ge;return E?ie>0?ge={transition:ne,strokeDasharray:Y}:ge={strokeDasharray:V}:ge={strokeDasharray:Y},T.createElement("path",Mf({},Pt(e,!0),{className:R,d:oC(te,se,ve,$,f),ref:n,style:aC(aC({},ge),e.style)}))})};function LO(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=Et(e,n,r,i),c=Et(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(null,arguments)}var F5=(t,e)=>{var n=Zt(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Yc=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,h=Math.asin(c/f)/xf,m=d?i:i+o*h,y=Et(e,n,f,m),w=Et(e,n,r,m),E=d?i-o*h:i,S=Et(e,n,f*Math.cos(h*xf),E);return{center:y,circleTangency:w,lineTangency:S,theta:h}},UO=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,c=F5(o,l),d=o+c,f=Et(e,n,i,o),h=Et(e,n,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Et(e,n,r,o),w=Et(e,n,r,d);m+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},K5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,h=Zt(f-d),{circleTangency:m,lineTangency:y,theta:w}=Yc({cx:e,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),{circleTangency:E,lineTangency:S,theta:A}=Yc({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),P=c?Math.abs(d-f):Math.abs(d-f)-w-A;if(P<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UO({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:D,theta:I}=Yc({cx:e,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:R,lineTangency:k,theta:G}=Yc({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),U=c?Math.abs(d-f):Math.abs(d-f)-I-G;if(U<0&&o===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},Y5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BO=t=>{var e=bn(t,Y5),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=e;if(o<i||f===h)return null;var y=Ve("recharts-sector",m),w=o-i,E=rn(l,w,0,!0),S;return E>0&&Math.abs(f-h)<360?S=K5({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):S=UO({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),T.createElement("path",Uv({},Pt(e,!0),{className:y,d:S}))};function J5(t,e,n){var r,i,o,l;if(t==="horizontal")r=e.x,o=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:h,angle:m}=e,y=Et(c,d,f,m),w=Et(c,d,h,m);r=y.x,i=y.y,o=w.x,l=w.y}else return LO(e);return[{x:r,y:i},{x:o,y:l}]}var vg={},yg={},bg={},sC;function W5(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VP();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(bg)),bg}var lC;function X5(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W5();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(yg)),yg}var uC;function Q5(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FP(),n=X5();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(vg)),vg}var _g,cC;function Z5(){return cC||(cC=1,_g=Q5().range),_g}var eV=Z5();const qO=hr(eV);function zi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gy(t){let e,n,r;t.length!==2?(e=zi,n=(c,d)=>zi(t(c),d),r=(c,d)=>t(c)-d):(e=t===zi||t===tV?t:nV,n=t,r=t);function i(c,d,f=0,h=c.length){if(f<h){if(e(d,d)!==0)return h;do{const m=f+h>>>1;n(c[m],d)<0?f=m+1:h=m}while(f<h)}return f}function o(c,d,f=0,h=c.length){if(f<h){if(e(d,d)!==0)return h;do{const m=f+h>>>1;n(c[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(c,d,f=0,h=c.length){const m=i(c,d,f,h-1);return m>f&&r(c[m-1],d)>-r(c[m],d)?m-1:m}return{left:i,center:l,right:o}}function nV(){return 0}function jO(t){return t===null?NaN:+t}function*rV(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iV=Gy(zi),au=iV.right;Gy(jO).center;class fC extends Map{constructor(e,n=sV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dC(this,e))}has(e){return super.has(dC(this,e))}set(e,n){return super.set(aV(this,e),n)}delete(e){return super.delete(oV(this,e))}}function dC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function aV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function oV({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sV(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lV(t=zi){if(t===zi)return $O;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $O(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uV=Math.sqrt(50),cV=Math.sqrt(10),fV=Math.sqrt(2);function Pf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=uV?10:o>=cV?5:o>=fV?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Pf(t,e,n*2):[c,d,f]}function Bv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?Pf(e,t,n):Pf(t,e,n);if(!(o>=i))return[];const c=o-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(o-f)/-l;else for(let f=0;f<c;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function qv(t,e,n){return e=+e,t=+t,n=+n,Pf(t,e,n)[2]}function jv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?qv(e,t,n):qv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zO(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$O:lV(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(e-f*m/d+y)),E=Math.min(r,Math.floor(e+(d-f)*m/d+y));zO(t,e,w,E,i)}const o=t[e];let l=n,c=r;for(Tl(t,n,e),i(t[r],o)>0&&Tl(t,n,r);l<c;){for(Tl(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?Tl(t,n,c):(++c,Tl(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Tl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dV(t,e,n){if(t=Float64Array.from(rV(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pC(t);if(e>=1)return hC(t);var r,i=(r-1)*e,o=Math.floor(i),l=hC(zO(t,o).subarray(0,o+1)),c=pC(t.subarray(o+1));return l+(c-l)*(i-o)}}function hV(t,e,n=jO){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function pV(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ar(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $v=Symbol("implicit");function Vy(){var t=new fC,e=[],n=[],r=$v;function i(o){let l=t.get(o);if(l===void 0){if(r!==$v)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new fC;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vy(e,n).unknown(r)},ar.apply(i,arguments),i}function Fy(){var t=Vy().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,c=!1,d=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,w=i<r,E=w?i:r,S=w?r:i;o=(S-E)/Math.max(1,y-d+f*2),c&&(o=Math.floor(o)),E+=(S-E-o*(y-d))*h,l=o*(1-d),c&&(E=Math.round(E),l=Math.round(l));var A=pV(y).map(function(P){return E+o*P});return n(w?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(y){return arguments.length?(c=!!y,m()):c},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Fy(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(h)},ar.apply(m(),arguments)}function HO(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HO(e())},t}function mV(){return HO(Fy.apply(null,arguments).paddingInner(1))}function Ky(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function GO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ou(){}var Vl=.7,Of=1/Vl,Zo="\\s*([+-]?\\d+)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gV=/^#([0-9a-f]{3,8})$/,vV=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),yV=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),bV=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${Fl}\\)$`),_V=new RegExp(`^rgba\\(${Er},${Er},${Er},${Fl}\\)$`),wV=new RegExp(`^hsl\\(${Fl},${Er},${Er}\\)$`),SV=new RegExp(`^hsla\\(${Fl},${Er},${Er},${Fl}\\)$`),mC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ky(ou,Kl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gC,formatHex:gC,formatHex8:EV,formatHsl:AV,formatRgb:vC,toString:vC});function gC(){return this.rgb().formatHex()}function EV(){return this.rgb().formatHex8()}function AV(){return VO(this).formatHsl()}function vC(){return this.rgb().formatRgb()}function Kl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gV.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yC(e):n===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vV.exec(t))?new vn(e[1],e[2],e[3],1):(e=yV.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bV.exec(t))?Jc(e[1],e[2],e[3],e[4]):(e=_V.exec(t))?Jc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wV.exec(t))?wC(e[1],e[2]/100,e[3]/100,1):(e=SV.exec(t))?wC(e[1],e[2]/100,e[3]/100,e[4]):mC.hasOwnProperty(t)?yC(mC[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function yC(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function Jc(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function xV(t){return t instanceof ou||(t=Kl(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function zv(t,e,n,r){return arguments.length===1?xV(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ky(vn,zv,GO(ou,{brighter(t){return t=t==null?Of:Math.pow(Of,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vl:Math.pow(Vl,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(Oa(this.r),Oa(this.g),Oa(this.b),Nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bC,formatHex:bC,formatHex8:TV,formatRgb:_C,toString:_C}));function bC(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function TV(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function _C(){const t=Nf(this.opacity);return`${t===1?"rgb(":"rgba("}${Oa(this.r)}, ${Oa(this.g)}, ${Oa(this.b)}${t===1?")":`, ${t})`}`}function Nf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ta(t){return t=Oa(t),(t<16?"0":"")+t.toString(16)}function wC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dr(t,e,n,r)}function VO(t){if(t instanceof dr)return new dr(t.h,t.s,t.l,t.opacity);if(t instanceof ou||(t=Kl(t)),!t)return new dr;if(t instanceof dr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,d=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?o+i:2-o-i,l*=60):c=d>0&&d<1?0:l,new dr(l,c,d,t.opacity)}function CV(t,e,n,r){return arguments.length===1?VO(t):new dr(t,e,n,r??1)}function dr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ky(dr,CV,GO(ou,{brighter(t){return t=t==null?Of:Math.pow(Of,t),new dr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vl:Math.pow(Vl,t),new dr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vn(wg(t>=240?t-240:t+120,i,r),wg(t,i,r),wg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new dr(SC(this.h),Wc(this.s),Wc(this.l),Nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nf(this.opacity);return`${t===1?"hsl(":"hsla("}${SC(this.h)}, ${Wc(this.s)*100}%, ${Wc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SC(t){return t=(t||0)%360,t<0?t+360:t}function Wc(t){return Math.max(0,Math.min(1,t||0))}function wg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yy=t=>()=>t;function MV(t,e){return function(n){return t+n*e}}function PV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OV(t){return(t=+t)==1?FO:function(e,n){return n-e?PV(e,n,t):Yy(isNaN(e)?n:e)}}function FO(t,e){var n=e-t;return n?MV(t,n):Yy(isNaN(t)?e:t)}const EC=(function t(e){var n=OV(e);function r(i,o){var l=n((i=zv(i)).r,(o=zv(o)).r),c=n(i.g,o.g),d=n(i.b,o.b),f=FO(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=c(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function NV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function RV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=ys(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function IV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kV(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ys(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Hv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=new RegExp(Hv.source,"g");function LV(t){return function(){return t}}function UV(t){return function(e){return t(e)+""}}function BV(t,e){var n=Hv.lastIndex=Sg.lastIndex=0,r,i,o,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=Hv.exec(t))&&(i=Sg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Rf(r,i)})),n=Sg.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?UV(d[0].x):LV(e):(e=d.length,function(f){for(var h=0,m;h<e;++h)c[(m=d[h]).i]=m.x(f);return c.join("")})}function ys(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yy(e):(n==="number"?Rf:n==="string"?(r=Kl(e))?(e=r,EC):BV:e instanceof Kl?EC:e instanceof Date?IV:RV(e)?NV:Array.isArray(e)?DV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kV:Rf)(t,e)}function Jy(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qV(t,e){e===void 0&&(e=t,t=ys);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function jV(t){return function(){return t}}function Df(t){return+t}var AC=[0,1];function sn(t){return t}function Gv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jV(isNaN(e)?NaN:.5)}function $V(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zV(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=Gv(i,r),o=n(l,o)):(r=Gv(r,i),o=n(o,l)),function(c){return o(r(c))}}function HV(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Gv(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var d=au(t,c,1,r)-1;return o[d](i[d](c))}}function su(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wd(){var t=AC,e=AC,n=ys,r,i,o,l=sn,c,d,f;function h(){var y=Math.min(t.length,e.length);return l!==sn&&(l=$V(t[0],t[y-1])),c=y>2?HV:zV,d=f=null,m}function m(y){return y==null||isNaN(y=+y)?o:(d||(d=c(t.map(r),e,n)))(r(l(y)))}return m.invert=function(y){return l(i((f||(f=c(e,t.map(r),Rf)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Df),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=Jy,h()},m.clamp=function(y){return arguments.length?(l=y?!0:sn,h()):l!==sn},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(o=y,m):o},function(y,w){return r=y,i=w,h()}}function Wy(){return wd()(sn,sn)}function GV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function If(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function as(t){return t=If(Math.abs(t)),t?t[1]:NaN}function VV(t,e){return function(n,r){for(var i=n.length,o=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),o.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function FV(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var KV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yl(t){if(!(e=KV.exec(t)))throw new Error("invalid format: "+t);var e;return new Xy({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yl.prototype=Xy.prototype;function Xy(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Xy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YV(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var KO;function JV(t,e){var n=If(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(KO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+If(t,Math.max(0,e+o-1))[0]}function xC(t,e){var n=If(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xC(t*100,e),r:xC,s:JV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CC(t){return t}var MC=Array.prototype.map,PC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function WV(t){var e=t.grouping===void 0||t.thousands===void 0?CC:VV(MC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?CC:FV(MC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Yl(m);var y=m.fill,w=m.align,E=m.sign,S=m.symbol,A=m.zero,P=m.width,C=m.comma,O=m.precision,D=m.trim,I=m.type;I==="n"?(C=!0,I="g"):TC[I]||(O===void 0&&(O=12),D=!0,I="g"),(A||y==="0"&&w==="=")&&(A=!0,y="0",w="=");var R=S==="$"?n:S==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",k=S==="$"?r:/[%p]/.test(I)?l:"",G=TC[I],U=/[defgprs%]/.test(I);O=O===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function X(V){var Y=R,ne=k,ie,ve,$;if(I==="c")ne=G(V)+ne,V="";else{V=+V;var te=V<0||1/V<0;if(V=isNaN(V)?d:G(Math.abs(V),O),D&&(V=YV(V)),te&&+V==0&&E!=="+"&&(te=!1),Y=(te?E==="("?E:c:E==="-"||E==="("?"":E)+Y,ne=(I==="s"?PC[8+KO/3]:"")+ne+(te&&E==="("?")":""),U){for(ie=-1,ve=V.length;++ie<ve;)if($=V.charCodeAt(ie),48>$||$>57){ne=($===46?i+V.slice(ie+1):V.slice(ie))+ne,V=V.slice(0,ie);break}}}C&&!A&&(V=e(V,1/0));var se=Y.length+V.length+ne.length,ge=se<P?new Array(P-se+1).join(y):"";switch(C&&A&&(V=e(ge+V,ge.length?P-ne.length:1/0),ge=""),w){case"<":V=Y+V+ne+ge;break;case"=":V=Y+ge+V+ne;break;case"^":V=ge.slice(0,se=ge.length>>1)+Y+V+ne+ge.slice(se);break;default:V=ge+Y+V+ne;break}return o(V)}return X.toString=function(){return m+""},X}function h(m,y){var w=f((m=Yl(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(as(y)/3)))*3,S=Math.pow(10,-E),A=PC[8+E/3];return function(P){return w(S*P)+A}}return{format:f,formatPrefix:h}}var Xc,Qy,YO;XV({thousands:",",grouping:[3],currency:["$",""]});function XV(t){return Xc=WV(t),Qy=Xc.format,YO=Xc.formatPrefix,Xc}function QV(t){return Math.max(0,-as(Math.abs(t)))}function ZV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(as(e)/3)))*3-as(Math.abs(t)))}function eF(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,as(e)-as(t))+1}function JO(t,e,n,r){var i=jv(t,e,n),o;switch(r=Yl(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ZV(i,l))&&(r.precision=o),YO(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eF(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=QV(i))&&(r.precision=o-(r.type==="%")*2);break}}return Qy(r)}function Ki(t){var e=t.domain;return t.ticks=function(n){var r=e();return Bv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return JO(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],c=r[o],d,f,h=10;for(c<l&&(f=l,l=c,c=f,f=i,i=o,o=f);h-- >0;){if(f=qv(l,c,n),f===d)return r[i]=l,r[o]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function WO(){var t=Wy();return t.copy=function(){return su(t,WO())},ar.apply(t,arguments),Ki(t)}function XO(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Df),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return XO(t).unknown(e)},t=arguments.length?Array.from(t,Df):[0,1],Ki(n)}function QO(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function OC(t){return Math.log(t)}function NC(t){return Math.exp(t)}function tF(t){return-Math.log(-t)}function nF(t){return-Math.exp(-t)}function rF(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iF(t){return t===10?rF:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aF(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function RC(t){return(e,n)=>-t(-e,n)}function Zy(t){const e=t(OC,NC),n=e.domain;let r=10,i,o;function l(){return i=aF(r),o=iF(r),n()[0]<0?(i=RC(i),o=RC(o),t(tF,nF)):t(OC,NC),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),w=i(h),E,S;const A=c==null?10:+c;let P=[];if(!(r%1)&&w-y<A){if(y=Math.floor(y),w=Math.ceil(w),f>0){for(;y<=w;++y)for(E=1;E<r;++E)if(S=y<0?E/o(-y):E*o(y),!(S<f)){if(S>h)break;P.push(S)}}else for(;y<=w;++y)for(E=r-1;E>=1;--E)if(S=y>0?E/o(-y):E*o(y),!(S<f)){if(S>h)break;P.push(S)}P.length*2<A&&(P=Bv(f,h,A))}else P=Bv(y,w,Math.min(w-y,A)).map(o);return m?P.reverse():P},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Yl(d)).precision==null&&(d.trim=!0),d=Qy(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},e.nice=()=>n(QO(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function ZO(){const t=Zy(wd()).domain([1,10]);return t.copy=()=>su(t,ZO()).base(t.base()),ar.apply(t,arguments),t}function DC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function IC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e0(t){var e=1,n=t(DC(e),IC(e));return n.constant=function(r){return arguments.length?t(DC(e=+r),IC(e)):e},Ki(n)}function eN(){var t=e0(wd());return t.copy=function(){return su(t,eN()).constant(t.constant())},ar.apply(t,arguments)}function kC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oF(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sF(t){return t<0?-t*t:t*t}function t0(t){var e=t(sn,sn),n=1;function r(){return n===1?t(sn,sn):n===.5?t(oF,sF):t(kC(n),kC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ki(e)}function n0(){var t=t0(wd());return t.copy=function(){return su(t,n0()).exponent(t.exponent())},ar.apply(t,arguments),t}function lF(){return n0.apply(null,arguments).exponent(.5)}function LC(t){return Math.sign(t)*t*t}function uF(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tN(){var t=Wy(),e=[0,1],n=!1,r;function i(o){var l=uF(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(LC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Df)).map(LC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return tN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ar.apply(i,arguments),Ki(i)}function nN(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=hV(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[au(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(zi),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return nN().domain(t).range(e).unknown(r)},ar.apply(o,arguments)}function rN(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[au(r,d,0,n)]:o}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return rN().domain([t,e]).range(i).unknown(o)},ar.apply(Ki(l),arguments)}function iN(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[au(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return iN().domain(t).range(e).unknown(n)},ar.apply(i,arguments)}const Eg=new Date,Ag=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const d=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return d;let f;do d.push(f=new Date(+o)),e(o,c),t(o);while(f<o&&o<l);return d},i.filter=o=>Nt(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(Eg.setTime(+o),Ag.setTime(+l),t(Eg),t(Ag),Math.floor(n(Eg,Ag))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const kf=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kf);kf.range;const Jr=1e3,er=Jr*60,Wr=er*60,ei=Wr*24,r0=ei*7,UC=ei*30,xg=ei*365,Ca=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCSeconds());Ca.range;const i0=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jr)},(t,e)=>{t.setTime(+t+e*er)},(t,e)=>(e-t)/er,t=>t.getMinutes());i0.range;const a0=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*er)},(t,e)=>(e-t)/er,t=>t.getUTCMinutes());a0.range;const o0=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jr-t.getMinutes()*er)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getHours());o0.range;const s0=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCHours());s0.range;const lu=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*er)/ei,t=>t.getDate()-1);lu.range;const Sd=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ei,t=>t.getUTCDate()-1);Sd.range;const aN=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ei,t=>Math.floor(t/ei));aN.range;function Ga(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*er)/r0)}const Ed=Ga(0),Lf=Ga(1),cF=Ga(2),fF=Ga(3),os=Ga(4),dF=Ga(5),hF=Ga(6);Ed.range;Lf.range;cF.range;fF.range;os.range;dF.range;hF.range;function Va(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/r0)}const Ad=Va(0),Uf=Va(1),pF=Va(2),mF=Va(3),ss=Va(4),gF=Va(5),vF=Va(6);Ad.range;Uf.range;pF.range;mF.range;ss.range;gF.range;vF.range;const l0=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());l0.range;const u0=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());u0.range;const ti=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ti.range;const ni=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ni.range;function oN(t,e,n,r,i,o){const l=[[Ca,1,Jr],[Ca,5,5*Jr],[Ca,15,15*Jr],[Ca,30,30*Jr],[o,1,er],[o,5,5*er],[o,15,15*er],[o,30,30*er],[i,1,Wr],[i,3,3*Wr],[i,6,6*Wr],[i,12,12*Wr],[r,1,ei],[r,2,2*ei],[n,1,r0],[e,1,UC],[e,3,3*UC],[t,1,xg]];function c(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const w=m&&typeof m.range=="function"?m:d(f,h,m),E=w?w.range(f,+h+1):[];return y?E.reverse():E}function d(f,h,m){const y=Math.abs(h-f)/m,w=Gy(([,,A])=>A).right(l,y);if(w===l.length)return t.every(jv(f/xg,h/xg,m));if(w===0)return kf.every(Math.max(jv(f,h,m),1));const[E,S]=l[y/l[w-1][2]<l[w][2]/y?w-1:w];return E.every(S)}return[c,d]}const[yF,bF]=oN(ni,u0,Ad,aN,s0,a0),[_F,wF]=oN(ti,l0,Ed,lu,o0,i0);function Tg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function SF(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=Ml(i),h=Pl(i),m=Ml(o),y=Pl(o),w=Ml(l),E=Pl(l),S=Ml(c),A=Pl(c),P=Ml(d),C=Pl(d),O={a:te,A:se,b:ge,B:Oe,c:null,d:HC,e:HC,f:VF,g:tK,G:rK,H:zF,I:HF,j:GF,L:sN,m:FF,M:KF,p:q,q:F,Q:FC,s:KC,S:YF,u:JF,U:WF,V:XF,w:QF,W:ZF,x:null,X:null,y:eK,Y:nK,Z:iK,"%":VC},D={a:oe,A:le,b:pe,B:Te,c:null,d:GC,e:GC,f:lK,g:yK,G:_K,H:aK,I:oK,j:sK,L:uN,m:uK,M:cK,p:ke,q:$t,Q:FC,s:KC,S:fK,u:dK,U:hK,V:pK,w:mK,W:gK,x:null,X:null,y:vK,Y:bK,Z:wK,"%":VC},I={a:X,A:V,b:Y,B:ne,c:ie,d:$C,e:$C,f:BF,g:jC,G:qC,H:zC,I:zC,j:IF,L:UF,m:DF,M:kF,p:U,q:RF,Q:jF,s:$F,S:LF,u:CF,U:MF,V:PF,w:TF,W:OF,x:ve,X:$,y:jC,Y:qC,Z:NF,"%":qF};O.x=R(n,O),O.X=R(r,O),O.c=R(e,O),D.x=R(n,D),D.X=R(r,D),D.c=R(e,D);function R(ae,Ee){return function(Ce){var re=[],zt=-1,Ie=0,Ht=ae.length,Gt,Cr,Cs;for(Ce instanceof Date||(Ce=new Date(+Ce));++zt<Ht;)ae.charCodeAt(zt)===37&&(re.push(ae.slice(Ie,zt)),(Cr=BC[Gt=ae.charAt(++zt)])!=null?Gt=ae.charAt(++zt):Cr=Gt==="e"?" ":"0",(Cs=Ee[Gt])&&(Gt=Cs(Ce,Cr)),re.push(Gt),Ie=zt+1);return re.push(ae.slice(Ie,zt)),re.join("")}}function k(ae,Ee){return function(Ce){var re=Cl(1900,void 0,1),zt=G(re,ae,Ce+="",0),Ie,Ht;if(zt!=Ce.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ie=Cg(Cl(re.y,0,1)),Ht=Ie.getUTCDay(),Ie=Ht>4||Ht===0?Uf.ceil(Ie):Uf(Ie),Ie=Sd.offset(Ie,(re.V-1)*7),re.y=Ie.getUTCFullYear(),re.m=Ie.getUTCMonth(),re.d=Ie.getUTCDate()+(re.w+6)%7):(Ie=Tg(Cl(re.y,0,1)),Ht=Ie.getDay(),Ie=Ht>4||Ht===0?Lf.ceil(Ie):Lf(Ie),Ie=lu.offset(Ie,(re.V-1)*7),re.y=Ie.getFullYear(),re.m=Ie.getMonth(),re.d=Ie.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Ht="Z"in re?Cg(Cl(re.y,0,1)).getUTCDay():Tg(Cl(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Ht+5)%7:re.w+re.U*7-(Ht+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Cg(re)):Tg(re)}}function G(ae,Ee,Ce,re){for(var zt=0,Ie=Ee.length,Ht=Ce.length,Gt,Cr;zt<Ie;){if(re>=Ht)return-1;if(Gt=Ee.charCodeAt(zt++),Gt===37){if(Gt=Ee.charAt(zt++),Cr=I[Gt in BC?Ee.charAt(zt++):Gt],!Cr||(re=Cr(ae,Ce,re))<0)return-1}else if(Gt!=Ce.charCodeAt(re++))return-1}return re}function U(ae,Ee,Ce){var re=f.exec(Ee.slice(Ce));return re?(ae.p=h.get(re[0].toLowerCase()),Ce+re[0].length):-1}function X(ae,Ee,Ce){var re=w.exec(Ee.slice(Ce));return re?(ae.w=E.get(re[0].toLowerCase()),Ce+re[0].length):-1}function V(ae,Ee,Ce){var re=m.exec(Ee.slice(Ce));return re?(ae.w=y.get(re[0].toLowerCase()),Ce+re[0].length):-1}function Y(ae,Ee,Ce){var re=P.exec(Ee.slice(Ce));return re?(ae.m=C.get(re[0].toLowerCase()),Ce+re[0].length):-1}function ne(ae,Ee,Ce){var re=S.exec(Ee.slice(Ce));return re?(ae.m=A.get(re[0].toLowerCase()),Ce+re[0].length):-1}function ie(ae,Ee,Ce){return G(ae,e,Ee,Ce)}function ve(ae,Ee,Ce){return G(ae,n,Ee,Ce)}function $(ae,Ee,Ce){return G(ae,r,Ee,Ce)}function te(ae){return l[ae.getDay()]}function se(ae){return o[ae.getDay()]}function ge(ae){return d[ae.getMonth()]}function Oe(ae){return c[ae.getMonth()]}function q(ae){return i[+(ae.getHours()>=12)]}function F(ae){return 1+~~(ae.getMonth()/3)}function oe(ae){return l[ae.getUTCDay()]}function le(ae){return o[ae.getUTCDay()]}function pe(ae){return d[ae.getUTCMonth()]}function Te(ae){return c[ae.getUTCMonth()]}function ke(ae){return i[+(ae.getUTCHours()>=12)]}function $t(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ee=R(ae+="",O);return Ee.toString=function(){return ae},Ee},parse:function(ae){var Ee=k(ae+="",!1);return Ee.toString=function(){return ae},Ee},utcFormat:function(ae){var Ee=R(ae+="",D);return Ee.toString=function(){return ae},Ee},utcParse:function(ae){var Ee=k(ae+="",!0);return Ee.toString=function(){return ae},Ee}}}var BC={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,EF=/^%/,AF=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function xF(t){return t.replace(AF,"\\$&")}function Ml(t){return new RegExp("^(?:"+t.map(xF).join("|")+")","i")}function Pl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function TF(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function CF(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function MF(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function PF(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function OF(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function qC(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function NF(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function RF(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function DF(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $C(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function IF(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kF(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function LF(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function UF(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function BF(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qF(t,e,n){var r=EF.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jF(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $F(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HC(t,e){return qe(t.getDate(),e,2)}function zF(t,e){return qe(t.getHours(),e,2)}function HF(t,e){return qe(t.getHours()%12||12,e,2)}function GF(t,e){return qe(1+lu.count(ti(t),t),e,3)}function sN(t,e){return qe(t.getMilliseconds(),e,3)}function VF(t,e){return sN(t,e)+"000"}function FF(t,e){return qe(t.getMonth()+1,e,2)}function KF(t,e){return qe(t.getMinutes(),e,2)}function YF(t,e){return qe(t.getSeconds(),e,2)}function JF(t){var e=t.getDay();return e===0?7:e}function WF(t,e){return qe(Ed.count(ti(t)-1,t),e,2)}function lN(t){var e=t.getDay();return e>=4||e===0?os(t):os.ceil(t)}function XF(t,e){return t=lN(t),qe(os.count(ti(t),t)+(ti(t).getDay()===4),e,2)}function QF(t){return t.getDay()}function ZF(t,e){return qe(Lf.count(ti(t)-1,t),e,2)}function eK(t,e){return qe(t.getFullYear()%100,e,2)}function tK(t,e){return t=lN(t),qe(t.getFullYear()%100,e,2)}function nK(t,e){return qe(t.getFullYear()%1e4,e,4)}function rK(t,e){var n=t.getDay();return t=n>=4||n===0?os(t):os.ceil(t),qe(t.getFullYear()%1e4,e,4)}function iK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function GC(t,e){return qe(t.getUTCDate(),e,2)}function aK(t,e){return qe(t.getUTCHours(),e,2)}function oK(t,e){return qe(t.getUTCHours()%12||12,e,2)}function sK(t,e){return qe(1+Sd.count(ni(t),t),e,3)}function uN(t,e){return qe(t.getUTCMilliseconds(),e,3)}function lK(t,e){return uN(t,e)+"000"}function uK(t,e){return qe(t.getUTCMonth()+1,e,2)}function cK(t,e){return qe(t.getUTCMinutes(),e,2)}function fK(t,e){return qe(t.getUTCSeconds(),e,2)}function dK(t){var e=t.getUTCDay();return e===0?7:e}function hK(t,e){return qe(Ad.count(ni(t)-1,t),e,2)}function cN(t){var e=t.getUTCDay();return e>=4||e===0?ss(t):ss.ceil(t)}function pK(t,e){return t=cN(t),qe(ss.count(ni(t),t)+(ni(t).getUTCDay()===4),e,2)}function mK(t){return t.getUTCDay()}function gK(t,e){return qe(Uf.count(ni(t)-1,t),e,2)}function vK(t,e){return qe(t.getUTCFullYear()%100,e,2)}function yK(t,e){return t=cN(t),qe(t.getUTCFullYear()%100,e,2)}function bK(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function _K(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ss(t):ss.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function wK(){return"+0000"}function VC(){return"%"}function FC(t){return+t}function KC(t){return Math.floor(+t/1e3)}var Ho,fN,dN;SK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SK(t){return Ho=SF(t),fN=Ho.format,Ho.parse,dN=Ho.utcFormat,Ho.utcParse,Ho}function EK(t){return new Date(t)}function AK(t){return t instanceof Date?+t:+new Date(+t)}function c0(t,e,n,r,i,o,l,c,d,f){var h=Wy(),m=h.invert,y=h.domain,w=f(".%L"),E=f(":%S"),S=f("%I:%M"),A=f("%I %p"),P=f("%a %d"),C=f("%b %d"),O=f("%B"),D=f("%Y");function I(R){return(d(R)<R?w:c(R)<R?E:l(R)<R?S:o(R)<R?A:r(R)<R?i(R)<R?P:C:n(R)<R?O:D)(R)}return h.invert=function(R){return new Date(m(R))},h.domain=function(R){return arguments.length?y(Array.from(R,AK)):y().map(EK)},h.ticks=function(R){var k=y();return t(k[0],k[k.length-1],R??10)},h.tickFormat=function(R,k){return k==null?I:f(k)},h.nice=function(R){var k=y();return(!R||typeof R.range!="function")&&(R=e(k[0],k[k.length-1],R??10)),R?y(QO(k,R)):h},h.copy=function(){return su(h,c0(t,e,n,r,i,o,l,c,d,f))},h}function xK(){return ar.apply(c0(_F,wF,ti,l0,Ed,lu,o0,i0,Ca,fN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TK(){return ar.apply(c0(yF,bF,ni,u0,Ad,Sd,s0,a0,Ca,dN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xd(){var t=0,e=1,n,r,i,o,l=sn,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(o(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(y){var w,E;return arguments.length?([w,E]=y,l=m(w,E),f):[l(0),l(1)]}}return f.range=h(ys),f.rangeRound=h(Jy),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Yi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hN(){var t=Ki(xd()(sn));return t.copy=function(){return Yi(t,hN())},oi.apply(t,arguments)}function pN(){var t=Zy(xd()).domain([1,10]);return t.copy=function(){return Yi(t,pN()).base(t.base())},oi.apply(t,arguments)}function mN(){var t=e0(xd());return t.copy=function(){return Yi(t,mN()).constant(t.constant())},oi.apply(t,arguments)}function f0(){var t=t0(xd());return t.copy=function(){return Yi(t,f0()).exponent(t.exponent())},oi.apply(t,arguments)}function CK(){return f0.apply(null,arguments).exponent(.5)}function gN(){var t=[],e=sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((au(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>dV(t,o/r))},n.copy=function(){return gN(e).domain(t)},oi.apply(n,arguments)}function Td(){var t=0,e=.5,n=1,r=1,i,o,l,c,d,f=sn,h,m=!1,y;function w(S){return isNaN(S=+S)?y:(S=.5+((S=+h(S))-o)*(r*S<r*o?c:d),f(m?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),o=h(e=+e),l=h(n=+n),c=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(m=!!S,w):m},w.interpolator=function(S){return arguments.length?(f=S,w):f};function E(S){return function(A){var P,C,O;return arguments.length?([P,C,O]=A,f=qV(S,[P,C,O]),w):[f(0),f(.5),f(1)]}}return w.range=E(ys),w.rangeRound=E(Jy),w.unknown=function(S){return arguments.length?(y=S,w):y},function(S){return h=S,i=S(t),o=S(e),l=S(n),c=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,w}}function vN(){var t=Ki(Td()(sn));return t.copy=function(){return Yi(t,vN())},oi.apply(t,arguments)}function yN(){var t=Zy(Td()).domain([.1,1,10]);return t.copy=function(){return Yi(t,yN()).base(t.base())},oi.apply(t,arguments)}function bN(){var t=e0(Td());return t.copy=function(){return Yi(t,bN()).constant(t.constant())},oi.apply(t,arguments)}function d0(){var t=t0(Td());return t.copy=function(){return Yi(t,d0()).exponent(t.exponent())},oi.apply(t,arguments)}function MK(){return d0.apply(null,arguments).exponent(.5)}const Dl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fy,scaleDiverging:vN,scaleDivergingLog:yN,scaleDivergingPow:d0,scaleDivergingSqrt:MK,scaleDivergingSymlog:bN,scaleIdentity:XO,scaleImplicit:$v,scaleLinear:WO,scaleLog:ZO,scaleOrdinal:Vy,scalePoint:mV,scalePow:n0,scaleQuantile:nN,scaleQuantize:rN,scaleRadial:tN,scaleSequential:hN,scaleSequentialLog:pN,scaleSequentialPow:f0,scaleSequentialQuantile:gN,scaleSequentialSqrt:CK,scaleSequentialSymlog:mN,scaleSqrt:lF,scaleSymlog:eN,scaleThreshold:iN,scaleTime:xK,scaleUtc:TK,tickFormat:JO},Symbol.toStringTag,{value:"Module"}));var Ji=t=>t.chartData,h0=J([Ji],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),p0=(t,e,n,r)=>r?h0(t):Ji(t);function ls(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Un(e)&&Un(n))return!0}return!1}function YC(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function PK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Un(n))i=n;else if(typeof n=="function")return;if(Un(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ls(l))return l}}function OK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ls(r))return YC(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(_e(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&BT.test(i)){var d=BT.exec(i);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(_e(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&qT.test(o)){var h=qT.exec(o);if(h==null||e==null)c=void 0;else{var m=+h[1];c=e[1]+m}}else c=e==null?void 0:e[1];var y=[l,c];if(ls(y))return e==null?y:YC(y,e,n)}}}var bs=1e9,NK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g0,st=!0,ir="[DecimalError] ",Na=ir+"Invalid argument: ",m0=ir+"Exponent out of range: ",_s=Math.floor,_a=Math.pow,RK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Lt=1e7,it=7,_N=9007199254740991,Bf=_s(_N/it),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return Qr(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return Xe(Qr(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return At(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(In))throw Error(ir+"NaN");if(n.s<1)throw Error(ir+(n.s?"NaN":"-Infinity"));return n.eq(In)?new r(0):(st=!1,e=Qr(Jl(n,o),Jl(t,o),o),st=!0,Xe(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EN(e,t):wN(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ir+"NaN");return n.s?(st=!1,e=Qr(n,t,0,1).times(t),st=!0,n.minus(e)):Xe(new r(n),i)};ue.naturalExponential=ue.exp=function(){return SN(this)};ue.naturalLogarithm=ue.ln=function(){return Jl(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wN(e,t):EN(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Na+t);if(e=At(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,o,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ir+"NaN")}for(t=At(c),st=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Sr(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_s((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(Qr(c,o,l+2)).times(.5),Sr(o.d).slice(0,l)===(e=Sr(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Xe(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return st=!0,Xe(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,o,l,c,d,f,h=this,m=h.constructor,y=h.d,w=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,d=y.length,f=w.length,d<f&&(o=y,y=w,w=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=o[i]+w[r]*y[i-r-1]+e,o[i--]=c%Lt|0,e=c/Lt|0;o[i]=(o[i]+e)%Lt|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,st?Xe(t,m.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xr(t,0,bs),e===void 0?e=r.rounding:xr(e,0,8),Xe(n,t+At(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=La(r,!0):(xr(t,0,bs),e===void 0?e=i.rounding:xr(e,0,8),r=Xe(new i(r),t+1,e),n=La(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?La(i):(xr(t,0,bs),e===void 0?e=o.rounding:xr(e,0,8),r=Xe(new o(i),t+At(i)+1,e),n=La(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return Xe(new e(t),At(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,o,l,c=this,d=c.constructor,f=12,h=+(t=new d(t));if(!t.s)return new d(In);if(c=new d(c),!c.s){if(t.s<1)throw Error(ir+"Infinity");return c}if(c.eq(In))return c;if(r=d.precision,t.eq(In))return Xe(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=h<0?-h:h)<=_N){for(i=new d(In),e=Math.ceil(r/it+4),st=!1;n%2&&(i=i.times(c),WC(i.d,e)),n=_s(n/2),n!==0;)c=c.times(c),WC(c.d,e);return st=!0,t.s<0?new d(In).div(i):Xe(i,r)}}else if(o<0)throw Error(ir+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,st=!1,i=t.times(Jl(c,r+f)),st=!0,i=SN(i),i.s=o,i};ue.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=La(i,n<=o.toExpNeg||n>=o.toExpPos)):(xr(t,1,bs),e===void 0?e=o.rounding:xr(e,0,8),i=Xe(new o(i),t,e),n=At(i),r=La(i,t<=n||n<=o.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xr(t,1,bs),e===void 0?e=r.rounding:xr(e,0,8)),Xe(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return La(t,e<=n.toExpNeg||e>=n.toExpPos)};function wN(t,e){var n,r,i,o,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),st?Xe(e,m):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(m/it),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=d.length,o=f.length,c-o<0&&(o=c,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/Lt|0,d[o]%=Lt;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,st?Xe(e,m):e}function xr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Na+t)}function Sr(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(o+=Ui(n)),o+=r;l=t[e],r=l+"",n=it-r.length,n&&(o+=Ui(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Qr=(function(){function t(r,i){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+l,r[c]=o%Lt|0,l=o/Lt|0;return l&&r.unshift(l),r}function e(r,i,o,l){var c,d;if(o!=l)d=o>l?1:-1;else for(c=d=0;c<o;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Lt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var c,d,f,h,m,y,w,E,S,A,P,C,O,D,I,R,k,G,U=r.constructor,X=r.s==i.s?1:-1,V=r.d,Y=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(ir+"Division by zero");for(d=r.e-i.e,k=Y.length,I=V.length,w=new U(X),E=w.d=[],f=0;Y[f]==(V[f]||0);)++f;if(Y[f]>(V[f]||0)&&--d,o==null?C=o=U.precision:l?C=o+(At(r)-At(i))+1:C=o,C<0)return new U(0);if(C=C/it+2|0,f=0,k==1)for(h=0,Y=Y[0],C++;(f<I||h)&&C--;f++)O=h*Lt+(V[f]||0),E[f]=O/Y|0,h=O%Y|0;else{for(h=Lt/(Y[0]+1)|0,h>1&&(Y=t(Y,h),V=t(V,h),k=Y.length,I=V.length),D=k,S=V.slice(0,k),A=S.length;A<k;)S[A++]=0;G=Y.slice(),G.unshift(0),R=Y[0],Y[1]>=Lt/2&&++R;do h=0,c=e(Y,S,k,A),c<0?(P=S[0],k!=A&&(P=P*Lt+(S[1]||0)),h=P/R|0,h>1?(h>=Lt&&(h=Lt-1),m=t(Y,h),y=m.length,A=S.length,c=e(m,S,y,A),c==1&&(h--,n(m,k<y?G:Y,y))):(h==0&&(c=h=1),m=Y.slice()),y=m.length,y<A&&m.unshift(0),n(S,m,A),c==-1&&(A=S.length,c=e(Y,S,k,A),c<1&&(h++,n(S,k<A?G:Y,A))),A=S.length):c===0&&(h++,S=[0]),E[f++]=h,c&&S[0]?S[A++]=V[D]||0:(S=[V[D]],A=1);while((D++<I||S[0]!==void 0)&&C--)}return E[0]||E.shift(),w.e=d,Xe(w,l?o+At(w)+1:o)}})();function SN(t,e){var n,r,i,o,l,c,d=0,f=0,h=t.constructor,m=h.precision;if(At(t)>16)throw Error(m0+At(t));if(!t.s)return new h(In);for(st=!1,c=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(_a(2,f))/Math.LN10*2+5|0,c+=r,n=i=o=new h(In),h.precision=c;;){if(i=Xe(i.times(t),c),n=n.times(++d),l=o.plus(Qr(i,n,c)),Sr(l.d).slice(0,c)===Sr(o.d).slice(0,c)){for(;f--;)o=Xe(o.times(o),c);return h.precision=m,e==null?(st=!0,Xe(o,m)):o}o=l}}function At(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function Mg(t,e,n){if(e>t.LN10.sd())throw st=!0,n&&(t.precision=n),Error(ir+"LN10 precision limit exceeded");return Xe(new t(t.LN10),e)}function Ui(t){for(var e="";t--;)e+="0";return e}function Jl(t,e){var n,r,i,o,l,c,d,f,h,m=1,y=10,w=t,E=w.d,S=w.constructor,A=S.precision;if(w.s<1)throw Error(ir+(w.s?"NaN":"-Infinity"));if(w.eq(In))return new S(0);if(e==null?(st=!1,f=A):f=e,w.eq(10))return e==null&&(st=!0),Mg(S,f);if(f+=y,S.precision=f,n=Sr(E),r=n.charAt(0),o=At(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Sr(w.d),r=n.charAt(0),m++;o=At(w),r>1?(w=new S("0."+n),o++):w=new S(r+"."+n.slice(1))}else return d=Mg(S,f+2,A).times(o+""),w=Jl(new S(r+"."+n.slice(1)),f-y).plus(d),S.precision=A,e==null?(st=!0,Xe(w,A)):w;for(c=l=w=Qr(w.minus(In),w.plus(In),f),h=Xe(w.times(w),f),i=3;;){if(l=Xe(l.times(h),f),d=c.plus(Qr(l,new S(i),f)),Sr(d.d).slice(0,f)===Sr(c.d).slice(0,f))return c=c.times(2),o!==0&&(c=c.plus(Mg(S,f+2,A).times(o+""))),c=Qr(c,new S(m),f),S.precision=A,e==null?(st=!0,Xe(c,A)):c;c=d,i+=2}}function JC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=_s(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),st&&(t.e>Bf||t.e<-Bf))throw Error(m0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xe(t,e,n){var r,i,o,l,c,d,f,h,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=it,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/it),o=m.length,h>=o)return t;for(f=o=m[h],l=1;o>=10;o/=10)l++;r%=it,i=r-it+l}if(n!==void 0&&(o=_a(10,l-i-1),c=f/o%10|0,d=e<0||m[h+1]!==void 0||f%o,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/_a(10,l-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(o=At(t),m.length=1,e=e-o-1,m[0]=_a(10,(it-e%it)%it),t.e=_s(-e/it)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=_a(10,it-r),m[h]=i>0?(f/_a(10,l-i)%_a(10,i)|0)*o:0),d)for(;;)if(h==0){(m[0]+=o)==Lt&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=Lt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(st&&(t.e>Bf||t.e<-Bf))throw Error(m0+At(t));return t}function EN(t,e){var n,r,i,o,l,c,d,f,h,m,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),st?Xe(e,w):e;if(d=t.d,m=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,c=m.length):(n=m,r=f,c=d.length),i=Math.max(Math.ceil(w/it),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=m.length,h=i<c,h&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(n=d,d=m,m=n,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=Lt-1;--d[o],d[i]+=Lt}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,st?Xe(e,w):e):new y(0)}function La(t,e,n){var r,i=At(t),o=Sr(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ui(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ui(-i-1)+o,n&&(r=n-l)>0&&(o+=Ui(r))):i>=l?(o+=Ui(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Ui(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Ui(r))),t.s<0?"-"+o:o}function WC(t,e){if(t.length>e)return t.length=e,!0}function AN(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Na+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return JC(l,o.toString())}else if(typeof o!="string")throw Error(Na+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,RK.test(o))JC(l,o);else throw Error(Na+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AN,i.config=i.set=DK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function DK(t){if(!t||typeof t!="object")throw Error(ir+"Object expected");var e,n,r,i=["precision",1,bs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(_s(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Na+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Na+n+": "+r);return this}var g0=AN(NK);In=new g0(1);const Ge=g0;var IK=t=>t,xN={},TN=t=>t===xN,XC=t=>function e(){return arguments.length===0||arguments.length===1&&TN(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},CN=(t,e)=>t===1?e:XC(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==xN).length;return o>=t?e(...r):CN(t-o,XC(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(h=>TN(h)?c.shift():h);return e(...f,...c)}))}),Cd=t=>CN(t.length,t),Vv=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},kK=Cd((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),LK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return IK;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),o(...arguments))}},Fv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),MN=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((l,c)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,n=t(...i)),n}};function PN(t){var e;return t===0?e=1:e=Math.floor(new Ge(t).abs().log(10).toNumber())+1,e}function ON(t,e,n){for(var r=new Ge(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Cd((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Cd((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Cd((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var NN=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},RN=(t,e,n)=>{if(t.lte(0))return new Ge(0);var r=PN(t.toNumber()),i=new Ge(10).pow(r),o=t.div(i),l=r!==1?.05:.1,c=new Ge(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new Ge(d.toNumber()):new Ge(Math.ceil(d.toNumber()))},UK=(t,e,n)=>{var r=new Ge(1),i=new Ge(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ge(10).pow(PN(t)-1),i=new Ge(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ge(Math.floor(t)))}else t===0?i=new Ge(Math.floor((e-1)/2)):n||(i=new Ge(Math.floor(t)));var l=Math.floor((e-1)/2),c=LK(kK(d=>i.add(new Ge(d-l).mul(r)).toNumber()),Vv);return c(0,e)},DN=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var l=RN(new Ge(n).sub(e).div(r-1),i,o),c;e<=0&&n>=0?c=new Ge(0):(c=new Ge(e).add(n).div(2),c=c.sub(new Ge(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Ge(n).sub(c).div(l).toNumber()),h=d+f+1;return h>r?DN(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:c.sub(new Ge(d).mul(l)),tickMax:c.add(new Ge(f).mul(l))})};function BK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=NN([e,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Vv(0,r-1).map(()=>1/0)]:[...Vv(0,r-1).map(()=>-1/0),c];return e>n?Fv(d):d}if(l===c)return UK(l,r,i);var{step:f,tickMin:h,tickMax:m}=DN(l,c,o,i,0),y=ON(h,m.add(new Ge(.1).mul(f)),f);return e>n?Fv(y):y}function qK(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=NN([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(e,2),d=RN(new Ge(l).sub(o).div(c-1),i,0),f=[...ON(new Ge(o),new Ge(l),d),l];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?Fv(f):f}var jK=MN(BK),$K=MN(qK),IN=t=>t.rootProps.maxBarSize,zK=t=>t.rootProps.barGap,kN=t=>t.rootProps.barCategoryGap,HK=t=>t.rootProps.barSize,uu=t=>t.rootProps.stackOffset,v0=t=>t.options.chartName,y0=t=>t.rootProps.syncId,LN=t=>t.rootProps.syncMethod,b0=t=>t.options.eventEmitter,Kr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Md=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},GK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Kr.angleAxisId,includeHidden:!1,name:void 0,reversed:Kr.reversed,scale:Kr.scale,tick:Kr.tick,tickCount:void 0,ticks:void 0,type:Kr.type,unit:void 0},VK={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,ticks:void 0,type:Dn.type,unit:void 0},FK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},KK={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,ticks:void 0,type:"category",unit:void 0},_0=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?FK:GK,w0=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?KK:VK,Pd=t=>t.polarOptions,S0=J([ii,ai,Ot],bO),UN=J([Pd,S0],(t,e)=>{if(t!=null)return rn(t.innerRadius,e,0)}),BN=J([Pd,S0],(t,e)=>{if(t!=null)return rn(t.outerRadius,e,e*.8)}),YK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},qN=J([Pd],YK);J([_0,qN],Md);var jN=J([S0,UN,BN],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([w0,jN],Md);var $N=J([je,Pd,UN,BN,ii,ai],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:rn(l,i,i/2),cy:rn(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),lt=(t,e)=>e,cu=(t,e,n)=>n;function E0(t){return t==null?void 0:t.id}var Rt=t=>{var e=je(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ws=t=>t.tooltip.settings.axisId,jt=t=>{var e=Rt(t),n=ws(t);return fu(t,e,n)},zN=J([jt],t=>t==null?void 0:t.dataKey);function HN(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=E0(c);f.forEach((m,y)=>{var w=o==null||i?y:String(ut(m,o,null)),E=ut(m,c.dataKey,0),S;l.has(w)?S=l.get(w):S={},Object.assign(S,{[h]:E}),l.set(w,S)})}}),Array.from(l.values())}function Od(t){return t.stackId!=null&&t.dataKey!=null}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){JK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JK(t,e,n){return(e=WK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WK(t){var e=XK(t,"string");return typeof e=="symbol"?e:e+""}function XK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kv=[0,"auto"],Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},GN=(t,e)=>t.cartesianAxis.xAxis[e],si=(t,e)=>{var n=GN(t,e);return n??Nn},Rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Kv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iu},VN=(t,e)=>t.cartesianAxis.yAxis[e],li=(t,e)=>{var n=VN(t,e);return n??Rn},QK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},A0=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??QK},gt=(t,e,n)=>{switch(e){case"xAxis":return si(t,n);case"yAxis":return li(t,n);case"zAxis":return A0(t,n);case"angleAxis":return _0(t,n);case"radiusAxis":return w0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ZK=(t,e,n)=>{switch(e){case"xAxis":return si(t,n);case"yAxis":return li(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fu=(t,e,n)=>{switch(e){case"xAxis":return si(t,n);case"yAxis":return li(t,n);case"angleAxis":return _0(t,n);case"radiusAxis":return w0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},FN=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function x0(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var T0=t=>t.graphicalItems.cartesianItems,e9=J([lt,cu],x0),C0=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),du=J([T0,gt,e9],C0),KN=J([du],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Od)),YN=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),JN=J([du],YN),M0=t=>t.map(e=>e.data).filter(Boolean).flat(1),t9=J([du],M0),P0=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},O0=J([t9,p0],P0),N0=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:ut(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:ut(i,r)}))):t.map(r=>({value:r})),Nd=J([O0,gt,du],N0);function WN(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Fa(t){return t.filter(e=>Ar(e)||e instanceof Date).map(Number).filter(e=>nr(e)===!1)}function n9(t,e,n){return!n||typeof e!="number"||nr(e)?[]:n.length?Fa(n.flatMap(r=>{var i=ut(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Un(o)||!Un(l)))return[e-o,e+l]})):[]}var r9=J([KN,p0,jt],HN),XN=(t,e,n)=>{var r={},i=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,d=c.map(E0);return[l,{stackedData:o8(t,d,n),graphicalItems:c}]}))},Yv=J([r9,KN,uu],XN),QN=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=f8(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},i9=J([Yv,Ji,lt],QN),ZN=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(m=>WN(i,m)),h=ut(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:h,errorDomain:n9(o,h,f)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:ut(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),Rd=t=>t.errorBars,eR=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>WN(n,r));J([JN,Rd,lt],eR);var a9=J([O0,gt,JN,Rd,lt],ZN);function o9(t){var{value:e}=t;if(Ar(e)||e instanceof Date)return e}var ZC=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Fa(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},s9=(t,e,n)=>{var r=t.map(o9).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&hP(r))?qO(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},R0=t=>{var e;if(t==null||!("domain"in t))return Kv;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Fa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Kv},jf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},tR=t=>t.referenceElements.dots,Ss=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),l9=J([tR,lt,cu],Ss),nR=t=>t.referenceElements.areas,u9=J([nR,lt,cu],Ss),rR=t=>t.referenceElements.lines,c9=J([rR,lt,cu],Ss),iR=(t,e)=>{var n=Fa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},f9=J(l9,lt,iR),aR=(t,e)=>{var n=Fa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},d9=J([u9,lt],aR),oR=(t,e)=>{var n=Fa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},h9=J(c9,lt,oR),p9=J(f9,h9,d9,(t,e,n)=>jf(t,n,e)),sR=J([gt],R0),D0=(t,e,n,r,i,o,l)=>{var c=PK(e,t.allowDataOverflow);if(c!=null)return c;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=d?jf(n,i,ZC(r)):jf(i,ZC(r));return OK(e,f,t.allowDataOverflow)},m9=J([gt,sR,i9,a9,p9,je,lt],D0),g9=[0,1],I0=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=za(e,o);return f&&c==null?qO(0,n.length):d==="category"?s9(r,t,f):i==="expand"?g9:l}},k0=J([gt,je,O0,Nd,uu,lt,m9],I0),lR=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(eu(o));return c in Dl?c:"point"}}},Es=J([gt,je,FN,v0,lt],lR);function v9(t){if(t!=null){if(t in Dl)return Dl[t]();var e="scale".concat(eu(t));if(e in Dl)return Dl[e]()}}function L0(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=v9(e);if(i!=null){var o=i.domain(n).range(r);return t8(o),o}}}var U0=(t,e,n)=>{var r=R0(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ls(t))return jK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ls(t))return $K(t,e.tickCount,e.allowDecimals)}},B0=J([k0,fu,Es],U0),q0=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ls(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,o),Math.max(l,c)]}return e},y9=J([gt,k0,B0,lt],q0),b9=J(Nd,gt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Fa(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),uR=J(b9,je,kN,Ot,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Un(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=rn(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),_9=(t,e)=>{var n=si(t,e);return n==null||typeof n.padding!="string"?0:uR(t,"xAxis",e,n.padding)},w9=(t,e)=>{var n=li(t,e);return n==null||typeof n.padding!="string"?0:uR(t,"yAxis",e,n.padding)},S9=J(si,_9,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),E9=J(li,w9,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),A9=J([Ot,S9,vd,gd,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),x9=J([Ot,je,E9,vd,gd,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hu=(t,e,n,r)=>{var i;switch(e){case"xAxis":return A9(t,n,r);case"yAxis":return x9(t,n,r);case"zAxis":return(i=A0(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return qN(t);case"radiusAxis":return jN(t,n);default:return}},cR=J([gt,hu],Md),As=J([gt,Es,y9,cR],L0);J([du,Rd,lt],eR);function fR(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Dd=(t,e)=>e,Id=(t,e,n)=>n,T9=J(pd,Dd,Id,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(fR)),C9=J(md,Dd,Id,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(fR)),dR=(t,e)=>({width:t.width,height:e.height}),M9=(t,e)=>{var n=typeof e.width=="number"?e.width:iu;return{width:n,height:t.height}},hR=J(Ot,si,dR),P9=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},O9=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},N9=J(ai,Ot,T9,Dd,Id,(t,e,n,r,i)=>{var o={},l;return n.forEach(c=>{var d=dR(e,c);l==null&&(l=P9(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),R9=J(ii,Ot,C9,Dd,Id,(t,e,n,r,i)=>{var o={},l;return n.forEach(c=>{var d=M9(e,c);l==null&&(l=O9(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),D9=(t,e)=>{var n=si(t,e);if(n!=null)return N9(t,n.orientation,n.mirror)},I9=J([Ot,si,D9,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),k9=(t,e)=>{var n=li(t,e);if(n!=null)return R9(t,n.orientation,n.mirror)},L9=J([Ot,li,k9,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),pR=J(Ot,li,(t,e)=>{var n=typeof e.width=="number"?e.width:iu;return{width:n,height:t.height}}),e1=(t,e,n)=>{switch(e){case"xAxis":return hR(t,n).width;case"yAxis":return pR(t,n).height;default:return}},mR=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,c=za(t,r),d=e.map(f=>f.value);if(l&&c&&o==="category"&&i&&hP(d))return d}},j0=J([je,Nd,gt,lt],mR),gR=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=za(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(c=>c.value)}},$0=J([je,Nd,fu,lt],gR);J([je,ZK,Es,As,j0,$0,hu,B0,lt],(t,e,n,r,i,o,l,c,d)=>{if(e==null)return null;var f=za(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}});var U9=(t,e,n,r,i,o,l,c,d)=>{if(!(e==null||r==null)){var f=za(t,d),{type:h,ticks:m,tickCount:y}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/w:0;E=d==="angleAxis"&&o!=null&&o.length>=2?Zt(o[0]-o[1])*2*E:E;var S=m||i;if(S){var A=S.map((P,C)=>{var O=l?l.indexOf(P):P;return{index:C,coordinate:r(O)+E,value:P,offset:E}});return A.filter(P=>!nr(P.coordinate))}return f&&c?c.map((P,C)=>({coordinate:r(P)+E,value:P,index:C,offset:E})):r.ticks?r.ticks(y).map(P=>({coordinate:r(P)+E,value:P,offset:E})):r.domain().map((P,C)=>({coordinate:r(P)+E,value:l?l[P]:P,index:C,offset:E}))}},vR=J([je,fu,Es,As,B0,hu,j0,$0,lt],U9),B9=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=za(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Zt(r[0]-r[1])*2*f:f,c&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},us=J([je,fu,As,hu,j0,$0,lt],B9),cs=J(gt,As,(t,e)=>{if(!(t==null||e==null))return qf(qf({},t),{},{scale:e})}),q9=J([gt,Es,k0,cR],L0);J((t,e,n)=>A0(t,n),q9,(t,e)=>{if(!(t==null||e==null))return qf(qf({},t),{},{scale:e})});var j9=J([je,pd,md],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yR=t=>t.options.defaultTooltipEventType,bR=t=>t.options.validateTooltipEventTypes;function _R(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function z0(t,e){var n=yR(t),r=bR(t);return _R(e,n,r)}function $9(t){return he(e=>z0(e,t))}var wR=(t,e)=>{var n,r=Number(e);if(!(nr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},z9=t=>t.tooltip.settings,ji={active:!1,index:null,dataKey:void 0,coordinate:void 0},H9={itemInteraction:{click:ji,hover:ji},axisInteraction:{click:ji,hover:ji},keyboardInteraction:ji,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SR=Bn({name:"tooltip",initialState:H9,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Xr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:G9,removeTooltipEntrySettings:V9,setTooltipSettingsState:F9,setActiveMouseOverItemIndex:ER,mouseLeaveItem:K9,mouseLeaveChart:AR,setActiveClickItemIndex:Y9,setMouseOverAxisIndex:xR,setMouseClickAxisIndex:J9,setSyncInteraction:Jv,setKeyboardInteraction:Wv}=SR.actions,W9=SR.reducer;function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){X9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X9(t,e,n){return(e=Q9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t){var e=Z9(t,"string");return typeof e=="symbol"?e:e+""}function Z9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e7(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function t7(t){return t.index!=null}var TR=(t,e,n,r)=>{if(e==null)return ji;var i=e7(t,e,n);if(i==null)return ji;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(t7(i)){if(o)return Qc(Qc({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Qc(Qc({},ji),{},{coordinate:i.coordinate})},H0=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Un(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},CR=(t,e,n,r,i,o,l,c)=>{if(!(o==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},MR=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},pu=t=>t.options.tooltipPayloadSearcher,xs=t=>t.tooltip;function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){n7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n7(t,e,n){return(e=r7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r7(t){var e=i7(t,"string");return typeof e=="symbol"?e:e+""}function i7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a7(t,e){return t??e}var PR=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,m=[];return t.reduce((y,w)=>{var E,{dataDefinedOnItem:S,settings:A}=w,P=a7(S,c),C=Array.isArray(P)?_O(P,f,h):P,O=(E=A==null?void 0:A.dataKey)!==null&&E!==void 0?E:r,D=A==null?void 0:A.nameKey,I;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?I=Gz(C,r,i):I=o(C,e,d,D),Array.isArray(I))I.forEach(k=>{var G=r1(r1({},A),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(jT({tooltipEntrySettings:G,dataKey:k.dataKey,payload:k.payload,value:ut(k.payload,k.dataKey),name:k.name}))});else{var R;y.push(jT({tooltipEntrySettings:A,dataKey:O,payload:I,value:ut(I,O),name:(R=ut(I,D))!==null&&R!==void 0?R:A==null?void 0:A.name}))}return y},m)}},G0=J([jt,je,FN,v0,Rt],lR),o7=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),s7=J([Rt,ws],x0),mu=J([o7,jt,s7],C0),l7=J([mu],t=>t.filter(Od)),u7=J([mu],M0),Ts=J([u7,Ji],P0),c7=J([l7,Ji,jt],HN),V0=J([Ts,jt,mu],N0),f7=J([jt],R0),d7=J([mu],t=>t.filter(Od)),h7=J([c7,d7,uu],XN),p7=J([h7,Ji,Rt],QN),m7=J([mu],YN),g7=J([Ts,jt,m7,Rd,Rt],ZN),v7=J([tR,Rt,ws],Ss),y7=J([v7,Rt],iR),b7=J([nR,Rt,ws],Ss),_7=J([b7,Rt],aR),w7=J([rR,Rt,ws],Ss),S7=J([w7,Rt],oR),E7=J([y7,S7,_7],jf),A7=J([jt,f7,p7,g7,E7,je,Rt],D0),OR=J([jt,je,Ts,V0,uu,Rt,A7],I0),x7=J([OR,jt,G0],U0),T7=J([jt,OR,x7,Rt],q0),NR=t=>{var e=Rt(t),n=ws(t),r=!1;return hu(t,e,n,r)},RR=J([jt,NR],Md),DR=J([jt,G0,T7,RR],L0),C7=J([je,V0,jt,Rt],mR),M7=J([je,V0,jt,Rt],gR),P7=(t,e,n,r,i,o,l,c)=>{if(e){var{type:d}=e,f=za(t,c);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Zt(i[0]-i[1])*2*m:m,f&&l?l.map((y,w)=>({coordinate:r(y)+m,value:y,index:w,offset:m})):r.domain().map((y,w)=>({coordinate:r(y)+m,value:o?o[y]:y,index:w,offset:m}))}}},ui=J([je,jt,G0,DR,NR,C7,M7,Rt],P7),F0=J([yR,bR,z9],(t,e,n)=>_R(n.shared,t,e)),IR=t=>t.tooltip.settings.trigger,K0=t=>t.tooltip.settings.defaultIndex,kd=J([xs,F0,IR,K0],TR),Ua=J([kd,Ts],H0),kR=J([ui,Ua],wR),LR=J([kd],t=>{if(t)return t.dataKey}),UR=J([xs,F0,IR,K0],MR),O7=J([ii,ai,je,Ot,ui,K0,UR,pu],CR),N7=J([kd,O7],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),R7=J([kd],t=>t.active),D7=J([UR,Ua,Ji,zN,kR,pu,F0],PR);J([D7],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){I7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7(t,e,n){return(e=k7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k7(t){var e=L7(t,"string");return typeof e=="symbol"?e:e+""}function L7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U7=()=>he(jt),B7=()=>{var t=U7(),e=he(ui),n=he(DR);return qy(a1(a1({},t),{},{scale:n}),e)},q7=()=>he(v0),Y0=(t,e)=>e,BR=(t,e,n)=>n,J0=(t,e,n,r)=>r,j7=J(ui,t=>sd(t,e=>e.coordinate)),W0=J([xs,Y0,BR,J0],TR),qR=J([W0,Ts],H0),$7=(t,e,n)=>{if(e!=null){var r=xs(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},jR=J([xs,Y0,BR,J0],MR),$f=J([ii,ai,je,Ot,ui,J0,jR,pu],CR),z7=J([W0,$f],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),$R=J(ui,qR,wR),H7=J([jR,qR,Ji,zN,$R,pu,Y0],PR),G7=J([W0],t=>({isActive:t.active,activeIndex:t.index})),V7=(t,e,n,r,i,o,l,c)=>{if(!(!t||!e||!r||!i||!o)){var d=d8(t.chartX,t.chartY,e,n,c);if(d){var f=p8(d,e),h=ZG(f,l,o,r,i),m=h8(e,o,h,d);return{activeIndex:String(h),activeCoordinate:m}}}};function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(null,arguments)}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){F7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F7(t,e,n){return(e=K7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K7(t){var e=Y7(t,"string");return typeof e=="symbol"?e:e+""}function Y7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J7(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,h=e,m=n,y=r;if(!c||!h||f!=="ScatterChart"&&d!=="axis")return null;var w,E;if(f==="ScatterChart")w=h,E=m5;else if(f==="BarChart")w=g5(l,h,i,o),E=kO;else if(l==="radial"){var{cx:S,cy:A,radius:P,startAngle:C,endAngle:O}=LO(h);w={cx:S,cy:A,startAngle:C,endAngle:O,innerRadius:P,outerRadius:P},E=BO}else w={points:J5(l,h,i)},E=OO;var D=typeof c=="object"&&"className"in c?c.className:void 0,I=Zc(Zc(Zc(Zc({stroke:"#ccc",pointerEvents:"none"},i),w),Pt(c,!1)),{},{payload:m,payloadIndex:y,className:Ve("recharts-tooltip-cursor",D)});return T.isValidElement(c)?T.cloneElement(c,I):T.createElement(E,I)}function W7(t){var e=B7(),n=C8(),r=zy(),i=q7();return T.createElement(J7,Xv({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var zR=T.createContext(null),X7=()=>T.useContext(zR),Pg={exports:{}},s1;function Q7(){return s1||(s1=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,m||d,y),E=n?n+f:f;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],w]:d._events[E].push(w):(d._events[E]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,w=m.length,E=new Array(w);y<w;y++)E[y]=m[y].fn;return E},c.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,h,m,y,w,E){var S=n?n+f:f;if(!this._events[S])return!1;var A=this._events[S],P=arguments.length,C,O;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),P){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,y),!0;case 5:return A.fn.call(A.context,h,m,y,w),!0;case 6:return A.fn.call(A.context,h,m,y,w,E),!0}for(O=1,C=new Array(P-1);O<P;O++)C[O-1]=arguments[O];A.fn.apply(A.context,C)}else{var D=A.length,I;for(O=0;O<D;O++)switch(A[O].once&&this.removeListener(f,A[O].fn,void 0,!0),P){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,h);break;case 3:A[O].fn.call(A[O].context,h,m);break;case 4:A[O].fn.call(A[O].context,h,m,y);break;default:if(!C)for(I=1,C=new Array(P-1);I<P;I++)C[I-1]=arguments[I];A[O].fn.apply(A[O].context,C)}}return!0},c.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},c.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},c.prototype.removeListener=function(f,h,m,y){var w=n?n+f:f;if(!this._events[w])return this;if(!h)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===h&&(!y||E.once)&&(!m||E.context===m)&&l(this,w);else{for(var S=0,A=[],P=E.length;S<P;S++)(E[S].fn!==h||y&&!E[S].once||m&&E[S].context!==m)&&A.push(E[S]);A.length?this._events[w]=A.length===1?A[0]:A:l(this,w)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Pg)),Pg.exports}var Z7=Q7();const eY=hr(Z7);var Wl=new eY,Qv="recharts.syncEvent.tooltip",l1="recharts.syncEvent.brush";function HR(t,e){if(e){var n=Number.parseInt(e,10);if(!nr(n))return t==null?void 0:t[n]}}var tY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GR=Bn({name:"options",initialState:tY,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nY=GR.reducer,{createEventEmitter:rY}=GR.actions;function iY(t){return t.tooltip.syncInteraction}var aY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},VR=Bn({name:"chartData",initialState:aY,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:u1,setDataStartEndIndexes:oY,setComputedData:Yee}=VR.actions,sY=VR.reducer,lY=["x","y"];function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){uY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uY(t,e,n){return(e=cY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cY(t){var e=fY(t,"string");return typeof e=="symbol"?e:e+""}function fY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dY(t,e){if(t==null)return{};var n,r,i=hY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FR=()=>{};function pY(){var t=he(y0),e=he(b0),n=ct(),r=he(LN),i=he(ui),o=zy(),l=$y(),c=he(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return FR;var d=(f,h,m)=>{if(e!==m&&t===f){if(r==="index"){var y;if(l&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate){var w=h.payload.coordinate,{x:E,y:S}=w,A=dY(w,lY),P=ga(ga(ga({},A),typeof E=="number"&&{x:Math.max(l.x,Math.min(E,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),C=ga(ga({},h),{},{payload:ga(ga({},h.payload),{},{coordinate:P})});n(C)}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},I=r(i,D);O=i[I]}else r==="value"&&(O=i.find(ne=>String(ne.value)===h.payload.label));var{coordinate:R}=h.payload;if(O==null||h.payload.active===!1||R==null||l==null){n(Jv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:G}=R,U=Math.min(k,l.x+l.width),X=Math.min(G,l.y+l.height),V={x:o==="horizontal"?O.coordinate:U,y:o==="horizontal"?X:O.coordinate},Y=Jv({active:h.payload.active,coordinate:V,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label});n(Y)}}};return Wl.on(Qv,d),()=>{Wl.off(Qv,d)}},[c,n,e,t,r,i,o,l])}function mY(){var t=he(y0),e=he(b0),n=ct();T.useEffect(()=>{if(t==null)return FR;var r=(i,o,l)=>{e!==l&&t===i&&n(oY(o))};return Wl.on(l1,r),()=>{Wl.off(l1,r)}},[n,e,t])}function gY(){var t=ct();T.useEffect(()=>{t(rY())},[t]),pY(),mY()}function vY(t,e,n,r,i,o){var l=he(y=>$7(y,t,e)),c=he(b0),d=he(y0),f=he(LN),h=he(iY),m=h==null?void 0:h.active;T.useEffect(()=>{if(!m&&d!=null&&c!=null){var y=Jv({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});Wl.emit(Qv,d,y,c)}},[m,n,l,i,r,c,d,f,o])}function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){yY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e,n){return(e=bY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bY(t){var e=_Y(t,"string");return typeof e=="symbol"?e:e+""}function _Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wY(t){return t.dataKey}function SY(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(K8,e)}var h1=[],EY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ha.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function p1(t){var e=bn(t,EY),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:y,useTranslate3d:w,wrapperStyle:E,cursor:S,shared:A,trigger:P,defaultIndex:C,portal:O,axisId:D}=e,I=ct(),R=typeof C=="number"?String(C):C;T.useEffect(()=>{I(F9({shared:A,trigger:P,axisId:D,active:n,defaultIndex:R}))},[I,A,P,D,n,R]);var k=$y(),G=PO(),U=$9(A),{activeIndex:X,isActive:V}=he(pe=>G7(pe,U,P,R)),Y=he(pe=>H7(pe,U,P,R)),ne=he(pe=>$R(pe,U,P,R)),ie=he(pe=>z7(pe,U,P,R)),ve=Y,$=X7(),te=n??V,[se,ge]=YP([ve,te]),Oe=U==="axis"?ne:void 0;vY(U,P,ie,Oe,X,te);var q=O??$;if(q==null)return null;var F=ve??h1;te||(F=h1),c&&F.length&&(F=HP(ve.filter(pe=>pe.value!=null&&(pe.hide!==!0||e.includeHidden)),h,wY));var oe=F.length>0,le=T.createElement(e5,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:d,active:te,coordinate:ie,hasPayload:oe,offset:f,position:m,reverseDirection:y,useTranslate3d:w,viewBox:k,wrapperStyle:E,lastBoundingBox:se,innerRef:ge,hasPortalFromProps:!!O},SY(l,d1(d1({},e),{},{payload:F,label:Oe,active:te,coordinate:ie,accessibilityLayer:G})));return T.createElement(T.Fragment,null,gP.createPortal(le,q),te&&T.createElement(W7,{cursor:S,tooltipEventType:U,coordinate:ie,payload:ve,index:X}))}var Og={},Ng={},Rg={},m1;function AY(){return m1||(m1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,c=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{f&&h(),S()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{E(),l=void 0,c=null},A=()=>{h()},P=function(...C){if(i!=null&&i.aborted)return;l=this,c=C;const O=y==null;w(),d&&O&&h()};return P.schedule=w,P.cancel=S,P.flush=A,i==null||i.addEventListener("abort",S,{once:!0}),P}t.debounce=e})(Rg)),Rg}var g1;function xY(){return g1||(g1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AY();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let h,m=null;const y=e.debounce(function(...S){h=r.apply(this,S),m=null},i,{edges:f}),w=function(...S){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=r.apply(this,S),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,S),h)},E=()=>(y.flush(),h);return w.cancel=y.cancel,w.flush=E,w}t.debounce=n})(Ng)),Ng}var v1;function TY(){return v1||(v1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xY();function n(r,i=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(Og)),Og}var Dg,y1;function CY(){return y1||(y1=1,Dg=TY().throttle),Dg}var MY=CY();const PY=hr(MY);var Ig=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e,n){return(e=NY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _1=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:h=0,id:m,className:y,onResize:w,style:E={}}=t,S=T.useRef(null),A=T.useRef();A.current=w,T.useImperativeHandle(e,()=>S.current);var[P,C]=T.useState({containerWidth:r.width,containerHeight:r.height}),O=T.useCallback((I,R)=>{C(k=>{var G=Math.round(I),U=Math.round(R);return k.containerWidth===G&&k.containerHeight===U?k:{containerWidth:G,containerHeight:U}})},[]);T.useEffect(()=>{var I=U=>{var X,{width:V,height:Y}=U[0].contentRect;O(V,Y),(X=A.current)===null||X===void 0||X.call(A,V,Y)};h>0&&(I=PY(I,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),{width:k,height:G}=S.current.getBoundingClientRect();return O(k,G),R.observe(S.current),()=>{R.disconnect()}},[O,h]);var D=T.useMemo(()=>{var{containerWidth:I,containerHeight:R}=P;if(I<0||R<0)return null;Ig(xa(i)||xa(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Ig(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=xa(i)?I:i,G=xa(o)?R:o;return n&&n>0&&(k?G=k/n:G&&(k=G*n),d&&G>d&&(G=d)),Ig(k>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,G,i,o,l,c,n),T.Children.map(f,U=>T.cloneElement(U,{width:k,height:G,style:kg({width:k,height:G},U.props.style)}))},[n,f,o,d,c,l,P,i]);return T.createElement("div",{id:m?"".concat(m):void 0,className:Ve("recharts-responsive-container",y),style:kg(kg({},E),{},{width:i,height:o,minWidth:l,minHeight:c,maxHeight:d}),ref:S},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),gu=t=>null;gu.displayName="Cell";function DY(t,e,n){return(e=IY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=kY(t,"string");return typeof e=="symbol"?e:e+""}function kY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LY{constructor(e){DY(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return(e=qY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=jY(t,"string");return typeof e=="symbol"?e:e+""}function jY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Y={cacheSize:2e3,enableCache:!0},KR=UY({},$Y),S1=new LY(KR.cacheSize),zY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E1="recharts_measurement_span";function HY(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(c)}var A1=(t,e)=>{try{var n=document.getElementById(E1);n||(n=document.createElement("span"),n.setAttribute("id",E1),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zY,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Bl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ha.isSsr)return{width:0,height:0};if(!KR.enableCache)return A1(e,n);var r=HY(e,n),i=S1.get(r);if(i)return i;var o=A1(e,n);return S1.set(r,o),o},x1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FY=Object.keys(YR),Ko="NaN";function KY(t,e){return t*YR[e]}class gn{static parse(e){var n,[,r,i]=(n=VY.exec(e))!==null&&n!==void 0?n:[];return new gn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,nr(e)&&(this.unit=""),n!==""&&!GY.test(n)&&(this.num=NaN,this.unit=""),FY.includes(n)&&(this.num=KY(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new gn(NaN,""):new gn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gn(NaN,""):new gn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gn(NaN,""):new gn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gn(NaN,""):new gn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return nr(this.num)}}function JR(t){if(t.includes(Ko))return Ko;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=x1.exec(e))!==null&&n!==void 0?n:[],l=gn.parse(r??""),c=gn.parse(o??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Ko;e=e.replace(x1,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,m,y]=(f=T1.exec(e))!==null&&f!==void 0?f:[],w=gn.parse(h??""),E=gn.parse(y??""),S=m==="+"?w.add(E):w.subtract(E);if(S.isNaN())return Ko;e=e.replace(T1,S.toString())}return e}var C1=/\(([^()]*)\)/;function YY(t){for(var e=t,n;(n=C1.exec(e))!=null;){var[,r]=n;e=e.replace(C1,JR(r))}return e}function JY(t){var e=t.replace(/\s+/g,"");return e=YY(e),e=JR(e),e}function WY(t){try{return JY(t)}catch{return Ko}}function Lg(t){var e=WY(t.slice(5,-1));return e===Ko?"":e}var XY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QY=["dx","dy","angle","className","breakAll"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(null,arguments)}function M1(t,e){if(t==null)return{};var n,r,i=ZY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WR=/[ \f\n\r\t\v\u2028\u2029]+/,XR=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Bt(e)||(n?i=e.toString().split(""):i=e.toString().split(WR));var o=i.map(c=>({word:c,width:Bl(c,r).width})),l=n?0:Bl(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eJ=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:c,breakAll:d}=t,f=_e(o),h=l,m=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((Y,ne)=>{var{word:ie,width:ve}=ne,$=Y[Y.length-1];if($&&(r==null||i||$.width+ve+n<Number(r)))$.words.push(ie),$.width+=ve+n;else{var te={words:[ie],width:ve};Y.push(te)}return Y},[])},y=m(e),w=X=>X.reduce((V,Y)=>V.width>Y.width?V:Y);if(!f||i)return y;var E=y.length>o||w(y).width>Number(r);if(!E)return y;for(var S="…",A=X=>{var V=h.slice(0,X),Y=XR({breakAll:d,style:c,children:V+S}).wordsWithComputedWidth,ne=m(Y),ie=ne.length>o||w(ne).width>Number(r);return[ie,ne]},P=0,C=h.length-1,O=0,D;P<=C&&O<=h.length-1;){var I=Math.floor((P+C)/2),R=I-1,[k,G]=A(R),[U]=A(I);if(!k&&!U&&(P=I+1),k&&U&&(C=I-1),!k&&U){D=G;break}O++}return D||y},P1=t=>{var e=Bt(t)?[]:t.toString().split(WR);return[{words:e}]},tJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!Ha.isSsr){var c,d,f=XR({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;c=h,d=m}else return P1(r);return eJ({breakAll:o,children:r,maxLines:l,style:i},c,d,e,n)}return P1(r)},O1="#808080",Ld=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=O1}=t,h=M1(t,XY),m=T.useMemo(()=>tJ({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:y,dy:w,angle:E,className:S,breakAll:A}=h,P=M1(h,QY);if(!Ar(n)||!Ar(r)||m.length===0)return null;var C=n+(_e(y)?y:0),O=r+(_e(w)?w:0),D;switch(d){case"start":D=Lg("calc(".concat(o,")"));break;case"middle":D=Lg("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:D=Lg("calc(".concat(m.length-1," * -").concat(i,")"));break}var I=[];if(l){var R=m[0].width,{width:k}=h;I.push("scale(".concat(_e(k)?k/R:1,")"))}return E&&I.push("rotate(".concat(E,", ").concat(C,", ").concat(O,")")),I.length&&(P.transform=I.join(" ")),T.createElement("text",Zv({},Pt(P,!0),{ref:e,x:C,y:O,className:Ve("recharts-text",S),textAnchor:c,fill:f.includes("url")?O1:f}),m.map((G,U)=>{var X=G.words.join(A?"":" ");return T.createElement("tspan",{x:C,dy:U===0?D:i,key:"".concat(X,"-").concat(U)},X)}))});Ld.displayName="Text";var nJ=["labelRef"];function rJ(t,e){if(t==null)return{};var n,r,i=iJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=sJ(t,"string");return typeof e=="symbol"?e:e+""}function sJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yr(){return Yr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yr.apply(null,arguments)}var QR=T.createContext(null),lJ=t=>{var{x:e,y:n,width:r,height:i,children:o}=t,l=T.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return T.createElement(QR.Provider,{value:l},o)},ZR=()=>{var t=T.useContext(QR),e=$y();return t||e},uJ=T.createContext(null),cJ=()=>{var t=T.useContext(uJ),e=he($N);return t||e},fJ=t=>{var{value:e,formatter:n}=t,r=Bt(t.children)?e:t.children;return typeof n=="function"?n(r):r},X0=t=>t!=null&&typeof t=="function",dJ=(t,e)=>{var n=Zt(e-t),r=Math.min(Math.abs(e-t),360);return n*r},hJ=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,clockWise:w}=i,E=(f+h)/2,S=dJ(m,y),A=S>=0?1:-1,P,C;switch(e){case"insideStart":P=m+A*o,C=w;break;case"insideEnd":P=y-A*o,C=!w;break;case"end":P=y+A*o,C=w;break;default:throw new Error("Unsupported position ".concat(e))}C=S<=0?C:!C;var O=Et(c,d,E,P),D=Et(c,d,E,P+(C?1:-1)*359),I="M".concat(O.x,",").concat(O.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(C?0:1,`,
    `).concat(D.x,",").concat(D.y),R=Bt(t.id)?$l("recharts-radial-line-"):t.id;return T.createElement("text",Yr({},r,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:R,d:I})),T.createElement("textPath",{xlinkHref:"#".concat(R)},n))},pJ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:h,y:m}=Et(r,i,l+e,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x:w,y:E}=Et(r,i,y,f);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},eD=t=>"cx"in t&&_e(t.cx),mJ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!eD(n)&&(o=n);var{x:l,y:c,width:d,height:f}=e,h=f>=0?1:-1,m=h*r,y=h>0?"end":"start",w=h>0?"start":"end",E=d>=0?1:-1,S=E*r,A=E>0?"end":"start",P=E>0?"start":"end";if(i==="top"){var C={x:l+d/2,y:c-h*r,textAnchor:"middle",verticalAnchor:y};return mt(mt({},C),o?{height:Math.max(c-o.y,0),width:d}:{})}if(i==="bottom"){var O={x:l+d/2,y:c+f+m,textAnchor:"middle",verticalAnchor:w};return mt(mt({},O),o?{height:Math.max(o.y+o.height-(c+f),0),width:d}:{})}if(i==="left"){var D={x:l-S,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return mt(mt({},D),o?{width:Math.max(D.x-o.x,0),height:f}:{})}if(i==="right"){var I={x:l+d+S,y:c+f/2,textAnchor:P,verticalAnchor:"middle"};return mt(mt({},I),o?{width:Math.max(o.x+o.width-I.x,0),height:f}:{})}var R=o?{width:d,height:f}:{};return i==="insideLeft"?mt({x:l+S,y:c+f/2,textAnchor:P,verticalAnchor:"middle"},R):i==="insideRight"?mt({x:l+d-S,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},R):i==="insideTop"?mt({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:w},R):i==="insideBottom"?mt({x:l+d/2,y:c+f-m,textAnchor:"middle",verticalAnchor:y},R):i==="insideTopLeft"?mt({x:l+S,y:c+m,textAnchor:P,verticalAnchor:w},R):i==="insideTopRight"?mt({x:l+d-S,y:c+m,textAnchor:A,verticalAnchor:w},R):i==="insideBottomLeft"?mt({x:l+S,y:c+f-m,textAnchor:P,verticalAnchor:y},R):i==="insideBottomRight"?mt({x:l+d-S,y:c+f-m,textAnchor:A,verticalAnchor:y},R):i&&typeof i=="object"&&(_e(i.x)||xa(i.x))&&(_e(i.y)||xa(i.y))?mt({x:l+rn(i.x,d),y:c+rn(i.y,f),textAnchor:"end",verticalAnchor:"end"},R):mt({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},gJ={offset:5};function Bi(t){var e=bn(t,gJ),{viewBox:n,position:r,value:i,children:o,content:l,className:c="",textBreakAll:d,labelRef:f}=e,h=cJ(),m=ZR(),y=r==="center"?m:h??m,w=n||y;if(!w||Bt(i)&&Bt(o)&&!T.isValidElement(l)&&typeof l!="function")return null;var E=mt(mt({},e),{},{viewBox:w});if(T.isValidElement(l)){var{labelRef:S}=E,A=rJ(E,nJ);return T.cloneElement(l,A)}var P;if(typeof l=="function"){if(P=T.createElement(l,E),T.isValidElement(P))return P}else P=fJ(e);var C=eD(w),O=Pt(e,!0);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return hJ(e,r,P,O,w);var D=C?pJ(w,e.offset,e.position):mJ(e,w);return T.createElement(Ld,Yr({ref:f,className:Ve("recharts-label",c)},O,D,{breakAll:d}),P)}Bi.displayName="Label";var vJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Bi,Yr({key:"label-implicit"},r)):Ar(t)?T.createElement(Bi,Yr({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Bi?T.cloneElement(t,mt({key:"label-implicit"},r)):T.createElement(Bi,Yr({key:"label-implicit",content:t},r)):X0(t)?T.createElement(Bi,Yr({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Bi,Yr({},t,{key:"label-implicit"},r)):null};function yJ(t){var{label:e}=t,n=ZR();return vJ(e,n)||null}var Ug={},Bg={},R1;function bJ(){return R1||(R1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Bg)),Bg}var qg={},D1;function _J(){return D1||(D1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(qg)),qg}var I1;function wJ(){return I1||(I1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bJ(),n=_J(),r=Ny();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(Ug)),Ug}var jg,k1;function SJ(){return k1||(k1=1,jg=wJ().last),jg}var EJ=SJ();const AJ=hr(EJ);var xJ=["valueAccessor"],TJ=["dataKey","clockWise","id","textBreakAll"];function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(null,arguments)}function L1(t,e){if(t==null)return{};var n,r,i=CJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MJ=t=>Array.isArray(t.value)?AJ(t.value):t.value,tD=T.createContext(void 0),PJ=tD.Provider,nD=T.createContext(void 0),OJ=nD.Provider;function NJ(){return T.useContext(tD)}function RJ(){return T.useContext(nD)}function af(t){var{valueAccessor:e=MJ}=t,n=L1(t,xJ),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,c=L1(n,TJ),d=NJ(),f=RJ(),h=d||f;return!h||!h.length?null:T.createElement(yn,{className:"recharts-label-list"},h.map((m,y)=>{var w,E=Bt(r)?e(m,y):ut(m&&m.payload,r),S=Bt(o)?{}:{id:"".concat(o,"-").concat(y)};return T.createElement(Bi,zf({},Pt(m,!0),c,S,{fill:(w=n.fill)!==null&&w!==void 0?w:m.fill,parentViewBox:m.parentViewBox,value:E,textBreakAll:l,viewBox:m.viewBox,key:"label-".concat(y),index:y}))}))}af.displayName="LabelList";function rD(t){var{label:e}=t;return e?e===!0?T.createElement(af,{key:"labelList-implicit"}):T.isValidElement(e)||X0(e)?T.createElement(af,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(af,zf({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var iD=t=>t.graphicalItems.polarItems,DJ=J([lt,cu],x0),Q0=J([iD,gt,DJ],C0),IJ=J([Q0],M0),Z0=J([IJ,h0],P0),kJ=J([Z0,gt,Q0],N0),LJ=J([Z0,gt,Q0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,l=ut(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:ut(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),U1=()=>{},UJ=J([gt,sR,U1,LJ,U1,je,lt],D0),aD=J([gt,je,Z0,kJ,uu,lt,UJ],I0),BJ=J([aD,gt,Es],U0);J([gt,aD,BJ,lt],q0);var qJ={radiusAxis:{},angleAxis:{}},oD=Bn({name:"polarAxis",initialState:qJ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jee,removeRadiusAxis:Wee,addAngleAxis:Xee,removeAngleAxis:Qee}=oD.actions,jJ=oD.reducer;function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return(e=zJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=HJ(t,"string");return typeof e=="symbol"?e:e+""}function HJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GJ=(t,e)=>e,eb=J([iD,GJ],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),VJ=[],tb=(t,e,n)=>(n==null?void 0:n.length)===0?VJ:n,sD=J([h0,eb,tb],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>q1(q1({},e.presentationProps),o.props))),i!=null)return i}}),FJ=J([sD,eb,tb],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,l=ut(r,e.nameKey,e.name),c;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:hd(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),KJ=J([sD,eb,tb,Ot],(t,e,n,r)=>{if(!(e==null||t==null))return FW({offset:r,pieSettings:e,displayedData:t,cells:n})}),$g={},j1;function YJ(){return j1||(j1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})($g)),$g}var zg,$1;function JJ(){return $1||($1=1,zg=YJ().isPlainObject),zg}var WJ=JJ();const XJ=hr(WJ);function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hf.apply(null,arguments)}var G1=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},tW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nW=t=>{var e=bn(t,tW),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=e,y=T.useRef(),[w,E]=T.useState(-1),S=T.useRef(i),A=T.useRef(o),P=T.useRef(l),C=T.useRef(n),O=T.useRef(r),D=_d(t,"trapezoid-");if(T.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ie=y.current.getTotalLength();ie&&E(ie)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var I=Ve("recharts-trapezoid",c);if(!m)return T.createElement("g",null,T.createElement("path",Hf({},Pt(e,!0),{className:I,d:G1(n,r,i,o,l)})));var R=S.current,k=A.current,G=P.current,U=C.current,X=O.current,V="0px ".concat(w===-1?1:w,"px"),Y="".concat(w,"px 0px"),ne=NO(["strokeDasharray"],f,d);return T.createElement(bd,{animationId:D,key:D,canBegin:w>0,duration:f,easing:d,isActive:m,begin:h},ie=>{var ve=Qt(R,i,ie),$=Qt(k,o,ie),te=Qt(G,l,ie),se=Qt(U,n,ie),ge=Qt(X,r,ie);y.current&&(S.current=ve,A.current=$,P.current=te,C.current=se,O.current=ge);var Oe=ie>0?{transition:ne,strokeDasharray:Y}:{strokeDasharray:V};return T.createElement("path",Hf({},Pt(e,!0),{className:I,d:G1(se,ge,ve,$,te),ref:y,style:H1(H1({},Oe),e.style)}))})},rW=["option","shapeType","propTransformer","activeClassName","isActive"];function iW(t,e){if(t==null)return{};var n,r,i=aW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=sW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uW(t,e){return Gf(Gf({},e),t)}function cW(t,e){return t==="symbols"}function F1(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(kO,n);case"trapezoid":return T.createElement(nW,n);case"sector":return T.createElement(BO,n);case"symbols":if(cW(e))return T.createElement(My,n);break;default:return null}}function fW(t){return T.isValidElement(t)?t.props:t}function lD(t){var{option:e,shapeType:n,propTransformer:r=uW,activeClassName:i="recharts-active-shape",isActive:o}=t,l=iW(t,rW),c;if(T.isValidElement(e))c=T.cloneElement(e,Gf(Gf({},l),fW(e)));else if(typeof e=="function")c=e(l);else if(XJ(e)&&typeof e!="boolean"){var d=r(e,l);c=T.createElement(F1,{shapeType:n,elementProps:d})}else{var f=l;c=T.createElement(F1,{shapeType:n,elementProps:f})}return o?T.createElement(yn,{className:i},c):c}var nb=(t,e)=>{var n=ct();return(r,i)=>o=>{t==null||t(r,i,o),n(ER({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},rb=t=>{var e=ct();return(n,r)=>i=>{t==null||t(n,r,i),e(K9())}},ib=(t,e)=>{var n=ct();return(r,i)=>o=>{t==null||t(r,i,o),n(Y9({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function uD(t){var{fn:e,args:n}=t,r=ct(),i=gr();return T.useEffect(()=>{if(!i){var o=e(n);return r(G9(o)),()=>{r(V9(o))}}},[e,n,r,i]),null}var cD=()=>{};function dW(t){var{legendPayload:e}=t,n=ct(),r=gr();return T.useEffect(()=>r?cD:(n(CO(e)),()=>{n(MO(e))}),[n,r,e]),null}function hW(t){var{legendPayload:e}=t,n=ct(),r=he(je);return T.useEffect(()=>r!=="centric"&&r!=="radial"?cD:(n(CO(e)),()=>{n(MO(e))}),[n,r,e]),null}var Hg,pW=()=>{var[t]=T.useState(()=>$l("uid-"));return t},mW=(Hg=v2.useId)!==null&&Hg!==void 0?Hg:pW;function gW(t,e){var n=mW();return e||(t?"".concat(t,"-").concat(n):n)}var vW=T.createContext(void 0),fD=t=>{var{id:e,type:n,children:r}=t,i=gW("recharts-".concat(n),e);return T.createElement(vW.Provider,{value:i},r(i))},yW={cartesianItems:[],polarItems:[]},dD=Bn({name:"graphicalItems",initialState:yW,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Xr(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Xr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Xr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:bW,replaceCartesianGraphicalItem:_W,removeCartesianGraphicalItem:wW,addPolarGraphicalItem:SW,removePolarGraphicalItem:EW}=dD.actions,AW=dD.reducer;function xW(t){var e=ct(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?e(bW(t)):n.current!==t&&e(_W({prev:n.current,next:t})),n.current=t},[e,t]),T.useEffect(()=>()=>{n.current&&(e(wW(n.current)),n.current=null)},[e]),null}function TW(t){var e=ct();return T.useEffect(()=>(e(SW(t)),()=>{e(EW(t))}),[e,t]),null}var CW=["onMouseEnter","onClick","onMouseLeave"],MW=["id"],PW=["id"];function ab(t,e){if(t==null)return{};var n,r,i=OW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=RW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=DW(t,"string");return typeof e=="symbol"?e:e+""}function DW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hi.apply(null,arguments)}function IW(t){var e=T.useMemo(()=>Ey(t.children,gu),[t.children]),n=he(r=>FJ(r,t.id,e));return n==null?null:T.createElement(hW,{legendPayload:n})}function kW(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:c,hide:d,tooltipType:f}=t;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:e,nameKey:n,name:hd(c,e),hide:d,type:f,color:l,unit:""}}}var LW=(t,e)=>t>e?"start":t<e?"end":"middle",UW=(t,e,n)=>rn(typeof e=="function"?e(t):e,n,n*.8),BW=(t,e,n)=>{var{top:r,left:i,width:o,height:l}=e,c=bO(o,l),d=i+rn(t.cx,o,o/2),f=r+rn(t.cy,l,l/2),h=rn(t.innerRadius,c,0),m=UW(n,t.outerRadius,c),y=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:m,maxRadius:y}},qW=(t,e)=>{var n=Zt(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function jW(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var $W=(t,e)=>{if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ve("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return T.createElement(OO,Hi({},e,{type:"linear",className:n}))},zW=(t,e,n)=>{if(T.isValidElement(t))return T.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),T.isValidElement(r)))return r;var i=Ve("recharts-pie-label-text",jW(t));return T.createElement(Ld,Hi({},e,{alignmentBaseline:"middle",className:i}),r)};function HW(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!e)return null;var c=$a(n),d=Pt(i,!1),f=Pt(o,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=e.map((y,w)=>{var E=(y.startAngle+y.endAngle)/2,S=Et(y.cx,y.cy,y.outerRadius+h,E),A=ot(ot(ot(ot({},c),y),{},{stroke:"none"},d),{},{index:w,textAnchor:LW(S.x,y.cx)},S),P=ot(ot(ot(ot({},c),y),{},{fill:"none",stroke:y.fill},f),{},{index:w,points:[Et(y.cx,y.cy,y.outerRadius,E),S],key:"line"});return T.createElement(yn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},o&&$W(o,P),zW(i,A,ut(y,l)))});return T.createElement(yn,{className:"recharts-pie-labels"},m)}function GW(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(rD,{label:i}):T.createElement(HW,{sectors:e,props:n,showLabels:r})}function VW(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,o=he(Ua),{onMouseEnter:l,onClick:c,onMouseLeave:d}=i,f=ab(i,CW),h=nb(l,i.dataKey),m=rb(d),y=ib(c,i.dataKey);return e==null||e.length===0?null:T.createElement(T.Fragment,null,e.map((w,E)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&e.length!==1)return null;var S=n&&String(E)===o,A=o?r:null,P=S?n:A,C=ot(ot({},w),{},{stroke:w.stroke,tabIndex:-1,[SO]:E,[EO]:i.dataKey});return T.createElement(yn,Hi({tabIndex:-1,className:"recharts-pie-sector"},tu(f,w,E),{onMouseEnter:h(w,E),onMouseLeave:m(w,E),onClick:y(w,E),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(E)}),T.createElement(lD,Hi({option:P,isActive:S,shapeType:"sector"},C)))}))}function FW(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:h,tooltipType:m}=n,y=Math.abs(n.minAngle),w=qW(c,d),E=Math.abs(w),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(R=>ut(R,f,0)!==0).length,P=(E>=360?A:A-1)*S,C=E-A*y-P,O=r.reduce((R,k)=>{var G=ut(k,f,0);return R+(_e(G)?G:0)},0),D;if(O>0){var I;D=r.map((R,k)=>{var G=ut(R,f,0),U=ut(R,h,k),X=BW(n,o,R),V=(_e(G)?G:0)/O,Y,ne=ot(ot({},R),i&&i[k]&&i[k].props);k?Y=I.endAngle+Zt(w)*S*(G!==0?1:0):Y=c;var ie=Y+Zt(w)*((G!==0?y:0)+V*C),ve=(Y+ie)/2,$=(X.innerRadius+X.outerRadius)/2,te=[{name:U,value:G,payload:ne,dataKey:f,type:m}],se=Et(X.cx,X.cy,$,ve);return I=ot(ot(ot(ot({},n.presentationProps),{},{percent:V,cornerRadius:l,name:U,tooltipPayload:te,midAngle:ve,middleRadius:$,tooltipPosition:se},ne),X),{},{value:G,startAngle:Y,endAngle:ie,payload:ne,paddingAngle:Zt(w)*S}),I})}return D}function KW(t){var{showLabels:e,sectors:n,children:r}=t,i=T.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return T.createElement(OJ,{value:e?i:void 0},r)}function YW(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:h,onAnimationEnd:m}=e,y=_d(e,"recharts-pie-"),w=n.current,[E,S]=T.useState(!1),A=T.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),P=T.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return T.createElement(KW,{showLabels:!E,sectors:r},T.createElement(bd,{animationId:y,begin:o,duration:l,isActive:i,easing:c,onAnimationStart:P,onAnimationEnd:A,key:y},C=>{var O=[],D=r&&r[0],I=D==null?void 0:D.startAngle;return r==null||r.forEach((R,k)=>{var G=w&&w[k],U=k>0?Da(R,"paddingAngle",0):0;if(G){var X=Qt(G.endAngle-G.startAngle,R.endAngle-R.startAngle,C),V=ot(ot({},R),{},{startAngle:I+U,endAngle:I+X+U});O.push(V),I=V.endAngle}else{var{endAngle:Y,startAngle:ne}=R,ie=Qt(0,Y-ne,C),ve=ot(ot({},R),{},{startAngle:I+U,endAngle:I+ie+U});O.push(ve),I=ve.endAngle}}),n.current=O,T.createElement(yn,null,T.createElement(VW,{sectors:O,activeShape:d,inactiveShape:f,allOtherPieProps:e}))}),T.createElement(GW,{showLabels:!E,sectors:r,props:e}),e.children)}var JW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ha.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function WW(t){var{id:e}=t,n=ab(t,MW),{hide:r,className:i,rootTabIndex:o}=t,l=T.useMemo(()=>Ey(t.children,gu),[t.children]),c=he(h=>KJ(h,e,l)),d=T.useRef(null),f=Ve("recharts-pie",i);return r||c==null?(d.current=null,T.createElement(yn,{tabIndex:o,className:f})):T.createElement(T.Fragment,null,T.createElement(uD,{fn:kW,args:ot(ot({},t),{},{sectors:c})}),T.createElement(yn,{tabIndex:o,className:f},T.createElement(YW,{props:ot(ot({},n),{},{sectors:c}),previousSectorsRef:d})))}function hD(t){var e=bn(t,JW),{id:n}=e,r=ab(e,PW),i=$a(r);return T.createElement(fD,{id:n,type:"pie"},o=>T.createElement(T.Fragment,null,T.createElement(TW,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),T.createElement(IW,Hi({},r,{id:o})),T.createElement(WW,Hi({},r,{id:o}))))}hD.displayName="Pie";function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){XW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eX={xAxis:{},yAxis:{},zAxis:{}},pD=Bn({name:"cartesianAxis",initialState:eX,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=J1(J1({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:tX,removeXAxis:nX,addYAxis:rX,removeYAxis:iX,addZAxis:Zee,removeZAxis:ete,updateYAxisWidth:aX}=pD.actions,oX=pD.reducer,sX=J([Ot],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),lX=J([sX,ii,ai],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),mD=()=>he(lX),uX="Invariant failed";function cX(t,e){throw new Error(uX)}var fX=["x","y"];function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(null,arguments)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){dX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dX(t,e,n){return(e=hX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mX(t,e){if(t==null)return{};var n,r,i=gX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vX(t,e){var{x:n,y:r}=t,i=mX(t,fX),o="".concat(n),l=parseInt(o,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return Ol(Ol(Ol(Ol(Ol({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function ob(t){return T.createElement(lD,ey({shapeType:"rectangle",propTransformer:vX,activeClassName:"recharts-active-bar"},t))}var yX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(_e(e))return e;var o=_e(r)||Bt(r);return o?e(r,i):(o||cX(),n)}},bX={},gD=Bn({name:"errorBars",initialState:bX,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:tte,replaceErrorBar:nte,removeErrorBar:rte}=gD.actions,_X=gD.reducer,wX=["children"];function SX(t,e){if(t==null)return{};var n,r,i=EX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xX=T.createContext(AX);function TX(t){var{children:e}=t,n=SX(t,wX);return T.createElement(xX.Provider,{value:n},e)}function vD(t,e){var n,r,i=he(f=>si(f,t)),o=he(f=>li(f,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Nn.allowDataOverflow,c=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Rn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function CX(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=mD(),{needClipX:o,needClipY:l,needClip:c}=vD(e,n);if(!c)return null;var{x:d,y:f,width:h,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:o?d:d-h/2,y:l?f:f-m/2,width:o?h:h*2,height:l?m:m*2}))}var MX=["onMouseEnter","onMouseLeave","onClick"],PX=["value","background","tooltipPosition"],OX=["id"],NX=["onMouseEnter","onClick","onMouseLeave"];function Gi(){return Gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gi.apply(null,arguments)}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return(e=DX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vf(t,e){if(t==null)return{};var n,r,i=kX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LX=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:hd(n,e),payload:t}]};function UX(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:hd(o,e),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function BX(t){var e=he(Ua),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=o,f=Vf(o,MX),h=nb(l,r),m=rb(c),y=ib(d,r);if(!i||n==null)return null;var w=Pt(i,!1);return T.createElement(T.Fragment,null,n.map((E,S)=>{var{value:A,background:P,tooltipPosition:C}=E,O=Vf(E,PX);if(!P)return null;var D=h(E,S),I=m(E,S),R=y(E,S),k=on(on(on(on(on({option:i,isActive:String(S)===e},O),{},{fill:"#eee"},P),w),tu(f,E,S)),{},{onMouseEnter:D,onMouseLeave:I,onClick:R,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return T.createElement(ob,Gi({key:"background-bar-".concat(k.index)},k))}))}function qX(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return on(on({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return T.createElement(PJ,{value:e?i:void 0},n)}function jX(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=t,c=he(Ua),d=he(LR),f=n&&String(o)===c&&(d==null||l===d),h=f?n:e;return T.createElement(ob,Gi({},r,i,{isActive:f,option:h,index:o,dataKey:l}))}function $X(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return T.createElement(ob,Gi({},n,r,{isActive:!1,option:e,index:i,dataKey:o}))}function zX(t){var{data:e,props:n}=t,r=$a(n),{id:i}=r,o=Vf(r,OX),{shape:l,dataKey:c,activeBar:d}=n,{onMouseEnter:f,onClick:h,onMouseLeave:m}=n,y=Vf(n,NX),w=nb(f,c),E=rb(m),S=ib(h,c);return e?T.createElement(T.Fragment,null,e.map((A,P)=>T.createElement(yn,Gi({className:"recharts-bar-rectangle"},tu(y,A,P),{onMouseEnter:w(A,P),onMouseLeave:E(A,P),onClick:S(A,P),key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(P)}),d?T.createElement(jX,{shape:l,activeBar:d,baseProps:o,entry:A,index:P,dataKey:c}):T.createElement($X,{shape:l,baseProps:o,entry:A,index:P,dataKey:c})))):null}function HX(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=e,m=n.current,y=_d(e,"recharts-bar-"),[w,E]=T.useState(!1),S=!w,A=T.useCallback(()=>{typeof f=="function"&&f(),E(!1)},[f]),P=T.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return T.createElement(qX,{showLabels:S,rects:r},T.createElement(bd,{animationId:y,begin:l,duration:c,isActive:o,easing:d,onAnimationEnd:A,onAnimationStart:P,key:y},C=>{var O=C===1?r:r==null?void 0:r.map((D,I)=>{var R=m&&m[I];if(R)return on(on({},D),{},{x:Qt(R.x,D.x,C),y:Qt(R.y,D.y,C),width:Qt(R.width,D.width,C),height:Qt(R.height,D.height,C)});if(i==="horizontal"){var k=Qt(0,D.height,C);return on(on({},D),{},{y:D.y+D.height-k,height:k})}var G=Qt(0,D.width,C);return on(on({},D),{},{width:G})});return C>0&&(n.current=O??null),O==null?null:T.createElement(yn,null,T.createElement(zX,{props:e,data:O}))}),T.createElement(rD,{label:e.label}),e.children)}function GX(t){var e=T.useRef(null);return T.createElement(HX,{previousRectanglesRef:e,props:t})}var yD=0,VX=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ut(t,e)}};class FX extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var h=Ve("recharts-bar",i),m=f;return T.createElement(yn,{className:h,id:f},c&&T.createElement("defs",null,T.createElement(CX,{clipPathId:m,xAxisId:o,yAxisId:l})),T.createElement(yn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},T.createElement(BX,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(GX,this.props)))}}var KX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ha.isSsr,legendType:"rect",minPointSize:yD,xAxisId:0,yAxisId:0};function YX(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h}=t,{needClip:m}=vD(e,n),y=zy(),w=gr(),E=Ey(t.children,gu),S=he(C=>SQ(C,e,n,w,t.id,E));if(y!=="vertical"&&y!=="horizontal")return null;var A,P=S==null?void 0:S[0];return P==null||P.height==null||P.width==null?A=0:A=y==="vertical"?P.height/2:P.width/2,T.createElement(TX,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:VX,errorBarOffset:A},T.createElement(FX,Gi({},t,{layout:y,needClip:m,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function JX(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:m,offset:y,cells:w,parentViewBox:E}=t,S=e==="horizontal"?c:l,A=h?S.scale.domain():null,P=l8({numericAxis:S});return m.map((C,O)=>{var D,I,R,k,G,U;h?D=n8(h[O],A):(D=ut(C,n),Array.isArray(D)||(D=[P,D]));var X=yX(r,yD)(D[1],O);if(e==="horizontal"){var V,[Y,ne]=[c.scale(D[0]),c.scale(D[1])];I=UT({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:C,index:O}),R=(V=ne??Y)!==null&&V!==void 0?V:void 0,k=i.size;var ie=Y-ne;if(G=nr(ie)?0:ie,U={x:I,y:y.top,width:k,height:y.height},Math.abs(X)>0&&Math.abs(G)<Math.abs(X)){var ve=Zt(G||X)*(Math.abs(X)-Math.abs(G));R-=ve,G+=ve}}else{var[$,te]=[l.scale(D[0]),l.scale(D[1])];if(I=$,R=UT({axis:c,ticks:f,bandSize:o,offset:i.offset,entry:C,index:O}),k=te-$,G=i.size,U={x:y.left,y:R,width:y.width,height:G},Math.abs(X)>0&&Math.abs(k)<Math.abs(X)){var se=Zt(k||X)*(Math.abs(X)-Math.abs(k));k+=se}}if(I==null||R==null||k==null||G==null)return null;var ge=on(on({},C),{},{x:I,y:R,width:k,height:G,value:h?D:D[1],payload:C,background:U,tooltipPosition:{x:I+k/2,y:R+G/2},parentViewBox:E},w&&w[O]&&w[O].props);return ge}).filter(Boolean)}function WX(t){var e=bn(t,KX),n=gr();return T.createElement(fD,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(dW,{legendPayload:LX(e)}),T.createElement(uD,{fn:UX,args:e}),T.createElement(xW,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:s8(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(YX,Gi({},e,{id:r}))))}var bD=T.memo(WX);bD.displayName="Bar";function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){XX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XX(t,e,n){return(e=QX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=ZX(t,"string");return typeof e=="symbol"?e:e+""}function ZX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eQ=(t,e)=>e,tQ=(t,e,n)=>n,nQ=(t,e,n,r)=>r,rQ=(t,e,n,r,i)=>i,vu=J([T0,rQ],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),iQ=J([vu],t=>t==null?void 0:t.maxBarSize),aQ=(t,e,n,r,i,o)=>o,Z1=(t,e,n)=>{var r=n??t;if(!Bt(r))return rn(r,e,0)},oQ=J([je,T0,eQ,tQ,nQ],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),sQ=(t,e,n,r)=>{var i=je(t);return i==="horizontal"?Yv(t,"yAxis",n,r):Yv(t,"xAxis",e,r)},lQ=(t,e,n)=>{var r=je(t);return r==="horizontal"?e1(t,"xAxis",e):e1(t,"yAxis",n)},uQ=(t,e,n)=>{var r={},i=t.filter(Od),o=t.filter(f=>f.stackId==null),l=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),c=Object.entries(l).map(f=>{var[h,m]=f,y=m.map(E=>E.dataKey),w=Z1(e,n,m[0].barSize);return{stackId:h,dataKeys:y,barSize:w}}),d=o.map(f=>{var h=[f.dataKey].filter(y=>y!=null),m=Z1(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...c,...d]},cQ=J([oQ,HK,lQ],uQ),fQ=(t,e,n,r,i)=>{var o,l,c=vu(t,e,n,r,i);if(c!=null){var d=je(t),f=IN(t),{maxBarSize:h}=c,m=Bt(h)?f:h,y,w;return d==="horizontal"?(y=cs(t,"xAxis",e,r),w=us(t,"xAxis",e,r)):(y=cs(t,"yAxis",n,r),w=us(t,"yAxis",n,r)),(o=(l=qy(y,w,!0))!==null&&l!==void 0?l:m)!==null&&o!==void 0?o:0}},_D=(t,e,n,r)=>{var i=je(t),o,l;return i==="horizontal"?(o=cs(t,"xAxis",e,r),l=us(t,"xAxis",e,r)):(o=cs(t,"yAxis",n,r),l=us(t,"yAxis",n,r)),qy(o,l)};function dQ(t,e,n,r,i){var o=r.length;if(!(o<1)){var l=rn(t,n,0,!0),c,d=[];if(Un(r[0].barSize)){var f=!1,h=n/o,m=r.reduce((P,C)=>P+(C.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(f=!0,h*=.9,m=o*h);var y=(n-m)/2>>0,w={offset:y-l,size:0};c=r.reduce((P,C)=>{var O,D={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w.offset+w.size+l,size:f?h:(O=C.barSize)!==null&&O!==void 0?O:0}},I=[...P,D];return w=I[I.length-1].position,I},d)}else{var E=rn(e,n,0,!0);n-2*E-(o-1)*l<=0&&(l=0);var S=(n-2*E-(o-1)*l)/o;S>1&&(S>>=0);var A=Un(i)?Math.min(S,i):S;c=r.reduce((P,C,O)=>[...P,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:E+(S+l)*O+(S-A)/2,size:A}}],d)}return c}}var hQ=(t,e,n,r,i,o,l)=>{var c=Bt(l)?e:l,d=dQ(n,r,i!==o?i:o,t,c);return i!==o&&d!=null&&(d=d.map(f=>ef(ef({},f),{},{position:ef(ef({},f.position),{},{offset:f.position.offset-i/2})}))),d},pQ=J([cQ,IN,zK,kN,fQ,_D,iQ],hQ),mQ=(t,e,n,r)=>cs(t,"xAxis",e,r),gQ=(t,e,n,r)=>cs(t,"yAxis",n,r),vQ=(t,e,n,r)=>us(t,"xAxis",e,r),yQ=(t,e,n,r)=>us(t,"yAxis",n,r),bQ=J([pQ,vu],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),_Q=(t,e)=>{var n=E0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},wQ=J([sQ,vu],_Q),SQ=J([Ot,jy,mQ,gQ,vQ,yQ,bQ,je,p0,_D,wQ,vu,aQ],(t,e,n,r,i,o,l,c,d,f,h,m,y)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:S}=d;if(!(m==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:A}=m,P;if(A!=null&&A.length>0?P=A:P=w==null?void 0:w.slice(E,S+1),P!=null)return JX({layout:c,barSettings:m,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:P,offset:t,cells:y})}}),wD=t=>{var{chartData:e}=t,n=ct(),r=gr();return T.useEffect(()=>r?()=>{}:(n(u1(e)),()=>{n(u1(void 0))}),[e,n,r]),null},eM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SD=Bn({name:"brush",initialState:eM,reducers:{setBrushSettings(t,e){return e.payload==null?eM:e.payload}}}),{setBrushSettings:ite}=SD.actions,EQ=SD.reducer;function AQ(t,e,n){return(e=xQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=TQ(t,"string");return typeof e=="symbol"?e:e+""}function TQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sb{static create(e){return new sb(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}AQ(sb,"EPS",1e-4);function CQ(t){return(t%180+180)%180}var MQ=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=CQ(i),l=o*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},PQ={dots:[],areas:[],lines:[]},ED=Bn({name:"referenceElements",initialState:PQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Xr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Xr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Xr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ate,removeDot:ote,addArea:ste,removeArea:lte,addLine:ute,removeLine:cte}=ED.actions,OQ=ED.reducer,NQ=T.createContext(void 0),RQ=t=>{var{children:e}=t,[n]=T.useState("".concat($l("recharts"),"-clip")),r=mD();if(r==null)return null;var{x:i,y:o,width:l,height:c}=r;return T.createElement(NQ.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:o,height:c,width:l}))),e)};function fs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function AD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function DQ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return MQ(r,n)}function IQ(t,e,n){var r=n==="width",{x:i,y:o,width:l,height:c}=t;return e===1?{start:r?i:o,end:r?i+l:o+c}:{start:r?i+l:o+c,end:r?i:o}}function Ff(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function kQ(t,e){return AD(t,e+1)}function LQ(t,e,n,r,i){for(var o=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,h=l,m=function(){var E=r==null?void 0:r[d];if(E===void 0)return{v:AD(r,f)};var S=d,A,P=()=>(A===void 0&&(A=n(E,S)),A),C=E.coordinate,O=d===0||Ff(t,C,P,h,c);O||(d=0,h=l,f+=1),O&&(h=C+t*(P()/2+i),d+=f)},y;f<=o.length;)if(y=m(),y)return y.v;return[]}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return(e=BQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:d}=e,f=function(y){var w=o[y],E,S=()=>(E===void 0&&(E=n(w,y)),E);if(y===l-1){var A=t*(w.coordinate+t*S()/2-d);o[y]=w=tn(tn({},w),{},{tickCoord:A>0?w.coordinate-A*t:w.coordinate})}else o[y]=w=tn(tn({},w),{},{tickCoord:w.coordinate});var P=Ff(t,w.tickCoord,S,c,d);P&&(d=w.tickCoord-t*(S()/2+i),o[y]=tn(tn({},w),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return o}function $Q(t,e,n,r,i,o){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(o){var h=r[c-1],m=n(h,c-1),y=t*(h.coordinate+t*m/2-f);l[c-1]=h=tn(tn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var w=Ff(t,h.tickCoord,()=>m,d,f);w&&(f=h.tickCoord-t*(m/2+i),l[c-1]=tn(tn({},h),{},{isShow:!0}))}for(var E=o?c-1:c,S=function(C){var O=l[C],D,I=()=>(D===void 0&&(D=n(O,C)),D);if(C===0){var R=t*(O.coordinate-t*I()/2-d);l[C]=O=tn(tn({},O),{},{tickCoord:R<0?O.coordinate-R*t:O.coordinate})}else l[C]=O=tn(tn({},O),{},{tickCoord:O.coordinate});var k=Ff(t,O.tickCoord,I,d,f);k&&(d=O.tickCoord+t*(I()/2+i),l[C]=tn(tn({},O),{},{isShow:!0}))},A=0;A<E;A++)S(A);return l}function zQ(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(_e(d)||Ha.isSsr){var y;return(y=kQ(i,_e(d)?d:0))!==null&&y!==void 0?y:[]}var w=[],E=c==="top"||c==="bottom"?"width":"height",S=h&&E==="width"?Bl(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(O,D)=>{var I=typeof f=="function"?f(O.value,D):O.value;return E==="width"?DQ(Bl(I,{fontSize:e,letterSpacing:n}),S,m):Bl(I,{fontSize:e,letterSpacing:n})[E]},P=i.length>=2?Zt(i[1].coordinate-i[0].coordinate):1,C=IQ(o,P,E);return d==="equidistantPreserveStart"?LQ(P,C,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=$Q(P,C,A,i,l,d==="preserveStartEnd"):w=jQ(P,C,A,i,l),w.filter(O=>O.isShow))}var HQ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(e){e.forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+c+(n?r:0);return Math.round(f)}return 0},GQ=["axisLine","width","height","className","hide","ticks"],VQ=["viewBox"],FQ=["viewBox"];function ty(t,e){if(t==null)return{};var n,r,i=KQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(null,arguments)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=WQ(t,"string");return typeof e=="symbol"?e:e+""}function WQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XQ={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function QQ(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Mt(Mt(Mt({},d),Pt(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);f=Mt(Mt({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);f=Mt(Mt({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return T.createElement("line",Ba({},f,{className:Ve("recharts-cartesian-axis-line",Da(c,"className"))}))}function ZQ(t,e,n,r,i,o,l,c,d){var f,h,m,y,w,E,S=c?-1:1,A=t.tickSize||l,P=_e(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=h=t.coordinate,y=n+ +!c*i,m=y-S*A,E=m-S*d,w=P;break;case"left":m=y=t.coordinate,h=e+ +!c*r,f=h-S*A,w=f-S*d,E=P;break;case"right":m=y=t.coordinate,h=e+ +c*r,f=h+S*A,w=f+S*d,E=P;break;default:f=h=t.coordinate,y=n+ +c*i,m=y+S*A,E=m+S*d,w=P;break}return{line:{x1:f,y1:m,x2:h,y2:y},tick:{x:w,y:E}}}function eZ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function tZ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function nZ(t){var{option:e,tickProps:n,value:r}=t,i,o=Ve(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Mt(Mt({},n),{},{className:o}));else if(typeof e=="function")i=e(Mt(Mt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ve(l,e==null?void 0:e.className)),i=T.createElement(Ld,Ba({},n,{className:l}),r)}return i}function rZ(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:h,x:m,y,width:w,height:E,tickSize:S,tickMargin:A,fontSize:P,letterSpacing:C,getTicksConfig:O,events:D}=t,I=zQ(Mt(Mt({},O),{},{ticks:e}),P,C),R=eZ(f,h),k=tZ(f,h),G=$a(O),U=Pt(n,!1),X=Mt(Mt({},G),{},{fill:"none"},Pt(r,!1)),V=I.map((Y,ne)=>{var{line:ie,tick:ve}=ZQ(Y,m,y,w,E,f,S,h,A),$=Mt(Mt(Mt(Mt({textAnchor:R,verticalAnchor:k},G),{},{stroke:"none",fill:i},U),ve),{},{index:ne,payload:Y,visibleTicksCount:I.length,tickFormatter:o,padding:c},d);return T.createElement(yn,Ba({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},tu(D,Y,ne)),r&&T.createElement("line",Ba({},X,ie,{className:Ve("recharts-cartesian-axis-tick-line",Da(r,"className"))})),n&&T.createElement(nZ,{option:n,tickProps:$,value:"".concat(typeof o=="function"?o(Y.value,ne):Y.value).concat(l||"")}))});return V.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var iZ=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:c}=t,d=ty(t,GQ),[f,h]=T.useState(""),[m,y]=T.useState(""),w=T.useRef([]);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return HQ({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(S=>{if(S){var A=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=Array.from(A);var P=A[0];if(P){var C=window.getComputedStyle(P),O=C.fontSize,D=C.letterSpacing;(O!==f||D!==m)&&(h(O),y(D))}}},[f,m]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(yn,{className:Ve("recharts-cartesian-axis",o),ref:E},T.createElement(QQ,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:$a(t)}),T.createElement(rZ,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:m,getTicksConfig:t,events:d}),T.createElement(lJ,{x:t.x,y:t.y,width:t.width,height:t.height},T.createElement(yJ,{label:t.label}),t.children))}),aZ=T.memo(iZ,(t,e)=>{var{viewBox:n}=t,r=ty(t,VQ),{viewBox:i}=e,o=ty(e,FQ);return fs(n,i)&&fs(r,o)}),lb=T.forwardRef((t,e)=>{var n=bn(t,XQ);return T.createElement(aZ,Ba({},n,{ref:e}))});lb.displayName="CartesianAxis";var oZ=["dangerouslySetInnerHTML","ticks"],sZ=["id"],lZ=["domain"],uZ=["domain"];function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}function Kf(t,e){if(t==null)return{};var n,r,i=cZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fZ(t){var e=ct();return T.useEffect(()=>(e(tX(t)),()=>{e(nX(t))}),[t,e]),null}var dZ=t=>{var{xAxisId:e,className:n}=t,r=he(jy),i=gr(),o="xAxis",l=he(A=>As(A,o,e,i)),c=he(A=>vR(A,o,e,i)),d=he(A=>hR(A,e)),f=he(A=>I9(A,e)),h=he(A=>GN(A,e));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=t,w=Kf(t,oZ),{id:E}=h,S=Kf(h,sZ);return T.createElement(lb,ny({},w,S,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:Ve("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},hZ={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,height:Nn.height,hide:!1,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tickCount:Nn.tickCount,type:Nn.type,xAxisId:0},pZ=t=>{var e,n,r,i,o,l=bn(t,hZ);return T.createElement(T.Fragment,null,T.createElement(fZ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),T.createElement(dZ,l))},mZ=(t,e)=>{var{domain:n}=t,r=Kf(t,lZ),{domain:i}=e,o=Kf(e,uZ);return fs(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fs({domain:n},{domain:i}):!1},xD=T.memo(pZ,mZ);xD.displayName="XAxis";var gZ=["dangerouslySetInnerHTML","ticks"],vZ=["id"],yZ=["domain"],bZ=["domain"];function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(null,arguments)}function Yf(t,e){if(t==null)return{};var n,r,i=_Z(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Z(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wZ(t){var e=ct();return T.useEffect(()=>(e(rX(t)),()=>{e(iX(t))}),[t,e]),null}var SZ=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=T.useRef(null),l=T.useRef(null),c=he(jy),d=gr(),f=ct(),h="yAxis",m=he(I=>As(I,h,e,d)),y=he(I=>pR(I,e)),w=he(I=>L9(I,e)),E=he(I=>vR(I,h,e,d)),S=he(I=>VN(I,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!y||X0(i)||T.isValidElement(i)||S==null)){var I=o.current;if(I){var R=I.getCalculatedWidth();Math.round(y.width)!==Math.round(R)&&f(aX({id:e,width:R}))}}},[E,y,f,i,e,r,S]),y==null||w==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:P}=t,C=Yf(t,gZ),{id:O}=S,D=Yf(S,vZ);return T.createElement(lb,ry({},C,D,{ref:o,labelRef:l,scale:m,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Ve("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:E}))},EZ={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:Rn.allowDecimals,allowDuplicatedCategory:Rn.allowDuplicatedCategory,hide:!1,mirror:Rn.mirror,orientation:Rn.orientation,padding:Rn.padding,reversed:Rn.reversed,scale:Rn.scale,tickCount:Rn.tickCount,type:Rn.type,width:Rn.width,yAxisId:0},AZ=t=>{var e,n,r,i,o,l=bn(t,EZ);return T.createElement(T.Fragment,null,T.createElement(wZ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),T.createElement(SZ,l))},xZ=(t,e)=>{var{domain:n}=t,r=Yf(t,yZ),{domain:i}=e,o=Yf(e,bZ);return fs(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fs({domain:n},{domain:i}):!1},TD=T.memo(AZ,xZ);TD.displayName="YAxis";var Gg={exports:{}},Vg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM;function TZ(){if(rM)return Vg;rM=1;var t=ds();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Vg.useSyncExternalStoreWithSelector=function(d,f,h,m,y){var w=i(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function A(I){if(!P){if(P=!0,C=I,I=m(I),y!==void 0&&E.hasValue){var R=E.value;if(y(R,I))return O=R}return O=I}if(R=O,n(C,I))return R;var k=m(I);return y!==void 0&&y(R,k)?(C=I,R):(C=I,O=k)}var P=!1,C,O,D=h===void 0?null:h;return[function(){return A(f())},D===null?void 0:function(){return A(D())}]},[f,h,m,y]);var S=r(d,w[0],w[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},Vg}var iM;function CZ(){return iM||(iM=1,Gg.exports=TZ()),Gg.exports}CZ();function MZ(t){t()}function PZ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){MZ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var aM={notify(){},get:()=>[]};function OZ(t,e){let n,r=aM,i=0,o=!1;function l(S){h();const A=r.subscribe(S);let P=!1;return()=>{P||(P=!0,A(),m())}}function c(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(d),r=PZ())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=aM)}function y(){o||(o=!0,h())}function w(){o&&(o=!1,m())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return E}var NZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RZ=NZ(),DZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IZ=DZ(),kZ=()=>RZ||IZ?T.useLayoutEffect:T.useEffect,LZ=kZ(),Fg=Symbol.for("react-redux-context"),Kg=typeof globalThis<"u"?globalThis:{};function UZ(){if(!T.createContext)return{};const t=Kg[Fg]??(Kg[Fg]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var BZ=UZ();function qZ(t){const{children:e,context:n,serverState:r,store:i}=t,o=T.useMemo(()=>{const d=OZ(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);LZ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=n||BZ;return T.createElement(c.Provider,{value:o},e)}var jZ=qZ,$Z=(t,e)=>e,ub=J([$Z,je,$N,Rt,RR,ui,j7,Ot],V7),cb=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},CD=rr("mouseClick"),MD=ru();MD.startListening({actionCreator:CD,effect:(t,e)=>{var n=t.payload,r=ub(e.getState(),cb(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(J9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var iy=rr("mouseMove"),PD=ru();PD.startListening({actionCreator:iy,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=z0(r,r.tooltip.settings.shared),o=ub(r,cb(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(xR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(AR()))}});var oM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},OD=Bn({name:"rootProps",initialState:oM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:oM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),zZ=OD.reducer,{updateOptions:HZ}=OD.actions,ND=Bn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:GZ}=ND.actions,VZ=ND.reducer,RD=rr("keyDown"),DD=rr("focus"),fb=ru();fb.startListening({actionCreator:RD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(H0(i,Ts(n))),c=ui(n);if(o==="Enter"){var d=$f(n,"axis","hover",String(i.index));e.dispatch(Wv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=j9(n),h=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,y=l+m*h;if(!(c==null||y>=c.length||y<0)){var w=$f(n,"axis","hover",String(y));e.dispatch(Wv({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});fb.startListening({actionCreator:DD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=$f(n,"axis","hover",String(o));e.dispatch(Wv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Qn=rr("externalEvent"),ID=ru();ID.startListening({actionCreator:Qn,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:N7(n),activeDataKey:LR(n),activeIndex:Ua(n),activeLabel:kR(n),activeTooltipIndex:Ua(n),isTooltipActive:R7(n)};t.payload.handler(r,t.payload.reactEvent)}}});var FZ=J([xs],t=>t.tooltipItemPayloads),KZ=J([FZ,pu,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),kD=rr("touchMove"),LD=ru();LD.startListening({actionCreator:kD,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=z0(r,r.tooltip.settings.shared);if(i==="axis"){var o=ub(r,cb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(xR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(SO),h=(l=d.getAttribute(EO))!==null&&l!==void 0?l:void 0,m=KZ(e.getState(),f,h);e.dispatch(ER({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}});var YZ=WP({brush:EQ,cartesianAxis:oX,chartData:sY,errorBars:_X,graphicalItems:AW,layout:jG,legend:N8,options:nY,polarAxis:jJ,polarOptions:VZ,referenceElements:OQ,rootProps:zZ,tooltip:W9}),JZ=function(e){return fG({reducer:YZ,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([MD.middleware,PD.middleware,fb.middleware,ID.middleware,LD.middleware]),devTools:Ha.devToolsEnabled})};function UD(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gr(),o=T.useRef(null);if(i)return n;o.current==null&&(o.current=JZ(e));var l=Dy;return T.createElement(jZ,{context:l,store:o.current},n)}function BD(t){var{layout:e,width:n,height:r,margin:i}=t,o=ct(),l=gr();return T.useEffect(()=>{l||(o(UG(e)),o(BG({width:n,height:r})),o(LG(i)))},[o,l,e,n,r,i]),null}function qD(t){var e=ct();return T.useEffect(()=>{e(HZ(t))},[e,t]),null}var WZ=["children"];function XZ(t,e){if(t==null)return{};var n,r,i=QZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(null,arguments)}var ZZ={width:"100%",height:"100%"},eee=T.forwardRef((t,e)=>{var n=AO(),r=xO(),i=PO();if(!is(n)||!is(r))return null;var{children:o,otherAttributes:l,title:c,desc:d}=t,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0,T.createElement(Ay,Jf({},l,{title:c,desc:d,role:h,tabIndex:f,width:n,height:r,style:ZZ,ref:e}),o)}),tee=t=>{var{children:e}=t,n=he(vd);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return T.createElement(Ay,{width:r,height:i,x:l,y:o},e)},sM=T.forwardRef((t,e)=>{var{children:n}=t,r=XZ(t,WZ),i=gr();return i?T.createElement(tee,null,n):T.createElement(eee,Jf({ref:e},r),n)});function nee(){var t=ct(),[e,n]=T.useState(null),r=he(m8);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Un(o)&&o!==r&&t(qG(o))}},[e,t,r]),n}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ree(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e,n){return(e=aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=oee(t,"string");return typeof e=="symbol"?e:e+""}function oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var see=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:w,onTouchMove:E,onTouchStart:S,style:A,width:P}=t,C=ct(),[O,D]=T.useState(null),[I,R]=T.useState(null);gY();var k=nee(),G=T.useCallback(F=>{k(F),typeof e=="function"&&e(F),D(F),R(F)},[k,e,D,R]),U=T.useCallback(F=>{C(CD(F)),C(Qn({handler:o,reactEvent:F}))},[C,o]),X=T.useCallback(F=>{C(iy(F)),C(Qn({handler:f,reactEvent:F}))},[C,f]),V=T.useCallback(F=>{C(AR()),C(Qn({handler:h,reactEvent:F}))},[C,h]),Y=T.useCallback(F=>{C(iy(F)),C(Qn({handler:m,reactEvent:F}))},[C,m]),ne=T.useCallback(()=>{C(DD())},[C]),ie=T.useCallback(F=>{C(RD(F.key))},[C]),ve=T.useCallback(F=>{C(Qn({handler:l,reactEvent:F}))},[C,l]),$=T.useCallback(F=>{C(Qn({handler:c,reactEvent:F}))},[C,c]),te=T.useCallback(F=>{C(Qn({handler:d,reactEvent:F}))},[C,d]),se=T.useCallback(F=>{C(Qn({handler:y,reactEvent:F}))},[C,y]),ge=T.useCallback(F=>{C(Qn({handler:S,reactEvent:F}))},[C,S]),Oe=T.useCallback(F=>{C(kD(F)),C(Qn({handler:E,reactEvent:F}))},[C,E]),q=T.useCallback(F=>{C(Qn({handler:w,reactEvent:F}))},[C,w]);return T.createElement(zR.Provider,{value:O},T.createElement(vP.Provider,{value:I},T.createElement("div",{className:Ve("recharts-wrapper",r),style:ree({position:"relative",cursor:"default",width:P,height:i},A),onClick:U,onContextMenu:ve,onDoubleClick:$,onFocus:ne,onKeyDown:ie,onMouseDown:te,onMouseEnter:X,onMouseLeave:V,onMouseMove:Y,onMouseUp:se,onTouchEnd:q,onTouchMove:Oe,onTouchStart:ge,ref:G},n)))}),lee=["children","className","width","height","style","compact","title","desc"];function uee(t,e){if(t==null)return{};var n,r,i=cee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jD=T.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:l,compact:c,title:d,desc:f}=t,h=uee(t,lee),m=$a(h);return c?T.createElement(sM,{otherAttributes:m,title:d,desc:f},n):T.createElement(see,{className:r,style:l,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(sM,{otherAttributes:m,title:d,desc:f,ref:e},T.createElement(RQ,null,n)))}),fee=["width","height"];function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(null,arguments)}function dee(t,e){if(t==null)return{};var n,r,i=hee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pee={top:5,right:5,bottom:5,left:5},mee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pee,reverseStackOrder:!1,syncMethod:"index"},gee=T.forwardRef(function(e,n){var r,i=bn(e.categoricalChartProps,mee),{width:o,height:l}=i,c=dee(i,fee);if(!is(o)||!is(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,categoricalChartProps:y}=e,w={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return T.createElement(UD,{preloadedState:{options:w},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:d},T.createElement(wD,{chartData:y.data}),T.createElement(BD,{width:o,height:l,layout:i.layout,margin:i.margin}),T.createElement(qD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(jD,ay({},c,{width:o,height:l,ref:n})))}),vee=["axis","item"],yee=T.forwardRef((t,e)=>T.createElement(gee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vee,tooltipPayloadSearcher:HR,categoricalChartProps:t,ref:e}));function bee(t){var e=ct();return T.useEffect(()=>{e(GZ(t))},[e,t]),null}var _ee=["width","height","layout"];function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}function wee(t,e){if(t==null)return{};var n,r,i=See(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function See(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Eee={top:5,right:5,bottom:5,left:5},Aee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xee=T.forwardRef(function(e,n){var r,i=bn(e.categoricalChartProps,Aee),{width:o,height:l,layout:c}=i,d=wee(i,_ee);if(!is(o)||!is(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:y}=e,w={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return T.createElement(UD,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},T.createElement(wD,{chartData:i.data}),T.createElement(BD,{width:o,height:l,layout:c,margin:i.margin}),T.createElement(qD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(bee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(jD,oy({width:o,height:l},d,{ref:n})))}),Tee=["item"],Cee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mee=T.forwardRef((t,e)=>{var n=bn(t,Cee);return T.createElement(xee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Tee,tooltipPayloadSearcher:HR,categoricalChartProps:n,ref:e})});const Pee=()=>{const{payments:t}=Tr(),{monthlyData:e,groupData:n,highestMonth:r,lowestMonth:i}=T.useMemo(()=>{const c={},d={};t.forEach(w=>{const E=new Date(w.date).toLocaleString("ar-EG",{month:"short",year:"numeric"});c[E]=(c[E]||0)+w.amount,d[w.groupName]=(d[w.groupName]||0)+w.amount});const f=Object.entries(c).map(([w,E])=>({name:w,total:E})).reverse(),h=Object.entries(d).map(([w,E])=>({name:w,value:E}));let m={name:"-",total:0},y={name:"-",total:1/0};return f.length>0?(m=f.reduce((w,E)=>w.total>E.total?w:E),y=f.reduce((w,E)=>w.total<E.total?w:E)):y={name:"-",total:0},{monthlyData:f,groupData:h,highestMonth:m,lowestMonth:y}},[t]),o=["#D4AF37","#FFD700","#F0E68C","#BDB76B","#DAA520"],l=c=>`ج.م ${c.toLocaleString("ar-EG")}`;return M.jsxs("div",{className:"space-y-8",children:[M.jsxs("header",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"الإحصائيات والرسومات"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"تحليل لأدائك المالي على مدار الشهور والمجموعات."})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[M.jsx(Aa,{title:"أعلى شهر",value:l(r.total),description:r.name,icon:M.jsx(BM,{})}),M.jsx(Aa,{title:"أقل شهر",value:l(i.total),description:i.name,icon:M.jsx(UM,{})}),M.jsx(Aa,{title:"عدد المجموعات",value:n.length,icon:M.jsx(dy,{})})]}),M.jsxs("div",{className:"bg-brand-navy p-6 rounded-xl shadow-lg",children:[M.jsx("h2",{className:"text-2xl font-bold text-brand-gold mb-6",children:"إجمالي الدخل كل شهر"}),e.length>0?M.jsx(_1,{width:"100%",height:400,children:M.jsxs(yee,{data:e,margin:{top:5,right:0,left:0,bottom:5},children:[M.jsx(xD,{dataKey:"name",stroke:"#8892B0"}),M.jsx(TD,{stroke:"#8892B0",tickFormatter:c=>`${c/1e3}k`}),M.jsx(p1,{contentStyle:{backgroundColor:"#0A192F",border:"1px solid #D4AF37",borderRadius:"0.5rem"},labelStyle:{color:"#CCD6F6"},formatter:c=>[l(c),"الإجمالي"]}),M.jsx(yd,{wrapperStyle:{color:"#CCD6F6"}}),M.jsx(bD,{dataKey:"total",fill:"#D4AF37",name:"إجمالي الدخل"})]})}):M.jsx("div",{className:"h-96 flex items-center justify-center text-brand-secondary",children:"لا توجد بيانات كافية لعرض الرسم البياني."})]}),M.jsxs("div",{className:"bg-brand-navy p-6 rounded-xl shadow-lg",children:[M.jsx("h2",{className:"text-2xl font-bold text-brand-gold mb-6",children:"توزيع الدخل على المجموعات"}),n.length>0?M.jsx(_1,{width:"100%",height:400,children:M.jsxs(Mee,{children:[M.jsx(hD,{data:n,cx:"50%",cy:"50%",labelLine:!1,outerRadius:150,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:c,percent:d})=>`${c} ${(d*100).toFixed(0)}%`,children:n.map((c,d)=>M.jsx(gu,{fill:o[d%o.length]},`cell-${d}`))}),M.jsx(p1,{contentStyle:{backgroundColor:"#0A192F",border:"1px solid #D4AF37",borderRadius:"0.5rem"},formatter:c=>[l(c),"الإجمالي"]})]})}):M.jsx("div",{className:"h-96 flex items-center justify-center text-brand-secondary",children:"لا توجد بيانات كافية لعرض الرسم البياني."})]})]})},Oee=()=>{const{payments:t}=Tr(),[e,n]=T.useState(""),[r,i]=T.useState(""),o=T.useMemo(()=>r?t.filter(d=>d.studentName.toLowerCase().includes(r.toLowerCase())).sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime()):[],[t,r]),l=T.useMemo(()=>o.reduce((d,f)=>d+f.amount,0),[o]),c=d=>{d.preventDefault(),i(e)};return M.jsxs("div",{className:"space-y-6",children:[M.jsxs("header",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"بحث متقدم عن طالب"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"اكتب اسم طالب عشان تشوف كل تاريخ دفعه."})]}),M.jsxs("form",{onSubmit:c,className:"bg-brand-navy p-4 rounded-xl shadow-lg flex flex-col md:flex-row gap-4",children:[M.jsxs("div",{className:"relative flex-grow",children:[M.jsx("input",{type:"text",placeholder:"اكتب اسم الطالب هنا...",value:e,onChange:d=>n(d.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 pr-10 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),M.jsx(Qf,{size:20,className:"absolute top-1/2 right-3 -translate-y-1/2 text-brand-secondary"})]}),M.jsx("button",{type:"submit",className:"bg-brand-gold text-brand-blue font-bold py-3 px-8 rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition shadow-md",children:"بحث"})]}),r&&M.jsxs("div",{className:"bg-brand-navy p-2 md:p-4 rounded-xl shadow-lg overflow-x-auto",children:[M.jsxs("h2",{className:"text-xl font-bold text-white p-4",children:['نتائج البحث عن: "',r,'"']}),M.jsxs("table",{className:"w-full min-w-[600px] text-right",children:[M.jsx("thead",{className:"border-b-2 border-brand-gold/20",children:M.jsxs("tr",{children:[M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المجموعة"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المبلغ المدفوع"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"التاريخ"})]})}),M.jsx("tbody",{children:o.length>0?o.map(d=>M.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[M.jsx("td",{className:"p-4 text-brand-light",children:d.groupName}),M.jsxs("td",{className:"p-4 font-mono text-white",children:["ج.م ",d.amount.toLocaleString("ar-EG")]}),M.jsx("td",{className:"p-4 text-brand-secondary",children:new Date(d.date).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]},d.id)):M.jsx("tr",{children:M.jsx("td",{colSpan:3,className:"text-center p-8 text-brand-secondary",children:"لا يوجد طالب بهذا الاسم."})})}),o.length>0&&M.jsx("tfoot",{children:M.jsxs("tr",{className:"border-t-2 border-brand-gold",children:[M.jsx("td",{className:"p-4 font-black text-xl text-white",children:"الإجمالي اللي دفعه الطالب"}),M.jsxs("td",{className:"p-4 font-black text-xl text-brand-gold font-mono",colSpan:2,children:["ج.م ",l.toLocaleString("ar-EG")]})]})})]})]})]})},Nee=()=>{const{groups:t,addGroup:e,deleteGroup:n}=Tr(),[r,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(!1),f=async()=>{if(l(""),!r.trim()){l("اسم المجموعة مينفعش يبقى فاضي.");return}d(!0),await e(r)&&i(""),d(!1)},h=(m,y)=>{if(t.length<=1){alert("لازم يكون فيه مجموعة واحدة على الأقل.");return}window.confirm(`متأكد إنك عايز تمسح مجموعة "${y}"؟`)&&n(m)};return M.jsxs("div",{className:"space-y-6",children:[M.jsxs("header",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"إدارة المجموعات"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"من هنا تقدر تضيف أو تمسح المجموعات بتاعتك."})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"bg-brand-navy p-6 rounded-xl shadow-lg",children:[M.jsx("h3",{className:"text-xl font-bold text-brand-gold mb-4",children:"إضافة مجموعة جديدة"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value),placeholder:"اكتب اسم المجموعة...",className:"flex-grow bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),M.jsx("button",{onClick:f,disabled:c,className:"bg-brand-gold text-brand-blue font-bold p-3 rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition shadow-md disabled:bg-gray-500",children:M.jsx(Xf,{size:20})})]}),o&&M.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),M.jsxs("div",{className:"bg-brand-navy p-6 rounded-xl shadow-lg",children:[M.jsxs("h3",{className:"text-xl font-bold text-brand-gold mb-4",children:["المجموعات الحالية (",t.length,")"]}),M.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 pr-2",children:t.length>0?t.map(m=>M.jsxs("div",{className:"flex justify-between items-center bg-brand-blue p-3 rounded-lg",children:[M.jsx("span",{className:"text-brand-light",children:m.name}),M.jsx("button",{onClick:()=>h(m.id,m.name),className:"text-red-500 hover:text-red-400 transition","aria-label":`حذف مجموعة ${m.name}`,children:M.jsx(fy,{size:20})})]},m.id)):M.jsx("p",{className:"text-brand-secondary text-center py-4",children:"لا توجد مجموعات حاليًا."})})]})]})]})},Ree=()=>{const{currentUser:t,generateGuestCode:e}=ps(),[n,r]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.guestCode);T.useEffect(()=>{o(t==null?void 0:t.guestCode)},[t==null?void 0:t.guestCode]);const l=()=>{i&&(navigator.clipboard.writeText(i),r(!0),setTimeout(()=>r(!1),2e3))},c=async()=>{if(window.confirm("متأكد إنك عايز تعمل كود جديد؟ الكود القديم هيتلغي.")){const d=await e();o(d)}};return M.jsxs("div",{className:"space-y-6",children:[M.jsxs("header",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"مشاركة التقارير مع الضيوف"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"من هنا تقدر تعمل كود تخلّي بيه أي حد يشوف ملخص حساباتك من غير ما يشوف التفاصيل."})]}),M.jsxs("div",{className:"bg-brand-navy p-8 rounded-xl shadow-lg max-w-lg mx-auto text-center",children:[M.jsx("h2",{className:"text-xl font-bold text-brand-light mb-4",children:"كود الدخول للزائر"}),M.jsx("p",{className:"text-brand-secondary mb-6",children:"ادي الكود ده لأي شخص عايز يشوف ملخص المرتب الشهري. الكود ده بيسمح بالاطلاع على الإجمالي فقط."}),M.jsxs("div",{className:"bg-brand-blue border-2 border-dashed border-brand-gold/50 rounded-lg p-6 flex flex-col md:flex-row items-center justify-center gap-4",children:[M.jsx("p",{className:"text-5xl font-black text-brand-gold tracking-[0.2em] font-mono select-all",children:i||"----"}),M.jsx("button",{onClick:l,className:"p-3 bg-brand-secondary text-white rounded-lg hover:bg-opacity-80 transition","aria-label":"نسخ الكود",children:n?M.jsx(oB,{size:24}):M.jsx(dB,{size:24})})]}),n&&M.jsx("p",{className:"text-green-400 mt-2",children:"تم النسخ!"}),M.jsxs("button",{onClick:c,className:"mt-8 bg-brand-gold text-brand-blue font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition shadow-md w-full md:w-auto mx-auto",children:[M.jsx(AB,{size:20}),M.jsx("span",{children:"إنشاء كود جديد"})]})]})]})},Dee=()=>{const[t,e]=T.useState("login"),{login:n,signup:r,loginAsGuest:i}=ps(),[o,l]=T.useState(""),[c,d]=T.useState(""),[f,h]=T.useState(""),[m,y]=T.useState(""),[w,E]=T.useState(""),[S,A]=T.useState(""),[P,C]=T.useState(!1),O=()=>{E(""),A(""),l(""),d(""),h(""),y("")},D=async V=>{V.preventDefault(),O(),C(!0);try{await n(o.trim(),c)}catch(Y){E(Y.message)}finally{C(!1)}},I=async V=>{if(V.preventDefault(),c.length<6){E("كلمة المرور لازم تكون 6 حروف أو أرقام على الأقل.");return}O(),C(!0);try{const Y=await r(f.trim(),o.trim(),c);if(Y.user&&!Y.session){A("تم إنشاء الحساب بنجاح! من فضلك سجل دخولك.");const ne=o;O(),l(ne),e("login")}}catch(Y){E(Y.message||"حصل خطأ، حاول تاني.")}finally{C(!1)}},R=async V=>{if(V.preventDefault(),!m.trim()){E("من فضلك أدخل كود الدخول.");return}O(),C(!0);try{await i(m)}catch(Y){E(Y.message||"حدث خطأ ما.")}finally{C(!1)}},k=()=>M.jsxs("div",{className:"bg-brand-blue p-8 rounded-xl shadow-2xl border border-brand-gold/20",children:[M.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"أهلاً بك يا مستر"}),M.jsx("p",{className:"text-center text-brand-secondary mb-8",children:"سجل دخولك عشان تشوف حساباتك."}),M.jsxs("form",{onSubmit:D,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"phone",className:"block text-brand-light mb-2",children:"رقم الموبايل"}),M.jsx("input",{type:"tel",id:"phone",value:o,onChange:V=>l(V.target.value),className:"w-full bg-brand-navy border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-center",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"block text-brand-light mb-2",children:"كلمة المرور"}),M.jsx("input",{type:"password",id:"password",value:c,onChange:V=>d(V.target.value),className:"w-full bg-brand-navy border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-center",required:!0})]}),M.jsx("button",{type:"submit",disabled:P,className:"w-full py-3 px-6 rounded-lg bg-brand-gold text-brand-blue font-bold hover:bg-opacity-90 transition shadow-lg disabled:bg-gray-500",children:P?"جاري الدخول...":"تسجيل الدخول"})]})]}),G=()=>M.jsxs("div",{className:"bg-brand-blue p-8 rounded-xl shadow-2xl border border-brand-gold/20",children:[M.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"إنشاء حساب جديد"}),M.jsx("p",{className:"text-center text-brand-secondary mb-8",children:"املأ بياناتك عشان تبدأ."}),M.jsxs("form",{onSubmit:I,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"name",className:"block text-brand-light mb-2",children:"اسمك"}),M.jsx("input",{type:"text",id:"name",value:f,onChange:V=>h(V.target.value),className:"w-full bg-brand-navy border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-center",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"phone-signup",className:"block text-brand-light mb-2",children:"رقم الموبايل (ده هيكون اسم المستخدم)"}),M.jsx("input",{type:"tel",id:"phone-signup",value:o,onChange:V=>l(V.target.value),className:"w-full bg-brand-navy border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-center",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password-signup",className:"block text-brand-light mb-2",children:"كلمة المرور (6 حروف أو أرقام على الأقل)"}),M.jsx("input",{type:"password",id:"password-signup",value:c,onChange:V=>d(V.target.value),className:"w-full bg-brand-navy border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-center",required:!0})]}),M.jsx("button",{type:"submit",disabled:P,className:"w-full py-3 px-6 rounded-lg bg-brand-gold text-brand-blue font-bold hover:bg-opacity-90 transition shadow-lg disabled:bg-gray-500",children:P?"جاري الإنشاء...":"إنشاء الحساب"})]})]}),U=()=>M.jsxs("div",{className:"bg-brand-blue p-8 rounded-xl shadow-2xl border border-brand-gold/20",children:[M.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"أهلاً بك يا زائر"}),M.jsx("p",{className:"text-center text-brand-secondary mb-8",children:"أدخل كود الدخول عشان تشوف ملخص الحسابات."}),M.jsxs("form",{onSubmit:R,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"guestCode",className:"block text-brand-light mb-2",children:"كود الدخول"}),M.jsx("input",{type:"text",id:"guestCode",value:m,onChange:V=>y(V.target.value),className:"w-full bg-brand-navy border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-center tracking-[0.2em] font-mono",required:!0})]}),M.jsx("button",{type:"submit",disabled:P,className:"w-full py-3 px-6 rounded-lg bg-brand-gold text-brand-blue font-bold hover:bg-opacity-90 transition shadow-lg disabled:bg-gray-500",children:P?"جاري الدخول...":"دخول كزائر"})]})]}),X=()=>{switch(t){case"login":return k();case"signup":return G();case"guest":return U()}};return M.jsx("div",{className:"min-h-screen bg-brand-navy flex items-center justify-center p-4",children:M.jsxs("div",{className:"w-full max-w-md",children:[M.jsx("div",{className:"flex justify-center mb-8",children:M.jsx(Zf,{})}),X(),w&&M.jsx("p",{className:"text-red-400 text-sm text-center mt-4 p-3 bg-red-900/50 rounded-lg",children:w}),S&&M.jsx("p",{className:"text-green-400 text-sm text-center mt-4 p-3 bg-green-900/50 rounded-lg",children:S}),M.jsxs("div",{className:"mt-6 text-center space-y-2",children:[t!=="signup"&&M.jsx("button",{onClick:()=>{O(),e("signup")},className:"text-brand-secondary hover:text-brand-gold transition",children:"معنديش حساب.. هعمل واحد جديد"}),t!=="login"&&M.jsx("button",{onClick:()=>{O(),e("login")},className:"text-brand-secondary hover:text-brand-gold transition block mx-auto",children:"عندي حساب بالفعل"}),M.jsx("div",{className:"border-t border-brand-secondary/20 my-2"}),t!=="guest"?M.jsx("button",{onClick:()=>{O(),e("guest")},className:"text-brand-secondary hover:text-brand-gold transition",children:"دخول كزائر"}):M.jsx("button",{onClick:()=>{O(),e("login")},className:"text-brand-secondary hover:text-brand-gold transition",children:"دخول كصاحب حساب"})]})]})})},Iee=()=>{const{payments:t}=Tr(),{logout:e,currentUser:n}=ps(),[r,i]=T.useState(new Date().toISOString().slice(0,7)),o=T.useMemo(()=>{const f=new Set(t.map(m=>m.date.slice(0,7))),h=new Date().toISOString().slice(0,7);return f.add(h),Array.from(f).sort().reverse()},[t]),l=T.useMemo(()=>t.filter(f=>f.date.startsWith(r)),[t,r]),c=T.useMemo(()=>l.reduce((f,h)=>f+h.amount,0),[l]),d=f=>`ج.م ${f.toLocaleString("ar-EG")}`;return M.jsx("div",{className:"min-h-screen bg-brand-navy flex flex-col items-center p-4 sm:p-8 text-white",children:M.jsxs("div",{className:"w-full max-w-4xl bg-brand-blue p-6 sm:p-8 rounded-xl shadow-2xl border border-brand-gold/20",children:[M.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 border-b border-brand-secondary/30 pb-4",children:[M.jsx(Zf,{}),M.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-brand-secondary hover:text-white transition mt-4 sm:mt-0",children:[M.jsx(kM,{size:20}),M.jsx("span",{children:"خروج"})]})]}),M.jsxs("div",{className:"text-center",children:[M.jsxs("h1",{className:"text-2xl font-bold text-brand-light",children:["تقرير حسابات مستر ",M.jsx("span",{className:"text-brand-gold",children:n==null?void 0:n.name})]}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"هنا تقدر تشوف ملخص الدخل الشهري وتفاصيله."})]}),M.jsxs("div",{className:"my-8 flex flex-col sm:flex-row items-center justify-center gap-4 relative z-10",children:[M.jsx("label",{htmlFor:"month-select",className:"text-brand-light",children:"اختر الشهر:"}),M.jsx("select",{id:"month-select",value:r,onChange:f=>i(f.target.value),className:"bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white",children:o.map(f=>M.jsx("option",{value:f,children:new Date(f+"-02").toLocaleString("ar-EG",{month:"long",year:"numeric"})},f))})]}),M.jsxs("div",{className:"bg-brand-navy text-center p-8 rounded-lg mb-8",children:[M.jsx("h2",{className:"text-lg text-brand-secondary uppercase",children:"إجمالي دخل الشهر المحدد"}),M.jsx("p",{className:"text-5xl font-black text-brand-gold mt-2 font-mono",children:d(c)})]}),M.jsxs("div",{className:"bg-brand-navy p-2 md:p-4 rounded-xl shadow-lg overflow-x-auto",children:[M.jsx("h3",{className:"text-xl font-bold text-white p-4",children:"تفاصيل الدفعات"}),M.jsxs("table",{className:"w-full min-w-[500px] text-right",children:[M.jsx("thead",{className:"border-b-2 border-brand-gold/20",children:M.jsxs("tr",{children:[M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"الطالب"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المجموعة"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المبلغ المدفوع"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"التاريخ"})]})}),M.jsx("tbody",{children:l.length>0?l.map((f,h)=>M.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[M.jsx("td",{className:"p-4 text-brand-secondary",children:`طالب ${h+1}`}),M.jsx("td",{className:"p-4 text-brand-light",children:f.groupName}),M.jsx("td",{className:"p-4 font-mono text-white",children:d(f.amount)}),M.jsx("td",{className:"p-4 text-brand-secondary",children:new Date(f.date).toLocaleDateString("ar-EG")})]},f.id)):M.jsx("tr",{children:M.jsx("td",{colSpan:4,className:"text-center p-8 text-brand-secondary",children:"لا توجد دفعات مسجلة لهذا الشهر."})})})]})]})]})})},kee=({onClose:t,expenseToEdit:e})=>{const{addExpense:n,updateExpense:r}=Tr(),[i,o]=T.useState(""),[l,c]=T.useState(""),[d,f]=T.useState(new Date().toISOString().split("T")[0]),[h,m]=T.useState({});T.useEffect(()=>{e?(o(e.description),c(String(e.amount)),f(new Date(e.date).toISOString().split("T")[0])):(o(""),c(""),f(new Date().toISOString().split("T")[0]))},[e]);const y=()=>{const S={};return i.trim()||(S.description="وصف المصروف مطلوب"),l?(isNaN(Number(l))||Number(l)<=0)&&(S.amount="لازم المبلغ يكون رقم أكبر من صفر"):S.amount="المبلغ مطلوب",d||(S.date="التاريخ مطلوب"),m(S),Object.keys(S).length===0},w=S=>{if(S.preventDefault(),!y())return;const A={description:i,amount:Number(l),date:d};e?r({...A,id:e.id}):n(A),t()},E=S=>h[S]?M.jsx("p",{className:"text-red-400 text-sm mt-1",children:h[S]}):null;return M.jsxs("form",{onSubmit:w,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"description",className:"block text-brand-light mb-2",children:"وصف المصروف (مثال: إيجار السنتر)"}),M.jsx("input",{type:"text",id:"description",value:i,onChange:S=>o(S.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),E("description")]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"amount",className:"block text-brand-light mb-2",children:"المبلغ"}),M.jsx("input",{type:"number",id:"amount",value:l,onChange:S=>c(S.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),E("amount")]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"date",className:"block text-brand-light mb-2",children:"تاريخ الصرف"}),M.jsx("input",{type:"date",id:"date",value:d,onChange:S=>f(S.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),E("date")]}),M.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[M.jsx("button",{type:"button",onClick:t,className:"py-2 px-6 rounded-lg bg-brand-secondary text-white hover:bg-opacity-80 transition",children:"إلغاء"}),M.jsx("button",{type:"submit",className:"py-2 px-6 rounded-lg bg-brand-gold text-brand-blue font-bold hover:bg-opacity-90 transition shadow-lg",children:e?"حفظ التعديل":"إضافة المصروف"})]})]})},Lee=()=>{const{expenses:t,deleteExpense:e}=Tr(),[n,r]=T.useState(!1),[i,o]=T.useState(null),[l,c]=T.useState(""),[d,f]=T.useState(new Date().toISOString().slice(0,7)),h=T.useMemo(()=>{const A=new Set(t.map(C=>C.date.slice(0,7))),P=new Date().toISOString().slice(0,7);return A.add(P),Array.from(A).sort().reverse()},[t]),m=T.useMemo(()=>t.filter(A=>A.date.startsWith(d)).filter(A=>A.description.toLowerCase().includes(l.toLowerCase())),[t,d,l]),y=T.useMemo(()=>m.reduce((A,P)=>A+P.amount,0),[m]),w=A=>{o(A),r(!0)},E=()=>{o(null),r(!0)},S=A=>{window.confirm("متأكد إنك عايز تمسح المصروف ده؟")&&e(A)};return M.jsxs("div",{className:"space-y-6",children:[M.jsxs("header",{children:[M.jsx("h1",{className:"text-4xl font-black text-white",children:"كشف المصروفات"}),M.jsx("p",{className:"text-brand-secondary mt-2",children:"سجّل وعدّل كل المصروفات الشهرية بتاعتك."})]}),M.jsxs("div",{className:"bg-brand-navy p-4 rounded-xl shadow-lg flex flex-col md:flex-row md:items-center gap-4 flex-wrap",children:[M.jsxs("button",{onClick:E,className:"bg-brand-gold text-brand-blue font-bold py-3 px-5 rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition shadow-md flex-shrink-0",children:[M.jsx(Xf,{size:20}),"إضافة مصروف جديد"]}),M.jsxs("div",{className:"relative flex-grow min-w-[200px]",children:[M.jsx("input",{type:"text",placeholder:"دور على مصروف...",value:l,onChange:A=>c(A.target.value),className:"w-full bg-brand-blue border border-brand-secondary rounded-lg p-3 pr-10 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition text-white"}),M.jsx(Qf,{size:20,className:"absolute top-1/2 right-3 -translate-y-1/2 text-brand-secondary"})]}),M.jsx("select",{value:d,onChange:A=>f(A.target.value),className:"bg-brand-blue border border-brand-secondary rounded-lg p-3 focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition flex-shrink-0 text-white",children:h.map(A=>M.jsx("option",{value:A,children:new Date(A+"-02").toLocaleString("ar-EG",{month:"long",year:"numeric"})},A))})]}),M.jsx("div",{className:"bg-brand-navy p-2 md:p-4 rounded-xl shadow-lg overflow-x-auto",children:M.jsxs("table",{className:"w-full min-w-[600px] text-right",children:[M.jsx("thead",{className:"border-b-2 border-brand-gold/20",children:M.jsxs("tr",{children:[M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"وصف المصروف"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"المبلغ"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold",children:"التاريخ"}),M.jsx("th",{className:"p-4 text-brand-gold font-bold text-center",children:"الإجراءات"})]})}),M.jsx("tbody",{children:m.length>0?m.map(A=>M.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[M.jsx("td",{className:"p-4 text-white font-semibold",children:A.description}),M.jsxs("td",{className:"p-4 font-mono text-brand-light",children:["ج.م ",A.amount.toLocaleString("ar-EG")]}),M.jsx("td",{className:"p-4 text-brand-secondary",children:new Date(A.date).toLocaleDateString("ar-EG")}),M.jsxs("td",{className:"p-4 flex justify-center items-center gap-2",children:[M.jsx("button",{onClick:()=>w(A),className:"p-2 text-blue-400 hover:text-blue-300 transition",children:M.jsx(LM,{size:20})}),M.jsx("button",{onClick:()=>S(A.id),className:"p-2 text-red-500 hover:text-red-400 transition",children:M.jsx(fy,{size:20})})]})]},A.id)):M.jsx("tr",{children:M.jsx("td",{colSpan:4,className:"text-center p-8 text-brand-secondary",children:"مفيش أي مصروفات متسجلة للشهر ده."})})}),M.jsx("tfoot",{children:M.jsxs("tr",{className:"border-t-2 border-brand-gold",children:[M.jsx("td",{className:"p-4 font-black text-xl text-white",children:"الإجمالي"}),M.jsxs("td",{className:"p-4 font-black text-xl text-brand-gold font-mono",colSpan:3,children:["ج.م ",y.toLocaleString("ar-EG")]})]})})]})}),M.jsx(av,{isOpen:n,onClose:()=>r(!1),title:i?"تعديل مصروف":"إضافة مصروف جديد",children:M.jsx(kee,{onClose:()=>r(!1),expenseToEdit:i})})]})},Uee=()=>{const[t,e]=T.useState(Ut.DASHBOARD),[n,r]=T.useState(!1),{error:i}=Tr(),o=c=>{e(c),window.innerWidth<768&&r(!1)},l=()=>{switch(t){case Ut.DASHBOARD:return M.jsx(WE,{setScreen:o});case Ut.MONTHLY_REPORT:return M.jsx(kz,{});case Ut.EXPENSES:return M.jsx(Lee,{});case Ut.STATISTICS:return M.jsx(Pee,{});case Ut.ADVANCED_SEARCH:return M.jsx(Oee,{});case Ut.MANAGE_GROUPS:return M.jsx(Nee,{});case Ut.GUEST_ACCESS:return M.jsx(Ree,{});default:return M.jsx(WE,{setScreen:o})}};return M.jsxs("div",{className:"bg-brand-blue text-brand-light min-h-screen flex font-sans",dir:"rtl",children:[M.jsx("div",{className:`fixed top-0 right-0 h-full z-30 transition-transform duration-300 md:translate-x-0 ${n?"translate-x-0":"translate-x-full"}`,children:M.jsx(GB,{currentScreen:t,setScreen:o})}),M.jsxs("main",{className:"flex-grow p-4 md:p-8 md:mr-64 w-full",children:[M.jsxs("header",{className:"md:hidden flex justify-between items-center mb-4 p-2 bg-brand-navy rounded-lg",children:[M.jsx("div",{className:"flex-1",children:M.jsx(Zf,{})}),M.jsx("button",{onClick:()=>r(!n),className:"text-white z-40",children:n?M.jsx(qM,{size:28}):M.jsx(_B,{size:28})})]}),i&&M.jsxs("div",{className:"bg-red-800/50 border border-red-600 text-red-200 p-4 rounded-lg mb-6 shadow-lg",role:"alert",children:[M.jsx("h3",{className:"font-bold",children:"حدث خطأ!"}),M.jsx("p",{children:i})]}),l()]})]})},Bee=()=>{const{currentUser:t,isGuestSession:e,loading:n}=ps();return n?M.jsx("div",{className:"bg-brand-navy min-h-screen flex items-center justify-center text-white",children:"جاري التحميل..."}):e&&t?M.jsx(Iee,{}):t?M.jsx(Uee,{}):M.jsx(Dee,{})};function qee(){return M.jsx(YU,{children:M.jsx(JU,{children:M.jsx(Bee,{})})})}class jee extends T.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?M.jsx("div",{className:"bg-brand-blue text-brand-light min-h-screen flex items-center justify-center font-sans p-4",dir:"rtl",children:M.jsxs("div",{className:"bg-brand-navy p-8 rounded-xl shadow-2xl border border-red-500/50 max-w-lg text-center",children:[M.jsx("h1",{className:"text-3xl font-bold text-red-400 mb-4",children:"حدث خطأ غير متوقع!"}),M.jsx("p",{className:"text-brand-secondary mb-6",children:"نعتذر عن الإزعاج. حدث خطأ ما في التطبيق. يمكنك محاولة إعادة تحميل الصفحة."}),M.jsx("p",{className:"text-xs text-brand-secondary mb-6",children:"تم تسجيل تفاصيل الخطأ للمراجعة الفنية."}),M.jsx("button",{onClick:this.handleReload,className:"py-3 px-6 rounded-lg bg-brand-gold text-brand-blue font-bold hover:bg-opacity-90 transition shadow-lg",children:"إعادة تحميل الصفحة"})]})}):this.props.children}}const $D=document.getElementById("root");if(!$D)throw new Error("Could not find root element to mount to");const $ee=A2.createRoot($D);$ee.render(M.jsx(uM.StrictMode,{children:M.jsx(jee,{children:M.jsx(qee,{})})}));
